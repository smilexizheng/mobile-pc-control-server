const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BD7Lggdt.js","assets/index-BO3iC3Iy.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _o(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ze={},Kn=[],Wt=()=>{},Qf=()=>!1,$s=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),mo=e=>e.startsWith("onUpdate:"),tt=Object.assign,vo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Zf=Object.prototype.hasOwnProperty,Be=(e,t)=>Zf.call(e,t),ye=Array.isArray,zn=e=>Kr(e)==="[object Map]",sr=e=>Kr(e)==="[object Set]",Jo=e=>Kr(e)==="[object Date]",Le=e=>typeof e=="function",Qe=e=>typeof e=="string",Nt=e=>typeof e=="symbol",He=e=>e!==null&&typeof e=="object",cu=e=>(He(e)||Le(e))&&Le(e.then)&&Le(e.catch),fu=Object.prototype.toString,Kr=e=>fu.call(e),ed=e=>Kr(e).slice(8,-1),du=e=>Kr(e)==="[object Object]",go=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,br=_o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},td=/-(\w)/g,kt=Bs(e=>e.replace(td,(t,n)=>n?n.toUpperCase():"")),nd=/\B([A-Z])/g,Sn=Bs(e=>e.replace(nd,"-$1").toLowerCase()),Fs=Bs(e=>e.charAt(0).toUpperCase()+e.slice(1)),di=Bs(e=>e?`on${Fs(e)}`:""),vn=(e,t)=>!Object.is(e,t),ms=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},hu=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Cs=e=>{const t=parseFloat(e);return isNaN(t)?e:t},rd=e=>{const t=Qe(e)?Number(e):NaN;return isNaN(t)?e:t};let Qo;const Us=()=>Qo||(Qo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _e(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Qe(r)?ad(r):_e(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Qe(e)||He(e))return e}const sd=/;(?![^(]*\))/g,id=/:([^]+)/,od=/\/\*[^]*?\*\//g;function ad(e){const t={};return e.replace(od,"").split(sd).forEach(n=>{if(n){const r=n.split(id);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function xe(e){let t="";if(Qe(e))t=e;else if(ye(e))for(let n=0;n<e.length;n++){const r=xe(e[n]);r&&(t+=r+" ")}else if(He(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ld="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ud=_o(ld);function pu(e){return!!e||e===""}function cd(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=zr(e[r],t[r]);return n}function zr(e,t){if(e===t)return!0;let n=Jo(e),r=Jo(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Nt(e),r=Nt(t),n||r)return e===t;if(n=ye(e),r=ye(t),n||r)return n&&r?cd(e,t):!1;if(n=He(e),r=He(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const l=e.hasOwnProperty(o),a=t.hasOwnProperty(o);if(l&&!a||!l&&a||!zr(e[o],t[o]))return!1}}return String(e)===String(t)}function yo(e,t){return e.findIndex(n=>zr(n,t))}const _u=e=>!!(e&&e.__v_isRef===!0),pe=e=>Qe(e)?e:e==null?"":ye(e)||He(e)&&(e.toString===fu||!Le(e.toString))?_u(e)?pe(e.value):JSON.stringify(e,mu,2):String(e),mu=(e,t)=>_u(t)?mu(e,t.value):zn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[hi(r,i)+" =>"]=s,n),{})}:sr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>hi(n))}:Nt(t)?hi(t):He(t)&&!ye(t)&&!du(t)?String(t):t,hi=(e,t="")=>{var n;return Nt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vt;class vu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vt,!t&&vt&&(this.index=(vt.scopes||(vt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=vt;try{return vt=this,t()}finally{vt=n}}}on(){vt=this}off(){vt=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function gu(e){return new vu(e)}function bo(){return vt}function yu(e,t=!1){vt&&vt.cleanups.push(e)}let Ye;const pi=new WeakSet;class bu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vt&&vt.active&&vt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pi.has(this)&&(pi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zo(this),Su(this);const t=Ye,n=Mt;Ye=this,Mt=!0;try{return this.fn()}finally{wu(this),Ye=t,Mt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)So(t);this.deps=this.depsTail=void 0,Zo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Bi(this)&&this.run()}get dirty(){return Bi(this)}}let Eu=0,Er,xr;function xu(e,t=!1){if(e.flags|=8,t){e.next=xr,xr=e;return}e.next=Er,Er=e}function Eo(){Eu++}function xo(){if(--Eu>0)return;if(xr){let t=xr;for(xr=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Er;){let t=Er;for(Er=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Su(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function wu(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),So(r),fd(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Bi(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Cu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Cu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===kr))return;e.globalVersion=kr;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Bi(e)){e.flags&=-3;return}const n=Ye,r=Mt;Ye=e,Mt=!0;try{Su(e);const s=e.fn(e._value);(t.version===0||vn(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ye=n,Mt=r,wu(e),e.flags&=-3}}function So(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)So(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function fd(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Mt=!0;const Ou=[];function wn(){Ou.push(Mt),Mt=!1}function Cn(){const e=Ou.pop();Mt=e===void 0?!0:e}function Zo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ye;Ye=void 0;try{t()}finally{Ye=n}}}let kr=0;class dd{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class js{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ye||!Mt||Ye===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ye)n=this.activeLink=new dd(Ye,this),Ye.deps?(n.prevDep=Ye.depsTail,Ye.depsTail.nextDep=n,Ye.depsTail=n):Ye.deps=Ye.depsTail=n,Lu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ye.depsTail,n.nextDep=void 0,Ye.depsTail.nextDep=n,Ye.depsTail=n,Ye.deps===n&&(Ye.deps=r)}return n}trigger(t){this.version++,kr++,this.notify(t)}notify(t){Eo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{xo()}}}function Lu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Lu(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Os=new WeakMap,In=Symbol(""),Fi=Symbol(""),Dr=Symbol("");function ut(e,t,n){if(Mt&&Ye){let r=Os.get(e);r||Os.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new js),s.map=r,s.key=n),s.track()}}function tn(e,t,n,r,s,i){const o=Os.get(e);if(!o){kr++;return}const l=a=>{a&&a.trigger()};if(Eo(),t==="clear")o.forEach(l);else{const a=ye(e),d=a&&go(n);if(a&&n==="length"){const c=Number(r);o.forEach((u,f)=>{(f==="length"||f===Dr||!Nt(f)&&f>=c)&&l(u)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),d&&l(o.get(Dr)),t){case"add":a?d&&l(o.get("length")):(l(o.get(In)),zn(e)&&l(o.get(Fi)));break;case"delete":a||(l(o.get(In)),zn(e)&&l(o.get(Fi)));break;case"set":zn(e)&&l(o.get(In));break}}xo()}function hd(e,t){const n=Os.get(e);return n&&n.get(t)}function Bn(e){const t=De(e);return t===e?t:(ut(t,"iterate",Dr),Pt(e)?t:t.map(ct))}function Vs(e){return ut(e=De(e),"iterate",Dr),e}const pd={__proto__:null,[Symbol.iterator](){return _i(this,Symbol.iterator,ct)},concat(...e){return Bn(this).concat(...e.map(t=>ye(t)?Bn(t):t))},entries(){return _i(this,"entries",e=>(e[1]=ct(e[1]),e))},every(e,t){return Jt(this,"every",e,t,void 0,arguments)},filter(e,t){return Jt(this,"filter",e,t,n=>n.map(ct),arguments)},find(e,t){return Jt(this,"find",e,t,ct,arguments)},findIndex(e,t){return Jt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Jt(this,"findLast",e,t,ct,arguments)},findLastIndex(e,t){return Jt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Jt(this,"forEach",e,t,void 0,arguments)},includes(...e){return mi(this,"includes",e)},indexOf(...e){return mi(this,"indexOf",e)},join(e){return Bn(this).join(e)},lastIndexOf(...e){return mi(this,"lastIndexOf",e)},map(e,t){return Jt(this,"map",e,t,void 0,arguments)},pop(){return or(this,"pop")},push(...e){return or(this,"push",e)},reduce(e,...t){return ea(this,"reduce",e,t)},reduceRight(e,...t){return ea(this,"reduceRight",e,t)},shift(){return or(this,"shift")},some(e,t){return Jt(this,"some",e,t,void 0,arguments)},splice(...e){return or(this,"splice",e)},toReversed(){return Bn(this).toReversed()},toSorted(e){return Bn(this).toSorted(e)},toSpliced(...e){return Bn(this).toSpliced(...e)},unshift(...e){return or(this,"unshift",e)},values(){return _i(this,"values",ct)}};function _i(e,t,n){const r=Vs(e),s=r[t]();return r!==e&&!Pt(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const _d=Array.prototype;function Jt(e,t,n,r,s,i){const o=Vs(e),l=o!==e&&!Pt(e),a=o[t];if(a!==_d[t]){const u=a.apply(e,i);return l?ct(u):u}let d=n;o!==e&&(l?d=function(u,f){return n.call(this,ct(u),f,e)}:n.length>2&&(d=function(u,f){return n.call(this,u,f,e)}));const c=a.call(o,d,r);return l&&s?s(c):c}function ea(e,t,n,r){const s=Vs(e);let i=n;return s!==e&&(Pt(e)?n.length>3&&(i=function(o,l,a){return n.call(this,o,l,a,e)}):i=function(o,l,a){return n.call(this,o,ct(l),a,e)}),s[t](i,...r)}function mi(e,t,n){const r=De(e);ut(r,"iterate",Dr);const s=r[t](...n);return(s===-1||s===!1)&&Oo(n[0])?(n[0]=De(n[0]),r[t](...n)):s}function or(e,t,n=[]){wn(),Eo();const r=De(e)[t].apply(e,n);return xo(),Cn(),r}const md=_o("__proto__,__v_isRef,__isVue"),Au=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Nt));function vd(e){Nt(e)||(e=String(e));const t=De(this);return ut(t,"has",e),t.hasOwnProperty(e)}class Tu{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Ld:Du:i?ku:Pu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=ye(t);if(!s){let a;if(o&&(a=pd[n]))return a;if(n==="hasOwnProperty")return vd}const l=Reflect.get(t,n,qe(t)?t:r);return(Nt(n)?Au.has(n):md(n))||(s||ut(t,"get",n),i)?l:qe(l)?o&&go(n)?l:l.value:He(l)?s?Gr(l):it(l):l}}class Ru extends Tu{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const a=Nn(i);if(!Pt(r)&&!Nn(r)&&(i=De(i),r=De(r)),!ye(t)&&qe(i)&&!qe(r))return a?!1:(i.value=r,!0)}const o=ye(t)&&go(n)?Number(n)<t.length:Be(t,n),l=Reflect.set(t,n,r,qe(t)?t:s);return t===De(s)&&(o?vn(r,i)&&tn(t,"set",n,r):tn(t,"add",n,r)),l}deleteProperty(t,n){const r=Be(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&tn(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!Nt(n)||!Au.has(n))&&ut(t,"has",n),r}ownKeys(t){return ut(t,"iterate",ye(t)?"length":In),Reflect.ownKeys(t)}}class gd extends Tu{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const yd=new Ru,bd=new gd,Ed=new Ru(!0);const Ui=e=>e,ns=e=>Reflect.getPrototypeOf(e);function xd(e,t,n){return function(...r){const s=this.__v_raw,i=De(s),o=zn(i),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,d=s[e](...r),c=n?Ui:t?ji:ct;return!t&&ut(i,"iterate",a?Fi:In),{next(){const{value:u,done:f}=d.next();return f?{value:u,done:f}:{value:l?[c(u[0]),c(u[1])]:c(u),done:f}},[Symbol.iterator](){return this}}}}function rs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Sd(e,t){const n={get(s){const i=this.__v_raw,o=De(i),l=De(s);e||(vn(s,l)&&ut(o,"get",s),ut(o,"get",l));const{has:a}=ns(o),d=t?Ui:e?ji:ct;if(a.call(o,s))return d(i.get(s));if(a.call(o,l))return d(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&ut(De(s),"iterate",In),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=De(i),l=De(s);return e||(vn(s,l)&&ut(o,"has",s),ut(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,a=De(l),d=t?Ui:e?ji:ct;return!e&&ut(a,"iterate",In),l.forEach((c,u)=>s.call(i,d(c),d(u),o))}};return tt(n,e?{add:rs("add"),set:rs("set"),delete:rs("delete"),clear:rs("clear")}:{add(s){!t&&!Pt(s)&&!Nn(s)&&(s=De(s));const i=De(this);return ns(i).has.call(i,s)||(i.add(s),tn(i,"add",s,s)),this},set(s,i){!t&&!Pt(i)&&!Nn(i)&&(i=De(i));const o=De(this),{has:l,get:a}=ns(o);let d=l.call(o,s);d||(s=De(s),d=l.call(o,s));const c=a.call(o,s);return o.set(s,i),d?vn(i,c)&&tn(o,"set",s,i):tn(o,"add",s,i),this},delete(s){const i=De(this),{has:o,get:l}=ns(i);let a=o.call(i,s);a||(s=De(s),a=o.call(i,s)),l&&l.call(i,s);const d=i.delete(s);return a&&tn(i,"delete",s,void 0),d},clear(){const s=De(this),i=s.size!==0,o=s.clear();return i&&tn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=xd(s,e,t)}),n}function wo(e,t){const n=Sd(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Be(n,s)&&s in r?n:r,s,i)}const wd={get:wo(!1,!1)},Cd={get:wo(!1,!0)},Od={get:wo(!0,!1)};const Pu=new WeakMap,ku=new WeakMap,Du=new WeakMap,Ld=new WeakMap;function Ad(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Td(e){return e.__v_skip||!Object.isExtensible(e)?0:Ad(ed(e))}function it(e){return Nn(e)?e:Co(e,!1,yd,wd,Pu)}function Iu(e){return Co(e,!1,Ed,Cd,ku)}function Gr(e){return Co(e,!0,bd,Od,Du)}function Co(e,t,n,r,s){if(!He(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Td(e);if(o===0)return e;const l=new Proxy(e,o===2?r:n);return s.set(e,l),l}function gn(e){return Nn(e)?gn(e.__v_raw):!!(e&&e.__v_isReactive)}function Nn(e){return!!(e&&e.__v_isReadonly)}function Pt(e){return!!(e&&e.__v_isShallow)}function Oo(e){return e?!!e.__v_raw:!1}function De(e){const t=e&&e.__v_raw;return t?De(t):e}function Lo(e){return!Be(e,"__v_skip")&&Object.isExtensible(e)&&hu(e,"__v_skip",!0),e}const ct=e=>He(e)?it(e):e,ji=e=>He(e)?Gr(e):e;function qe(e){return e?e.__v_isRef===!0:!1}function z(e){return Mu(e,!1)}function wt(e){return Mu(e,!0)}function Mu(e,t){return qe(e)?e:new Rd(e,t)}class Rd{constructor(t,n){this.dep=new js,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:De(t),this._value=n?t:ct(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Pt(t)||Nn(t);t=r?t:De(t),vn(t,n)&&(this._rawValue=t,this._value=r?t:ct(t),this.dep.trigger())}}function ee(e){return qe(e)?e.value:e}function at(e){return Le(e)?e():ee(e)}const Pd={get:(e,t,n)=>t==="__v_raw"?e:ee(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return qe(s)&&!qe(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Nu(e){return gn(e)?e:new Proxy(e,Pd)}class kd{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new js,{get:r,set:s}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Dd(e){return new kd(e)}function Jn(e){const t=ye(e)?new Array(e.length):{};for(const n in e)t[n]=$u(e,n);return t}class Id{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return hd(De(this._object),this._key)}}class Md{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Yr(e,t,n){return qe(e)?e:Le(e)?new Md(e):He(e)&&arguments.length>1?$u(e,t,n):z(e)}function $u(e,t,n){const r=e[t];return qe(r)?r:new Id(e,t,n)}class Nd{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new js(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=kr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ye!==this)return xu(this,!0),!0}get value(){const t=this.dep.track();return Cu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $d(e,t,n=!1){let r,s;return Le(e)?r=e:(r=e.get,s=e.set),new Nd(r,s,n)}const ss={},Ls=new WeakMap;let Pn;function Bd(e,t=!1,n=Pn){if(n){let r=Ls.get(n);r||Ls.set(n,r=[]),r.push(e)}}function Fd(e,t,n=ze){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:a}=n,d=b=>s?b:Pt(b)||s===!1||s===0?nn(b,1):nn(b);let c,u,f,m,p=!1,y=!1;if(qe(e)?(u=()=>e.value,p=Pt(e)):gn(e)?(u=()=>d(e),p=!0):ye(e)?(y=!0,p=e.some(b=>gn(b)||Pt(b)),u=()=>e.map(b=>{if(qe(b))return b.value;if(gn(b))return d(b);if(Le(b))return a?a(b,2):b()})):Le(e)?t?u=a?()=>a(e,2):e:u=()=>{if(f){wn();try{f()}finally{Cn()}}const b=Pn;Pn=c;try{return a?a(e,3,[m]):e(m)}finally{Pn=b}}:u=Wt,t&&s){const b=u,v=s===!0?1/0:s;u=()=>nn(b(),v)}const E=bo(),_=()=>{c.stop(),E&&E.active&&vo(E.effects,c)};if(i&&t){const b=t;t=(...v)=>{b(...v),_()}}let h=y?new Array(e.length).fill(ss):ss;const g=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(t){const v=c.run();if(s||p||(y?v.some((x,S)=>vn(x,h[S])):vn(v,h))){f&&f();const x=Pn;Pn=c;try{const S=[v,h===ss?void 0:y&&h[0]===ss?[]:h,m];a?a(t,3,S):t(...S),h=v}finally{Pn=x}}}else c.run()};return l&&l(g),c=new bu(u),c.scheduler=o?()=>o(g,!1):g,m=b=>Bd(b,!1,c),f=c.onStop=()=>{const b=Ls.get(c);if(b){if(a)a(b,4);else for(const v of b)v();Ls.delete(c)}},t?r?g(!0):h=c.run():o?o(g.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function nn(e,t=1/0,n){if(t<=0||!He(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,qe(e))nn(e.value,t,n);else if(ye(e))for(let r=0;r<e.length;r++)nn(e[r],t,n);else if(sr(e)||zn(e))e.forEach(r=>{nn(r,t,n)});else if(du(e)){for(const r in e)nn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&nn(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qr(e,t,n,r){try{return r?e(...r):e()}catch(s){Hs(s,t,n)}}function $t(e,t,n,r){if(Le(e)){const s=qr(e,t,n,r);return s&&cu(s)&&s.catch(i=>{Hs(i,t,n)}),s}if(ye(e)){const s=[];for(let i=0;i<e.length;i++)s.push($t(e[i],t,n,r));return s}}function Hs(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ze;if(t){let l=t.parent;const a=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const c=l.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,a,d)===!1)return}l=l.parent}if(i){wn(),qr(i,null,10,[e,a,d]),Cn();return}}Ud(e,n,s,r,o)}function Ud(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const gt=[];let Vt=-1;const Gn=[];let dn=null,Un=0;const Bu=Promise.resolve();let As=null;function Dt(e){const t=As||Bu;return e?t.then(this?e.bind(this):e):t}function jd(e){let t=Vt+1,n=gt.length;for(;t<n;){const r=t+n>>>1,s=gt[r],i=Ir(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Ao(e){if(!(e.flags&1)){const t=Ir(e),n=gt[gt.length-1];!n||!(e.flags&2)&&t>=Ir(n)?gt.push(e):gt.splice(jd(t),0,e),e.flags|=1,Fu()}}function Fu(){As||(As=Bu.then(ju))}function Vd(e){ye(e)?Gn.push(...e):dn&&e.id===-1?dn.splice(Un+1,0,e):e.flags&1||(Gn.push(e),e.flags|=1),Fu()}function ta(e,t,n=Vt+1){for(;n<gt.length;n++){const r=gt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;gt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Uu(e){if(Gn.length){const t=[...new Set(Gn)].sort((n,r)=>Ir(n)-Ir(r));if(Gn.length=0,dn){dn.push(...t);return}for(dn=t,Un=0;Un<dn.length;Un++){const n=dn[Un];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}dn=null,Un=0}}const Ir=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ju(e){try{for(Vt=0;Vt<gt.length;Vt++){const t=gt[Vt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),qr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Vt<gt.length;Vt++){const t=gt[Vt];t&&(t.flags&=-2)}Vt=-1,gt.length=0,Uu(),As=null,(gt.length||Gn.length)&&ju()}}let et=null,Vu=null;function Ts(e){const t=et;return et=e,Vu=e&&e.type.__scopeId||null,t}function Ee(e,t=et,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&_a(-1);const i=Ts(t);let o;try{o=e(...s)}finally{Ts(i),r._d&&_a(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Je(e,t){if(et===null)return e;const n=Ys(et),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,l,a=ze]=t[s];i&&(Le(i)&&(i={mounted:i,updated:i}),i.deep&&nn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return e}function Ln(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let a=l.dir[r];a&&(wn(),$t(a,n,8,[e.el,l,e,t]),Cn())}}const Hu=Symbol("_vte"),Wu=e=>e.__isTeleport,Sr=e=>e&&(e.disabled||e.disabled===""),na=e=>e&&(e.defer||e.defer===""),ra=e=>typeof SVGElement<"u"&&e instanceof SVGElement,sa=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Vi=(e,t)=>{const n=e&&e.to;return Qe(n)?t?t(n):null:n},Ku={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,i,o,l,a,d){const{mc:c,pc:u,pbc:f,o:{insert:m,querySelector:p,createText:y,createComment:E}}=d,_=Sr(t.props);let{shapeFlag:h,children:g,dynamicChildren:b}=t;if(e==null){const v=t.el=y(""),x=t.anchor=y("");m(v,n,r),m(x,n,r);const S=(T,P)=>{h&16&&(s&&s.isCE&&(s.ce._teleportTarget=T),c(g,T,P,s,i,o,l,a))},O=()=>{const T=t.target=Vi(t.props,p),P=zu(T,t,y,m);T&&(o!=="svg"&&ra(T)?o="svg":o!=="mathml"&&sa(T)&&(o="mathml"),_||(S(T,P),vs(t,!1)))};_&&(S(n,x),vs(t,!0)),na(t.props)?mt(()=>{O(),t.el.__isMounted=!0},i):O()}else{if(na(t.props)&&!e.el.__isMounted){mt(()=>{Ku.process(e,t,n,r,s,i,o,l,a,d),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const v=t.anchor=e.anchor,x=t.target=e.target,S=t.targetAnchor=e.targetAnchor,O=Sr(e.props),T=O?n:x,P=O?v:S;if(o==="svg"||ra(x)?o="svg":(o==="mathml"||sa(x))&&(o="mathml"),b?(f(e.dynamicChildren,b,T,s,i,o,l),ko(e,t,!0)):a||u(e,t,T,P,s,i,o,l,!1),_)O?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):is(t,n,v,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const C=t.target=Vi(t.props,p);C&&is(t,C,null,d,0)}else O&&is(t,x,S,d,1);vs(t,_)}},remove(e,t,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:l,anchor:a,targetStart:d,targetAnchor:c,target:u,props:f}=e;if(u&&(s(d),s(c)),i&&s(a),o&16){const m=i||!Sr(f);for(let p=0;p<l.length;p++){const y=l[p];r(y,t,n,m,!!y.dynamicChildren)}}},move:is,hydrate:Hd};function is(e,t,n,{o:{insert:r},m:s},i=2){i===0&&r(e.targetAnchor,t,n);const{el:o,anchor:l,shapeFlag:a,children:d,props:c}=e,u=i===2;if(u&&r(o,t,n),(!u||Sr(c))&&a&16)for(let f=0;f<d.length;f++)s(d[f],t,n,2);u&&r(l,t,n)}function Hd(e,t,n,r,s,i,{o:{nextSibling:o,parentNode:l,querySelector:a,insert:d,createText:c}},u){const f=t.target=Vi(t.props,a);if(f){const m=Sr(t.props),p=f._lpa||f.firstChild;if(t.shapeFlag&16)if(m)t.anchor=u(o(e),t,l(e),n,r,s,i),t.targetStart=p,t.targetAnchor=p&&o(p);else{t.anchor=o(e);let y=p;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")t.targetStart=y;else if(y.data==="teleport anchor"){t.targetAnchor=y,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}y=o(y)}t.targetAnchor||zu(f,t,c,d),u(p&&o(p),t,f,n,r,s,i)}vs(t,m)}return t.anchor&&o(t.anchor)}const Wd=Ku;function vs(e,t){const n=e.ctx;if(n&&n.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function zu(e,t,n,r){const s=t.targetStart=n(""),i=t.targetAnchor=n("");return s[Hu]=i,e&&(r(s,e),r(i,e)),i}const hn=Symbol("_leaveCb"),os=Symbol("_enterCb");function Gu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xe(()=>{e.isMounted=!0}),zs(()=>{e.isUnmounting=!0}),e}const Ot=[Function,Array],Yu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ot,onEnter:Ot,onAfterEnter:Ot,onEnterCancelled:Ot,onBeforeLeave:Ot,onLeave:Ot,onAfterLeave:Ot,onLeaveCancelled:Ot,onBeforeAppear:Ot,onAppear:Ot,onAfterAppear:Ot,onAppearCancelled:Ot},qu=e=>{const t=e.subTree;return t.component?qu(t.component):t},Kd={name:"BaseTransition",props:Yu,setup(e,{slots:t}){const n=zt(),r=Gu();return()=>{const s=t.default&&To(t.default(),!0);if(!s||!s.length)return;const i=Xu(s),o=De(e),{mode:l}=o;if(r.isLeaving)return vi(i);const a=ia(i);if(!a)return vi(i);let d=Mr(a,o,r,n,u=>d=u);a.type!==dt&&$n(a,d);let c=n.subTree&&ia(n.subTree);if(c&&c.type!==dt&&!kn(a,c)&&qu(n).type!==dt){let u=Mr(c,o,r,n);if($n(c,u),l==="out-in"&&a.type!==dt)return r.isLeaving=!0,u.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete u.afterLeave,c=void 0},vi(i);l==="in-out"&&a.type!==dt?u.delayLeave=(f,m,p)=>{const y=Ju(r,c);y[String(c.key)]=c,f[hn]=()=>{m(),f[hn]=void 0,delete d.delayedLeave,c=void 0},d.delayedLeave=()=>{p(),delete d.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function Xu(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==dt){t=n;break}}return t}const zd=Kd;function Ju(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Mr(e,t,n,r,s){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:a,onEnter:d,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:m,onAfterLeave:p,onLeaveCancelled:y,onBeforeAppear:E,onAppear:_,onAfterAppear:h,onAppearCancelled:g}=t,b=String(e.key),v=Ju(n,e),x=(T,P)=>{T&&$t(T,r,9,P)},S=(T,P)=>{const C=P[1];x(T,P),ye(T)?T.every(w=>w.length<=1)&&C():T.length<=1&&C()},O={mode:o,persisted:l,beforeEnter(T){let P=a;if(!n.isMounted)if(i)P=E||a;else return;T[hn]&&T[hn](!0);const C=v[b];C&&kn(e,C)&&C.el[hn]&&C.el[hn](),x(P,[T])},enter(T){let P=d,C=c,w=u;if(!n.isMounted)if(i)P=_||d,C=h||c,w=g||u;else return;let L=!1;const A=T[os]=M=>{L||(L=!0,M?x(w,[T]):x(C,[T]),O.delayedLeave&&O.delayedLeave(),T[os]=void 0)};P?S(P,[T,A]):A()},leave(T,P){const C=String(e.key);if(T[os]&&T[os](!0),n.isUnmounting)return P();x(f,[T]);let w=!1;const L=T[hn]=A=>{w||(w=!0,P(),A?x(y,[T]):x(p,[T]),T[hn]=void 0,v[C]===e&&delete v[C])};v[C]=e,m?S(m,[T,L]):L()},clone(T){const P=Mr(T,t,n,r,s);return s&&s(P),P}};return O}function vi(e){if(Ws(e))return e=bn(e),e.children=null,e}function ia(e){if(!Ws(e))return Wu(e.type)&&e.children?Xu(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Le(n.default))return n.default()}}function $n(e,t){e.shapeFlag&6&&e.component?(e.transition=t,$n(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function To(e,t=!1,n){let r=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Se?(o.patchFlag&128&&s++,r=r.concat(To(o.children,t,l))):(t||o.type!==dt)&&r.push(l!=null?bn(o,{key:l}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ht(e,t){return Le(e)?tt({name:e.name},t,{setup:e}):e}function Qu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Rs(e,t,n,r,s=!1){if(ye(e)){e.forEach((p,y)=>Rs(p,t&&(ye(t)?t[y]:t),n,r,s));return}if(Yn(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Rs(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Ys(r.component):r.el,o=s?null:i,{i:l,r:a}=e,d=t&&t.r,c=l.refs===ze?l.refs={}:l.refs,u=l.setupState,f=De(u),m=u===ze?()=>!1:p=>Be(f,p);if(d!=null&&d!==a&&(Qe(d)?(c[d]=null,m(d)&&(u[d]=null)):qe(d)&&(d.value=null)),Le(a))qr(a,l,12,[o,c]);else{const p=Qe(a),y=qe(a);if(p||y){const E=()=>{if(e.f){const _=p?m(a)?u[a]:c[a]:a.value;s?ye(_)&&vo(_,i):ye(_)?_.includes(i)||_.push(i):p?(c[a]=[i],m(a)&&(u[a]=c[a])):(a.value=[i],e.k&&(c[e.k]=a.value))}else p?(c[a]=o,m(a)&&(u[a]=o)):y&&(a.value=o,e.k&&(c[e.k]=o))};o?(E.id=-1,mt(E,n)):E()}}}Us().requestIdleCallback;Us().cancelIdleCallback;const Yn=e=>!!e.type.__asyncLoader,Ws=e=>e.type.__isKeepAlive;function Zu(e,t){tc(e,"a",t)}function ec(e,t){tc(e,"da",t)}function tc(e,t,n=rt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ks(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Ws(s.parent.vnode)&&Gd(r,t,n,s),s=s.parent}}function Gd(e,t,n,r){const s=Ks(t,e,r,!0);On(()=>{vo(r[t],s)},n)}function Ks(e,t,n=rt,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{wn();const l=Jr(n),a=$t(t,n,e,o);return l(),Cn(),a});return r?s.unshift(i):s.push(i),i}}const on=e=>(t,n=rt)=>{(!Fr||e==="sp")&&Ks(e,(...r)=>t(...r),n)},nc=on("bm"),Xe=on("m"),Yd=on("bu"),rc=on("u"),zs=on("bum"),On=on("um"),qd=on("sp"),Xd=on("rtg"),Jd=on("rtc");function Qd(e,t=rt){Ks("ec",e,t)}const sc="components";function ft(e,t){return oc(sc,e,!0,t)||e}const ic=Symbol.for("v-ndc");function Nr(e){return Qe(e)?oc(sc,e,!1)||e:e||ic}function oc(e,t,n=!0,r=!1){const s=et||rt;if(s){const i=s.type;{const l=Bh(i,!1);if(l&&(l===t||l===kt(t)||l===Fs(kt(t))))return i}const o=oa(s[e]||i[e],t)||oa(s.appContext[e],t);return!o&&r?i:o}}function oa(e,t){return e&&(e[t]||e[kt(t)]||e[Fs(kt(t))])}function st(e,t,n,r){let s;const i=n,o=ye(e);if(o||Qe(e)){const l=o&&gn(e);let a=!1;l&&(a=!Pt(e),e=Vs(e)),s=new Array(e.length);for(let d=0,c=e.length;d<c;d++)s[d]=t(a?ct(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(He(e))if(e[Symbol.iterator])s=Array.from(e,(l,a)=>t(l,a,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let a=0,d=l.length;a<d;a++){const c=l[a];s[a]=t(e[c],c,a,i)}}else s=[];return s}function Re(e,t,n={},r,s){if(et.ce||et.parent&&Yn(et.parent)&&et.parent.ce)return t!=="default"&&(n.name=t),$(),Pe(Se,null,[oe("slot",n,r&&r())],64);let i=e[t];i&&i._c&&(i._d=!1),$();const o=i&&ac(i(n)),l=n.key||o&&o.key,a=Pe(Se,{key:(l&&!Nt(l)?l:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function ac(e){return e.some(t=>Br(t)?!(t.type===dt||t.type===Se&&!ac(t.children)):!0)?e:null}const Hi=e=>e?Oc(e)?Ys(e):Hi(e.parent):null,wr=tt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Hi(e.parent),$root:e=>Hi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>uc(e),$forceUpdate:e=>e.f||(e.f=()=>{Ao(e.update)}),$nextTick:e=>e.n||(e.n=Dt.bind(e.proxy)),$watch:e=>Eh.bind(e)}),gi=(e,t)=>e!==ze&&!e.__isScriptSetup&&Be(e,t),Zd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:a}=e;let d;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(gi(r,t))return o[t]=1,r[t];if(s!==ze&&Be(s,t))return o[t]=2,s[t];if((d=e.propsOptions[0])&&Be(d,t))return o[t]=3,i[t];if(n!==ze&&Be(n,t))return o[t]=4,n[t];Wi&&(o[t]=0)}}const c=wr[t];let u,f;if(c)return t==="$attrs"&&ut(e.attrs,"get",""),c(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(n!==ze&&Be(n,t))return o[t]=4,n[t];if(f=a.config.globalProperties,Be(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return gi(s,t)?(s[t]=n,!0):r!==ze&&Be(r,t)?(r[t]=n,!0):Be(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!n[o]||e!==ze&&Be(e,o)||gi(t,o)||(l=i[0])&&Be(l,o)||Be(r,o)||Be(wr,o)||Be(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Be(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function eh(){return th().slots}function th(){const e=zt();return e.setupContext||(e.setupContext=Ac(e))}function aa(e){return ye(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Wi=!0;function nh(e){const t=uc(e),n=e.proxy,r=e.ctx;Wi=!1,t.beforeCreate&&la(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:l,provide:a,inject:d,created:c,beforeMount:u,mounted:f,beforeUpdate:m,updated:p,activated:y,deactivated:E,beforeDestroy:_,beforeUnmount:h,destroyed:g,unmounted:b,render:v,renderTracked:x,renderTriggered:S,errorCaptured:O,serverPrefetch:T,expose:P,inheritAttrs:C,components:w,directives:L,filters:A}=t;if(d&&rh(d,r,null),o)for(const N in o){const U=o[N];Le(U)&&(r[N]=U.bind(n))}if(s){const N=s.call(n,n);He(N)&&(e.data=it(N))}if(Wi=!0,i)for(const N in i){const U=i[N],J=Le(U)?U.bind(n,n):Le(U.get)?U.get.bind(n,n):Wt,q=!Le(U)&&Le(U.set)?U.set.bind(n):Wt,le=ae({get:J,set:q});Object.defineProperty(r,N,{enumerable:!0,configurable:!0,get:()=>le.value,set:de=>le.value=de})}if(l)for(const N in l)lc(l[N],r,n,N);if(a){const N=Le(a)?a.call(n):a;Reflect.ownKeys(N).forEach(U=>{qn(U,N[U])})}c&&la(c,e,"c");function D(N,U){ye(U)?U.forEach(J=>N(J.bind(n))):U&&N(U.bind(n))}if(D(nc,u),D(Xe,f),D(Yd,m),D(rc,p),D(Zu,y),D(ec,E),D(Qd,O),D(Jd,x),D(Xd,S),D(zs,h),D(On,b),D(qd,T),ye(P))if(P.length){const N=e.exposed||(e.exposed={});P.forEach(U=>{Object.defineProperty(N,U,{get:()=>n[U],set:J=>n[U]=J})})}else e.exposed||(e.exposed={});v&&e.render===Wt&&(e.render=v),C!=null&&(e.inheritAttrs=C),w&&(e.components=w),L&&(e.directives=L),T&&Qu(e)}function rh(e,t,n=Wt){ye(e)&&(e=Ki(e));for(const r in e){const s=e[r];let i;He(s)?"default"in s?i=xt(s.from||r,s.default,!0):i=xt(s.from||r):i=xt(s),qe(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function la(e,t,n){$t(ye(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function lc(e,t,n,r){let s=r.includes(".")?Ec(n,r):()=>n[r];if(Qe(e)){const i=t[e];Le(i)&&Me(s,i)}else if(Le(e))Me(s,e.bind(n));else if(He(e))if(ye(e))e.forEach(i=>lc(i,t,n,r));else{const i=Le(e.handler)?e.handler.bind(n):t[e.handler];Le(i)&&Me(s,i,e)}}function uc(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let a;return l?a=l:!s.length&&!n&&!r?a=t:(a={},s.length&&s.forEach(d=>Ps(a,d,o,!0)),Ps(a,t,o)),He(t)&&i.set(t,a),a}function Ps(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Ps(e,i,n,!0),s&&s.forEach(o=>Ps(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const l=sh[o]||n&&n[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const sh={data:ua,props:ca,emits:ca,methods:gr,computed:gr,beforeCreate:_t,created:_t,beforeMount:_t,mounted:_t,beforeUpdate:_t,updated:_t,beforeDestroy:_t,beforeUnmount:_t,destroyed:_t,unmounted:_t,activated:_t,deactivated:_t,errorCaptured:_t,serverPrefetch:_t,components:gr,directives:gr,watch:oh,provide:ua,inject:ih};function ua(e,t){return t?e?function(){return tt(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function ih(e,t){return gr(Ki(e),Ki(t))}function Ki(e){if(ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function _t(e,t){return e?[...new Set([].concat(e,t))]:t}function gr(e,t){return e?tt(Object.create(null),e,t):t}function ca(e,t){return e?ye(e)&&ye(t)?[...new Set([...e,...t])]:tt(Object.create(null),aa(e),aa(t??{})):t}function oh(e,t){if(!e)return t;if(!t)return e;const n=tt(Object.create(null),e);for(const r in t)n[r]=_t(e[r],t[r]);return n}function cc(){return{app:null,config:{isNativeTag:Qf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ah=0;function lh(e,t){return function(r,s=null){Le(r)||(r=tt({},r)),s!=null&&!He(s)&&(s=null);const i=cc(),o=new WeakSet,l=[];let a=!1;const d=i.app={_uid:ah++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Uh,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&Le(c.install)?(o.add(c),c.install(d,...u)):Le(c)&&(o.add(c),c(d,...u))),d},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),d},component(c,u){return u?(i.components[c]=u,d):i.components[c]},directive(c,u){return u?(i.directives[c]=u,d):i.directives[c]},mount(c,u,f){if(!a){const m=d._ceVNode||oe(r,s);return m.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(m,c,f),a=!0,d._container=c,c.__vue_app__=d,Ys(m.component)}},onUnmount(c){l.push(c)},unmount(){a&&($t(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(c,u){return i.provides[c]=u,d},runWithContext(c){const u=Mn;Mn=d;try{return c()}finally{Mn=u}}};return d}}let Mn=null;function qn(e,t){if(rt){let n=rt.provides;const r=rt.parent&&rt.parent.provides;r===n&&(n=rt.provides=Object.create(r)),n[e]=t}}function xt(e,t,n=!1){const r=rt||et;if(r||Mn){const s=Mn?Mn._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Le(t)?t.call(r&&r.proxy):t}}function Ro(){return!!(rt||et||Mn)}const fc={},dc=()=>Object.create(fc),hc=e=>Object.getPrototypeOf(e)===fc;function uh(e,t,n,r=!1){const s={},i=dc();e.propsDefaults=Object.create(null),pc(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:Iu(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function ch(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,l=De(s),[a]=e.propsOptions;let d=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let f=c[u];if(Gs(e.emitsOptions,f))continue;const m=t[f];if(a)if(Be(i,f))m!==i[f]&&(i[f]=m,d=!0);else{const p=kt(f);s[p]=zi(a,l,p,m,e,!1)}else m!==i[f]&&(i[f]=m,d=!0)}}}else{pc(e,t,s,i)&&(d=!0);let c;for(const u in l)(!t||!Be(t,u)&&((c=Sn(u))===u||!Be(t,c)))&&(a?n&&(n[u]!==void 0||n[c]!==void 0)&&(s[u]=zi(a,l,u,void 0,e,!0)):delete s[u]);if(i!==l)for(const u in i)(!t||!Be(t,u))&&(delete i[u],d=!0)}d&&tn(e.attrs,"set","")}function pc(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,l;if(t)for(let a in t){if(br(a))continue;const d=t[a];let c;s&&Be(s,c=kt(a))?!i||!i.includes(c)?n[c]=d:(l||(l={}))[c]=d:Gs(e.emitsOptions,a)||(!(a in r)||d!==r[a])&&(r[a]=d,o=!0)}if(i){const a=De(n),d=l||ze;for(let c=0;c<i.length;c++){const u=i[c];n[u]=zi(s,a,u,d[u],e,!Be(d,u))}}return o}function zi(e,t,n,r,s,i){const o=e[n];if(o!=null){const l=Be(o,"default");if(l&&r===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&Le(a)){const{propsDefaults:d}=s;if(n in d)r=d[n];else{const c=Jr(s);r=d[n]=a.call(null,t),c()}}else r=a;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===Sn(n))&&(r=!0))}return r}const fh=new WeakMap;function _c(e,t,n=!1){const r=n?fh:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},l=[];let a=!1;if(!Le(e)){const c=u=>{a=!0;const[f,m]=_c(u,t,!0);tt(o,f),m&&l.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!a)return He(e)&&r.set(e,Kn),Kn;if(ye(i))for(let c=0;c<i.length;c++){const u=kt(i[c]);fa(u)&&(o[u]=ze)}else if(i)for(const c in i){const u=kt(c);if(fa(u)){const f=i[c],m=o[u]=ye(f)||Le(f)?{type:f}:tt({},f),p=m.type;let y=!1,E=!0;if(ye(p))for(let _=0;_<p.length;++_){const h=p[_],g=Le(h)&&h.name;if(g==="Boolean"){y=!0;break}else g==="String"&&(E=!1)}else y=Le(p)&&p.name==="Boolean";m[0]=y,m[1]=E,(y||Be(m,"default"))&&l.push(u)}}const d=[o,l];return He(e)&&r.set(e,d),d}function fa(e){return e[0]!=="$"&&!br(e)}const mc=e=>e[0]==="_"||e==="$stable",Po=e=>ye(e)?e.map(Ht):[Ht(e)],dh=(e,t,n)=>{if(t._n)return t;const r=Ee((...s)=>Po(t(...s)),n);return r._c=!1,r},vc=(e,t,n)=>{const r=e._ctx;for(const s in e){if(mc(s))continue;const i=e[s];if(Le(i))t[s]=dh(s,i,r);else if(i!=null){const o=Po(i);t[s]=()=>o}}},gc=(e,t)=>{const n=Po(t);e.slots.default=()=>n},yc=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},hh=(e,t,n)=>{const r=e.slots=dc();if(e.vnode.shapeFlag&32){const s=t._;s?(yc(r,t,n),n&&hu(r,"_",s,!0)):vc(t,r)}else t&&gc(e,t)},ph=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=ze;if(r.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:yc(s,t,n):(i=!t.$stable,vc(t,s)),o=t}else t&&(gc(e,t),o={default:1});if(i)for(const l in s)!mc(l)&&o[l]==null&&delete s[l]},mt=Ah;function _h(e){return mh(e)}function mh(e,t){const n=Us();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:a,setText:d,setElementText:c,parentNode:u,nextSibling:f,setScopeId:m=Wt,insertStaticContent:p}=e,y=(k,R,B,H=null,K=null,W=null,ie=void 0,se=null,Z=!!R.dynamicChildren)=>{if(k===R)return;k&&!kn(k,R)&&(H=F(k),de(k,K,W,!0),k=null),R.patchFlag===-2&&(Z=!1,R.dynamicChildren=null);const{type:G,ref:he,shapeFlag:ue}=R;switch(G){case Xr:E(k,R,B,H);break;case dt:_(k,R,B,H);break;case bi:k==null&&h(R,B,H,ie);break;case Se:w(k,R,B,H,K,W,ie,se,Z);break;default:ue&1?v(k,R,B,H,K,W,ie,se,Z):ue&6?L(k,R,B,H,K,W,ie,se,Z):(ue&64||ue&128)&&G.process(k,R,B,H,K,W,ie,se,Z,ne)}he!=null&&K&&Rs(he,k&&k.ref,W,R||k,!R)},E=(k,R,B,H)=>{if(k==null)r(R.el=l(R.children),B,H);else{const K=R.el=k.el;R.children!==k.children&&d(K,R.children)}},_=(k,R,B,H)=>{k==null?r(R.el=a(R.children||""),B,H):R.el=k.el},h=(k,R,B,H)=>{[k.el,k.anchor]=p(k.children,R,B,H,k.el,k.anchor)},g=({el:k,anchor:R},B,H)=>{let K;for(;k&&k!==R;)K=f(k),r(k,B,H),k=K;r(R,B,H)},b=({el:k,anchor:R})=>{let B;for(;k&&k!==R;)B=f(k),s(k),k=B;s(R)},v=(k,R,B,H,K,W,ie,se,Z)=>{R.type==="svg"?ie="svg":R.type==="math"&&(ie="mathml"),k==null?x(R,B,H,K,W,ie,se,Z):T(k,R,K,W,ie,se,Z)},x=(k,R,B,H,K,W,ie,se)=>{let Z,G;const{props:he,shapeFlag:ue,transition:ge,dirs:we}=k;if(Z=k.el=o(k.type,W,he&&he.is,he),ue&8?c(Z,k.children):ue&16&&O(k.children,Z,null,H,K,yi(k,W),ie,se),we&&Ln(k,null,H,"created"),S(Z,k,k.scopeId,ie,H),he){for(const Ve in he)Ve!=="value"&&!br(Ve)&&i(Z,Ve,null,he[Ve],W,H);"value"in he&&i(Z,"value",null,he.value,W),(G=he.onVnodeBeforeMount)&&Ut(G,H,k)}we&&Ln(k,null,H,"beforeMount");const ke=vh(K,ge);ke&&ge.beforeEnter(Z),r(Z,R,B),((G=he&&he.onVnodeMounted)||ke||we)&&mt(()=>{G&&Ut(G,H,k),ke&&ge.enter(Z),we&&Ln(k,null,H,"mounted")},K)},S=(k,R,B,H,K)=>{if(B&&m(k,B),H)for(let W=0;W<H.length;W++)m(k,H[W]);if(K){let W=K.subTree;if(R===W||Sc(W.type)&&(W.ssContent===R||W.ssFallback===R)){const ie=K.vnode;S(k,ie,ie.scopeId,ie.slotScopeIds,K.parent)}}},O=(k,R,B,H,K,W,ie,se,Z=0)=>{for(let G=Z;G<k.length;G++){const he=k[G]=se?pn(k[G]):Ht(k[G]);y(null,he,R,B,H,K,W,ie,se)}},T=(k,R,B,H,K,W,ie)=>{const se=R.el=k.el;let{patchFlag:Z,dynamicChildren:G,dirs:he}=R;Z|=k.patchFlag&16;const ue=k.props||ze,ge=R.props||ze;let we;if(B&&An(B,!1),(we=ge.onVnodeBeforeUpdate)&&Ut(we,B,R,k),he&&Ln(R,k,B,"beforeUpdate"),B&&An(B,!0),(ue.innerHTML&&ge.innerHTML==null||ue.textContent&&ge.textContent==null)&&c(se,""),G?P(k.dynamicChildren,G,se,B,H,yi(R,K),W):ie||U(k,R,se,null,B,H,yi(R,K),W,!1),Z>0){if(Z&16)C(se,ue,ge,B,K);else if(Z&2&&ue.class!==ge.class&&i(se,"class",null,ge.class,K),Z&4&&i(se,"style",ue.style,ge.style,K),Z&8){const ke=R.dynamicProps;for(let Ve=0;Ve<ke.length;Ve++){const Ae=ke[Ve],pt=ue[Ae],V=ge[Ae];(V!==pt||Ae==="value")&&i(se,Ae,pt,V,K,B)}}Z&1&&k.children!==R.children&&c(se,R.children)}else!ie&&G==null&&C(se,ue,ge,B,K);((we=ge.onVnodeUpdated)||he)&&mt(()=>{we&&Ut(we,B,R,k),he&&Ln(R,k,B,"updated")},H)},P=(k,R,B,H,K,W,ie)=>{for(let se=0;se<R.length;se++){const Z=k[se],G=R[se],he=Z.el&&(Z.type===Se||!kn(Z,G)||Z.shapeFlag&70)?u(Z.el):B;y(Z,G,he,null,H,K,W,ie,!0)}},C=(k,R,B,H,K)=>{if(R!==B){if(R!==ze)for(const W in R)!br(W)&&!(W in B)&&i(k,W,R[W],null,K,H);for(const W in B){if(br(W))continue;const ie=B[W],se=R[W];ie!==se&&W!=="value"&&i(k,W,se,ie,K,H)}"value"in B&&i(k,"value",R.value,B.value,K)}},w=(k,R,B,H,K,W,ie,se,Z)=>{const G=R.el=k?k.el:l(""),he=R.anchor=k?k.anchor:l("");let{patchFlag:ue,dynamicChildren:ge,slotScopeIds:we}=R;we&&(se=se?se.concat(we):we),k==null?(r(G,B,H),r(he,B,H),O(R.children||[],B,he,K,W,ie,se,Z)):ue>0&&ue&64&&ge&&k.dynamicChildren?(P(k.dynamicChildren,ge,B,K,W,ie,se),(R.key!=null||K&&R===K.subTree)&&ko(k,R,!0)):U(k,R,B,he,K,W,ie,se,Z)},L=(k,R,B,H,K,W,ie,se,Z)=>{R.slotScopeIds=se,k==null?R.shapeFlag&512?K.ctx.activate(R,B,H,ie,Z):A(R,B,H,K,W,ie,Z):M(k,R,Z)},A=(k,R,B,H,K,W,ie)=>{const se=k.component=Ih(k,H,K);if(Ws(k)&&(se.ctx.renderer=ne),Mh(se,!1,ie),se.asyncDep){if(K&&K.registerDep(se,D,ie),!k.el){const Z=se.subTree=oe(dt);_(null,Z,R,B)}}else D(se,k,R,B,K,W,ie)},M=(k,R,B)=>{const H=R.component=k.component;if(Oh(k,R,B))if(H.asyncDep&&!H.asyncResolved){N(H,R,B);return}else H.next=R,H.update();else R.el=k.el,H.vnode=R},D=(k,R,B,H,K,W,ie)=>{const se=()=>{if(k.isMounted){let{next:ue,bu:ge,u:we,parent:ke,vnode:Ve}=k;{const Q=bc(k);if(Q){ue&&(ue.el=Ve.el,N(k,ue,ie)),Q.asyncDep.then(()=>{k.isUnmounted||se()});return}}let Ae=ue,pt;An(k,!1),ue?(ue.el=Ve.el,N(k,ue,ie)):ue=Ve,ge&&ms(ge),(pt=ue.props&&ue.props.onVnodeBeforeUpdate)&&Ut(pt,ke,ue,Ve),An(k,!0);const V=ha(k),X=k.subTree;k.subTree=V,y(X,V,u(X.el),F(X),k,K,W),ue.el=V.el,Ae===null&&Lh(k,V.el),we&&mt(we,K),(pt=ue.props&&ue.props.onVnodeUpdated)&&mt(()=>Ut(pt,ke,ue,Ve),K)}else{let ue;const{el:ge,props:we}=R,{bm:ke,m:Ve,parent:Ae,root:pt,type:V}=k,X=Yn(R);An(k,!1),ke&&ms(ke),!X&&(ue=we&&we.onVnodeBeforeMount)&&Ut(ue,Ae,R),An(k,!0);{pt.ce&&pt.ce._injectChildStyle(V);const Q=k.subTree=ha(k);y(null,Q,B,H,k,K,W),R.el=Q.el}if(Ve&&mt(Ve,K),!X&&(ue=we&&we.onVnodeMounted)){const Q=R;mt(()=>Ut(ue,Ae,Q),K)}(R.shapeFlag&256||Ae&&Yn(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&k.a&&mt(k.a,K),k.isMounted=!0,R=B=H=null}};k.scope.on();const Z=k.effect=new bu(se);k.scope.off();const G=k.update=Z.run.bind(Z),he=k.job=Z.runIfDirty.bind(Z);he.i=k,he.id=k.uid,Z.scheduler=()=>Ao(he),An(k,!0),G()},N=(k,R,B)=>{R.component=k;const H=k.vnode.props;k.vnode=R,k.next=null,ch(k,R.props,H,B),ph(k,R.children,B),wn(),ta(k),Cn()},U=(k,R,B,H,K,W,ie,se,Z=!1)=>{const G=k&&k.children,he=k?k.shapeFlag:0,ue=R.children,{patchFlag:ge,shapeFlag:we}=R;if(ge>0){if(ge&128){q(G,ue,B,H,K,W,ie,se,Z);return}else if(ge&256){J(G,ue,B,H,K,W,ie,se,Z);return}}we&8?(he&16&&Ce(G,K,W),ue!==G&&c(B,ue)):he&16?we&16?q(G,ue,B,H,K,W,ie,se,Z):Ce(G,K,W,!0):(he&8&&c(B,""),we&16&&O(ue,B,H,K,W,ie,se,Z))},J=(k,R,B,H,K,W,ie,se,Z)=>{k=k||Kn,R=R||Kn;const G=k.length,he=R.length,ue=Math.min(G,he);let ge;for(ge=0;ge<ue;ge++){const we=R[ge]=Z?pn(R[ge]):Ht(R[ge]);y(k[ge],we,B,null,K,W,ie,se,Z)}G>he?Ce(k,K,W,!0,!1,ue):O(R,B,H,K,W,ie,se,Z,ue)},q=(k,R,B,H,K,W,ie,se,Z)=>{let G=0;const he=R.length;let ue=k.length-1,ge=he-1;for(;G<=ue&&G<=ge;){const we=k[G],ke=R[G]=Z?pn(R[G]):Ht(R[G]);if(kn(we,ke))y(we,ke,B,null,K,W,ie,se,Z);else break;G++}for(;G<=ue&&G<=ge;){const we=k[ue],ke=R[ge]=Z?pn(R[ge]):Ht(R[ge]);if(kn(we,ke))y(we,ke,B,null,K,W,ie,se,Z);else break;ue--,ge--}if(G>ue){if(G<=ge){const we=ge+1,ke=we<he?R[we].el:H;for(;G<=ge;)y(null,R[G]=Z?pn(R[G]):Ht(R[G]),B,ke,K,W,ie,se,Z),G++}}else if(G>ge)for(;G<=ue;)de(k[G],K,W,!0),G++;else{const we=G,ke=G,Ve=new Map;for(G=ke;G<=ge;G++){const be=R[G]=Z?pn(R[G]):Ht(R[G]);be.key!=null&&Ve.set(be.key,G)}let Ae,pt=0;const V=ge-ke+1;let X=!1,Q=0;const me=new Array(V);for(G=0;G<V;G++)me[G]=0;for(G=we;G<=ue;G++){const be=k[G];if(pt>=V){de(be,K,W,!0);continue}let Fe;if(be.key!=null)Fe=Ve.get(be.key);else for(Ae=ke;Ae<=ge;Ae++)if(me[Ae-ke]===0&&kn(be,R[Ae])){Fe=Ae;break}Fe===void 0?de(be,K,W,!0):(me[Fe-ke]=G+1,Fe>=Q?Q=Fe:X=!0,y(be,R[Fe],B,null,K,W,ie,se,Z),pt++)}const Te=X?gh(me):Kn;for(Ae=Te.length-1,G=V-1;G>=0;G--){const be=ke+G,Fe=R[be],Xt=be+1<he?R[be+1].el:H;me[G]===0?y(null,Fe,B,Xt,K,W,ie,se,Z):X&&(Ae<0||G!==Te[Ae]?le(Fe,B,Xt,2):Ae--)}}},le=(k,R,B,H,K=null)=>{const{el:W,type:ie,transition:se,children:Z,shapeFlag:G}=k;if(G&6){le(k.component.subTree,R,B,H);return}if(G&128){k.suspense.move(R,B,H);return}if(G&64){ie.move(k,R,B,ne);return}if(ie===Se){r(W,R,B);for(let ue=0;ue<Z.length;ue++)le(Z[ue],R,B,H);r(k.anchor,R,B);return}if(ie===bi){g(k,R,B);return}if(H!==2&&G&1&&se)if(H===0)se.beforeEnter(W),r(W,R,B),mt(()=>se.enter(W),K);else{const{leave:ue,delayLeave:ge,afterLeave:we}=se,ke=()=>r(W,R,B),Ve=()=>{ue(W,()=>{ke(),we&&we()})};ge?ge(W,ke,Ve):Ve()}else r(W,R,B)},de=(k,R,B,H=!1,K=!1)=>{const{type:W,props:ie,ref:se,children:Z,dynamicChildren:G,shapeFlag:he,patchFlag:ue,dirs:ge,cacheIndex:we}=k;if(ue===-2&&(K=!1),se!=null&&Rs(se,null,B,k,!0),we!=null&&(R.renderCache[we]=void 0),he&256){R.ctx.deactivate(k);return}const ke=he&1&&ge,Ve=!Yn(k);let Ae;if(Ve&&(Ae=ie&&ie.onVnodeBeforeUnmount)&&Ut(Ae,R,k),he&6)je(k.component,B,H);else{if(he&128){k.suspense.unmount(B,H);return}ke&&Ln(k,null,R,"beforeUnmount"),he&64?k.type.remove(k,R,B,ne,H):G&&!G.hasOnce&&(W!==Se||ue>0&&ue&64)?Ce(G,R,B,!1,!0):(W===Se&&ue&384||!K&&he&16)&&Ce(Z,R,B),H&&ce(k)}(Ve&&(Ae=ie&&ie.onVnodeUnmounted)||ke)&&mt(()=>{Ae&&Ut(Ae,R,k),ke&&Ln(k,null,R,"unmounted")},B)},ce=k=>{const{type:R,el:B,anchor:H,transition:K}=k;if(R===Se){ve(B,H);return}if(R===bi){b(k);return}const W=()=>{s(B),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(k.shapeFlag&1&&K&&!K.persisted){const{leave:ie,delayLeave:se}=K,Z=()=>ie(B,W);se?se(k.el,W,Z):Z()}else W()},ve=(k,R)=>{let B;for(;k!==R;)B=f(k),s(k),k=B;s(R)},je=(k,R,B)=>{const{bum:H,scope:K,job:W,subTree:ie,um:se,m:Z,a:G}=k;da(Z),da(G),H&&ms(H),K.stop(),W&&(W.flags|=8,de(ie,k,R,B)),se&&mt(se,R),mt(()=>{k.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Ce=(k,R,B,H=!1,K=!1,W=0)=>{for(let ie=W;ie<k.length;ie++)de(k[ie],R,B,H,K)},F=k=>{if(k.shapeFlag&6)return F(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const R=f(k.anchor||k.el),B=R&&R[Hu];return B?f(B):R};let re=!1;const Y=(k,R,B)=>{k==null?R._vnode&&de(R._vnode,null,null,!0):y(R._vnode||null,k,R,null,null,null,B),R._vnode=k,re||(re=!0,ta(),Uu(),re=!1)},ne={p:y,um:de,m:le,r:ce,mt:A,mc:O,pc:U,pbc:P,n:F,o:e};return{render:Y,hydrate:void 0,createApp:lh(Y)}}function yi({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function An({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ko(e,t,n=!1){const r=e.children,s=t.children;if(ye(r)&&ye(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=pn(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&ko(o,l)),l.type===Xr&&(l.el=o.el)}}function gh(e){const t=e.slice(),n=[0];let r,s,i,o,l;const a=e.length;for(r=0;r<a;r++){const d=e[r];if(d!==0){if(s=n[n.length-1],e[s]<d){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,e[n[l]]<d?i=l+1:o=l;d<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function bc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:bc(t)}function da(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const yh=Symbol.for("v-scx"),bh=()=>xt(yh);function Do(e,t){return Io(e,null,t)}function Me(e,t,n){return Io(e,t,n)}function Io(e,t,n=ze){const{immediate:r,deep:s,flush:i,once:o}=n,l=tt({},n),a=t&&r||!t&&i!=="post";let d;if(Fr){if(i==="sync"){const m=bh();d=m.__watcherHandles||(m.__watcherHandles=[])}else if(!a){const m=()=>{};return m.stop=Wt,m.resume=Wt,m.pause=Wt,m}}const c=rt;l.call=(m,p,y)=>$t(m,c,p,y);let u=!1;i==="post"?l.scheduler=m=>{mt(m,c&&c.suspense)}:i!=="sync"&&(u=!0,l.scheduler=(m,p)=>{p?m():Ao(m)}),l.augmentJob=m=>{t&&(m.flags|=4),u&&(m.flags|=2,c&&(m.id=c.uid,m.i=c))};const f=Fd(e,t,l);return Fr&&(d?d.push(f):a&&f()),f}function Eh(e,t,n){const r=this.proxy,s=Qe(e)?e.includes(".")?Ec(r,e):()=>r[e]:e.bind(r,r);let i;Le(t)?i=t:(i=t.handler,n=t);const o=Jr(this),l=Io(s,i.bind(r),n);return o(),l}function Ec(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const xh=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${kt(t)}Modifiers`]||e[`${Sn(t)}Modifiers`];function Sh(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ze;let s=n;const i=t.startsWith("update:"),o=i&&xh(r,t.slice(7));o&&(o.trim&&(s=n.map(c=>Qe(c)?c.trim():c)),o.number&&(s=n.map(Cs)));let l,a=r[l=di(t)]||r[l=di(kt(t))];!a&&i&&(a=r[l=di(Sn(t))]),a&&$t(a,e,6,s);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,$t(d,e,6,s)}}function xc(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},l=!1;if(!Le(e)){const a=d=>{const c=xc(d,t,!0);c&&(l=!0,tt(o,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!l?(He(e)&&r.set(e,null),null):(ye(i)?i.forEach(a=>o[a]=null):tt(o,i),He(e)&&r.set(e,o),o)}function Gs(e,t){return!e||!$s(t)?!1:(t=t.slice(2).replace(/Once$/,""),Be(e,t[0].toLowerCase()+t.slice(1))||Be(e,Sn(t))||Be(e,t))}function ha(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:a,render:d,renderCache:c,props:u,data:f,setupState:m,ctx:p,inheritAttrs:y}=e,E=Ts(e);let _,h;try{if(n.shapeFlag&4){const b=s||r,v=b;_=Ht(d.call(v,b,c,u,m,f,p)),h=l}else{const b=t;_=Ht(b.length>1?b(u,{attrs:l,slots:o,emit:a}):b(u,null)),h=t.props?l:wh(l)}}catch(b){Cr.length=0,Hs(b,e,1),_=oe(dt)}let g=_;if(h&&y!==!1){const b=Object.keys(h),{shapeFlag:v}=g;b.length&&v&7&&(i&&b.some(mo)&&(h=Ch(h,i)),g=bn(g,h,!1,!0))}return n.dirs&&(g=bn(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&$n(g,n.transition),_=g,Ts(E),_}const wh=e=>{let t;for(const n in e)(n==="class"||n==="style"||$s(n))&&((t||(t={}))[n]=e[n]);return t},Ch=(e,t)=>{const n={};for(const r in e)(!mo(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Oh(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:l,patchFlag:a}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?pa(r,o,d):!!o;if(a&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const f=c[u];if(o[f]!==r[f]&&!Gs(d,f))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?pa(r,o,d):!0:!!o;return!1}function pa(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Gs(n,i))return!0}return!1}function Lh({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Sc=e=>e.__isSuspense;function Ah(e,t){t&&t.pendingBranch?ye(e)?t.effects.push(...e):t.effects.push(e):Vd(e)}const Se=Symbol.for("v-fgt"),Xr=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),bi=Symbol.for("v-stc"),Cr=[];let St=null;function $(e=!1){Cr.push(St=e?null:[])}function Th(){Cr.pop(),St=Cr[Cr.length-1]||null}let $r=1;function _a(e,t=!1){$r+=e,e<0&&St&&t&&(St.hasOnce=!0)}function wc(e){return e.dynamicChildren=$r>0?St||Kn:null,Th(),$r>0&&St&&St.push(e),e}function j(e,t,n,r,s,i){return wc(I(e,t,n,r,s,i,!0))}function Pe(e,t,n,r,s){return wc(oe(e,t,n,r,s,!0))}function Br(e){return e?e.__v_isVNode===!0:!1}function kn(e,t){return e.type===t.type&&e.key===t.key}const Cc=({key:e})=>e??null,gs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Qe(e)||qe(e)||Le(e)?{i:et,r:e,k:t,f:!!n}:e:null);function I(e,t=null,n=null,r=0,s=null,i=e===Se?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Cc(t),ref:t&&gs(t),scopeId:Vu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:et};return l?(Mo(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=Qe(n)?8:16),$r>0&&!o&&St&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&St.push(a),a}const oe=Rh;function Rh(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===ic)&&(e=dt),Br(e)){const l=bn(e,t,!0);return n&&Mo(l,n),$r>0&&!i&&St&&(l.shapeFlag&6?St[St.indexOf(e)]=l:St.push(l)),l.patchFlag=-2,l}if(Fh(e)&&(e=e.__vccOpts),t){t=Ph(t);let{class:l,style:a}=t;l&&!Qe(l)&&(t.class=xe(l)),He(a)&&(Oo(a)&&!ye(a)&&(a=tt({},a)),t.style=_e(a))}const o=Qe(e)?1:Sc(e)?128:Wu(e)?64:He(e)?4:Le(e)?2:0;return I(e,t,n,r,s,o,i,!0)}function Ph(e){return e?Oo(e)||hc(e)?tt({},e):e:null}function bn(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:a}=e,d=t?No(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Cc(d),ref:t&&t.ref?n&&i?ye(i)?i.concat(gs(t)):[i,gs(t)]:gs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&bn(e.ssContent),ssFallback:e.ssFallback&&bn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&r&&$n(c,a.clone(c)),c}function Ue(e=" ",t=0){return oe(Xr,null,e,t)}function fe(e="",t=!1){return t?($(),Pe(dt,null,e)):oe(dt,null,e)}function Ht(e){return e==null||typeof e=="boolean"?oe(dt):ye(e)?oe(Se,null,e.slice()):Br(e)?pn(e):oe(Xr,null,String(e))}function pn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:bn(e)}function Mo(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ye(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Mo(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!hc(t)?t._ctx=et:s===3&&et&&(et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:et},n=32):(t=String(t),r&64?(n=16,t=[Ue(t)]):n=8);e.children=t,e.shapeFlag|=n}function No(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=xe([t.class,r.class]));else if(s==="style")t.style=_e([t.style,r.style]);else if($s(s)){const i=t[s],o=r[s];o&&i!==o&&!(ye(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Ut(e,t,n,r=null){$t(e,t,7,[n,r])}const kh=cc();let Dh=0;function Ih(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||kh,i={uid:Dh++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_c(r,s),emitsOptions:xc(r,s),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:r.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Sh.bind(null,i),e.ce&&e.ce(i),i}let rt=null;const zt=()=>rt||et;let ks,Gi;{const e=Us(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ks=t("__VUE_INSTANCE_SETTERS__",n=>rt=n),Gi=t("__VUE_SSR_SETTERS__",n=>Fr=n)}const Jr=e=>{const t=rt;return ks(e),e.scope.on(),()=>{e.scope.off(),ks(t)}},ma=()=>{rt&&rt.scope.off(),ks(null)};function Oc(e){return e.vnode.shapeFlag&4}let Fr=!1;function Mh(e,t=!1,n=!1){t&&Gi(t);const{props:r,children:s}=e.vnode,i=Oc(e);uh(e,r,i,t),hh(e,s,n);const o=i?Nh(e,t):void 0;return t&&Gi(!1),o}function Nh(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Zd);const{setup:r}=n;if(r){wn();const s=e.setupContext=r.length>1?Ac(e):null,i=Jr(e),o=qr(r,e,0,[e.props,s]),l=cu(o);if(Cn(),i(),(l||e.sp)&&!Yn(e)&&Qu(e),l){if(o.then(ma,ma),t)return o.then(a=>{va(e,a)}).catch(a=>{Hs(a,e,0)});e.asyncDep=o}else va(e,o)}else Lc(e)}function va(e,t,n){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:He(t)&&(e.setupState=Nu(t)),Lc(e)}function Lc(e,t,n){const r=e.type;e.render||(e.render=r.render||Wt);{const s=Jr(e);wn();try{nh(e)}finally{Cn(),s()}}}const $h={get(e,t){return ut(e,"get",""),e[t]}};function Ac(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,$h),slots:e.slots,emit:e.emit,expose:t}}function Ys(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Nu(Lo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wr)return wr[n](e)},has(t,n){return n in t||n in wr}})):e.proxy}function Bh(e,t=!0){return Le(e)?e.displayName||e.name:e.name||t&&e.__name}function Fh(e){return Le(e)&&"__vccOpts"in e}const ae=(e,t)=>$d(e,t,Fr);function yt(e,t,n){const r=arguments.length;return r===2?He(t)&&!ye(t)?Br(t)?oe(e,null,[t]):oe(e,t):oe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Br(n)&&(n=[n]),oe(e,t,n))}const Uh="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yi;const ga=typeof window<"u"&&window.trustedTypes;if(ga)try{Yi=ga.createPolicy("vue",{createHTML:e=>e})}catch{}const Tc=Yi?e=>Yi.createHTML(e):e=>e,jh="http://www.w3.org/2000/svg",Vh="http://www.w3.org/1998/Math/MathML",Zt=typeof document<"u"?document:null,ya=Zt&&Zt.createElement("template"),Hh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Zt.createElementNS(jh,e):t==="mathml"?Zt.createElementNS(Vh,e):n?Zt.createElement(e,{is:n}):Zt.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Zt.createTextNode(e),createComment:e=>Zt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ya.innerHTML=Tc(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=ya.content;if(r==="svg"||r==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},an="transition",ar="animation",Qn=Symbol("_vtc"),Rc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Pc=tt({},Yu,Rc),Wh=e=>(e.displayName="Transition",e.props=Pc,e),qs=Wh((e,{slots:t})=>yt(zd,kc(e),t)),Tn=(e,t=[])=>{ye(e)?e.forEach(n=>n(...t)):e&&e(...t)},ba=e=>e?ye(e)?e.some(t=>t.length>1):e.length>1:!1;function kc(e){const t={};for(const w in e)w in Rc||(t[w]=e[w]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:d=o,appearToClass:c=l,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,p=Kh(s),y=p&&p[0],E=p&&p[1],{onBeforeEnter:_,onEnter:h,onEnterCancelled:g,onLeave:b,onLeaveCancelled:v,onBeforeAppear:x=_,onAppear:S=h,onAppearCancelled:O=g}=t,T=(w,L,A,M)=>{w._enterCancelled=M,cn(w,L?c:l),cn(w,L?d:o),A&&A()},P=(w,L)=>{w._isLeaving=!1,cn(w,u),cn(w,m),cn(w,f),L&&L()},C=w=>(L,A)=>{const M=w?S:h,D=()=>T(L,w,A);Tn(M,[L,D]),Ea(()=>{cn(L,w?a:i),jt(L,w?c:l),ba(M)||xa(L,r,y,D)})};return tt(t,{onBeforeEnter(w){Tn(_,[w]),jt(w,i),jt(w,o)},onBeforeAppear(w){Tn(x,[w]),jt(w,a),jt(w,d)},onEnter:C(!1),onAppear:C(!0),onLeave(w,L){w._isLeaving=!0;const A=()=>P(w,L);jt(w,u),w._enterCancelled?(jt(w,f),qi()):(qi(),jt(w,f)),Ea(()=>{w._isLeaving&&(cn(w,u),jt(w,m),ba(b)||xa(w,r,E,A))}),Tn(b,[w,A])},onEnterCancelled(w){T(w,!1,void 0,!0),Tn(g,[w])},onAppearCancelled(w){T(w,!0,void 0,!0),Tn(O,[w])},onLeaveCancelled(w){P(w),Tn(v,[w])}})}function Kh(e){if(e==null)return null;if(He(e))return[Ei(e.enter),Ei(e.leave)];{const t=Ei(e);return[t,t]}}function Ei(e){return rd(e)}function jt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Qn]||(e[Qn]=new Set)).add(t)}function cn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Qn];n&&(n.delete(t),n.size||(e[Qn]=void 0))}function Ea(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let zh=0;function xa(e,t,n,r){const s=e._endId=++zh,i=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:l,propCount:a}=Dc(e,t);if(!o)return r();const d=o+"end";let c=0;const u=()=>{e.removeEventListener(d,f),i()},f=m=>{m.target===e&&++c>=a&&u()};setTimeout(()=>{c<a&&u()},l+1),e.addEventListener(d,f)}function Dc(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),s=r(`${an}Delay`),i=r(`${an}Duration`),o=Sa(s,i),l=r(`${ar}Delay`),a=r(`${ar}Duration`),d=Sa(l,a);let c=null,u=0,f=0;t===an?o>0&&(c=an,u=o,f=i.length):t===ar?d>0&&(c=ar,u=d,f=a.length):(u=Math.max(o,d),c=u>0?o>d?an:ar:null,f=c?c===an?i.length:a.length:0);const m=c===an&&/\b(transform|all)(,|$)/.test(r(`${an}Property`).toString());return{type:c,timeout:u,propCount:f,hasTransform:m}}function Sa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>wa(n)+wa(e[r])))}function wa(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function qi(){return document.body.offsetHeight}function Gh(e,t,n){const r=e[Qn];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ds=Symbol("_vod"),Ic=Symbol("_vsh"),rn={beforeMount(e,{value:t},{transition:n}){e[Ds]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):lr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),lr(e,!0),r.enter(e)):r.leave(e,()=>{lr(e,!1)}):lr(e,t))},beforeUnmount(e,{value:t}){lr(e,t)}};function lr(e,t){e.style.display=t?e[Ds]:"none",e[Ic]=!t}const Yh=Symbol(""),qh=/(^|;)\s*display\s*:/;function Xh(e,t,n){const r=e.style,s=Qe(n);let i=!1;if(n&&!s){if(t)if(Qe(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ys(r,l,"")}else for(const o in t)n[o]==null&&ys(r,o,"");for(const o in n)o==="display"&&(i=!0),ys(r,o,n[o])}else if(s){if(t!==n){const o=r[Yh];o&&(n+=";"+o),r.cssText=n,i=qh.test(n)}}else t&&e.removeAttribute("style");Ds in e&&(e[Ds]=i?r.display:"",e[Ic]&&(r.display="none"))}const Ca=/\s*!important$/;function ys(e,t,n){if(ye(n))n.forEach(r=>ys(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Jh(e,t);Ca.test(n)?e.setProperty(Sn(r),n.replace(Ca,""),"important"):e[r]=n}}const Oa=["Webkit","Moz","ms"],xi={};function Jh(e,t){const n=xi[t];if(n)return n;let r=kt(t);if(r!=="filter"&&r in e)return xi[t]=r;r=Fs(r);for(let s=0;s<Oa.length;s++){const i=Oa[s]+r;if(i in e)return xi[t]=i}return t}const La="http://www.w3.org/1999/xlink";function Aa(e,t,n,r,s,i=ud(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(La,t.slice(6,t.length)):e.setAttributeNS(La,t,n):n==null||i&&!pu(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Nt(n)?String(n):n)}function Ta(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Tc(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=pu(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function mn(e,t,n,r){e.addEventListener(t,n,r)}function Qh(e,t,n,r){e.removeEventListener(t,n,r)}const Ra=Symbol("_vei");function Zh(e,t,n,r,s=null){const i=e[Ra]||(e[Ra]={}),o=i[t];if(r&&o)o.value=r;else{const[l,a]=e0(t);if(r){const d=i[t]=r0(r,s);mn(e,l,d,a)}else o&&(Qh(e,l,o,a),i[t]=void 0)}}const Pa=/(?:Once|Passive|Capture)$/;function e0(e){let t;if(Pa.test(e)){t={};let r;for(;r=e.match(Pa);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Sn(e.slice(2)),t]}let Si=0;const t0=Promise.resolve(),n0=()=>Si||(t0.then(()=>Si=0),Si=Date.now());function r0(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;$t(s0(r,n.value),t,5,[r])};return n.value=e,n.attached=n0(),n}function s0(e,t){if(ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const ka=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,i0=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?Gh(e,r,o):t==="style"?Xh(e,n,r):$s(t)?mo(t)||Zh(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):o0(e,t,r,o))?(Ta(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Aa(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Qe(r))?Ta(e,kt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Aa(e,t,r,o))};function o0(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&ka(t)&&Le(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ka(t)&&Qe(n)?!1:t in e}const Mc=new WeakMap,Nc=new WeakMap,Is=Symbol("_moveCb"),Da=Symbol("_enterCb"),a0=e=>(delete e.props.mode,e),l0=a0({name:"TransitionGroup",props:tt({},Pc,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=zt(),r=Gu();let s,i;return rc(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!h0(s[0].el,n.vnode.el,o))return;s.forEach(c0),s.forEach(f0);const l=s.filter(d0);qi(),l.forEach(a=>{const d=a.el,c=d.style;jt(d,o),c.transform=c.webkitTransform=c.transitionDuration="";const u=d[Is]=f=>{f&&f.target!==d||(!f||/transform$/.test(f.propertyName))&&(d.removeEventListener("transitionend",u),d[Is]=null,cn(d,o))};d.addEventListener("transitionend",u)})}),()=>{const o=De(e),l=kc(o);let a=o.tag||Se;if(s=[],i)for(let d=0;d<i.length;d++){const c=i[d];c.el&&c.el instanceof Element&&(s.push(c),$n(c,Mr(c,l,r,n)),Mc.set(c,c.el.getBoundingClientRect()))}i=t.default?To(t.default()):[];for(let d=0;d<i.length;d++){const c=i[d];c.key!=null&&$n(c,Mr(c,l,r,n))}return oe(a,null,i)}}}),u0=l0;function c0(e){const t=e.el;t[Is]&&t[Is](),t[Da]&&t[Da]()}function f0(e){Nc.set(e,e.el.getBoundingClientRect())}function d0(e){const t=Mc.get(e),n=Nc.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",e}}function h0(e,t,n){const r=e.cloneNode(),s=e[Qn];s&&s.forEach(l=>{l.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=Dc(r);return i.removeChild(r),o}const Zn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ye(t)?n=>ms(t,n):t};function p0(e){e.target.composing=!0}function Ia(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sn=Symbol("_assign"),en={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[sn]=Zn(s);const i=r||s.props&&s.props.type==="number";mn(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=Cs(l)),e[sn](l)}),n&&mn(e,"change",()=>{e.value=e.value.trim()}),t||(mn(e,"compositionstart",p0),mn(e,"compositionend",Ia),mn(e,"change",Ia))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(e[sn]=Zn(o),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?Cs(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===a)||(e.value=a))}},Ma={deep:!0,created(e,t,n){e[sn]=Zn(n),mn(e,"change",()=>{const r=e._modelValue,s=Ur(e),i=e.checked,o=e[sn];if(ye(r)){const l=yo(r,s),a=l!==-1;if(i&&!a)o(r.concat(s));else if(!i&&a){const d=[...r];d.splice(l,1),o(d)}}else if(sr(r)){const l=new Set(r);i?l.add(s):l.delete(s),o(l)}else o($c(e,i))})},mounted:Na,beforeUpdate(e,t,n){e[sn]=Zn(n),Na(e,t,n)}};function Na(e,{value:t,oldValue:n},r){e._modelValue=t;let s;if(ye(t))s=yo(t,r.props.value)>-1;else if(sr(t))s=t.has(r.props.value);else{if(t===n)return;s=zr(t,$c(e,!0))}e.checked!==s&&(e.checked=s)}const Xi={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=sr(t);mn(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Cs(Ur(o)):Ur(o));e[sn](e.multiple?s?new Set(i):i:i[0]),e._assigning=!0,Dt(()=>{e._assigning=!1})}),e[sn]=Zn(r)},mounted(e,{value:t}){$a(e,t)},beforeUpdate(e,t,n){e[sn]=Zn(n)},updated(e,{value:t}){e._assigning||$a(e,t)}};function $a(e,t){const n=e.multiple,r=ye(t);if(!(n&&!r&&!sr(t))){for(let s=0,i=e.options.length;s<i;s++){const o=e.options[s],l=Ur(o);if(n)if(r){const a=typeof l;a==="string"||a==="number"?o.selected=t.some(d=>String(d)===String(l)):o.selected=yo(t,l)>-1}else o.selected=t.has(l);else if(zr(Ur(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ur(e){return"_value"in e?e._value:e.value}function $c(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const _0=["ctrl","shift","alt","meta"],m0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_0.some(n=>e[`${n}Key`]&&!t.includes(n))},er=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const l=m0[t[o]];if(l&&l(s,t))return}return e(s,...i)})},v0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},g0=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Sn(s.key);if(t.some(o=>o===i||v0[o]===i))return e(s)})},y0=tt({patchProp:i0},Hh);let Ba;function Bc(){return Ba||(Ba=_h(y0))}const $o=(...e)=>{Bc().render(...e)},Bo=(...e)=>{const t=Bc().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=E0(r);if(!s)return;const i=t._component;!Le(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,b0(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function b0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function E0(e){return Qe(e)?document.querySelector(e):e}const x0=ht({__name:"IconFont",props:{name:{type:String,default:""},size:{type:[String,Number],default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},classPrefix:{type:String,default:"nut-icon"},fontClassName:{type:String,default:"nutui-iconfont"},color:{type:String,default:""},tag:{type:String,default:"i"}},setup(e){var t;const n=e,r="nut-icon",s=eh(),i=()=>n.name?n.name.indexOf("/")!==-1:!1,o=c=>{if(c)return isNaN(Number(c))?String(c):c+"px"},l=i();let a=yt(l?"img":n.tag,{class:l?`${r}__img`:`${n.fontClassName} ${r} ${n.classPrefix}-${n.name}`,style:{color:n.color,fontSize:o(n.size),width:o(n.width||n.size),height:o(n.height||n.size)},src:l?n.name:""},(t=s.default)==null?void 0:t.call(s));const d=()=>a;return(c,u)=>($(),Pe(d))}});function S0(e){return e.name="IconFont",e.install=t=>{t.component("IconFont",e)},e}S0(x0);const bt=e=>ht({props:{class:{type:String,default:""},name:{type:String,default:e},color:{type:String,default:""},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""}},setup(t){const n=i=>{if(i)return isNaN(Number(i))?String(i):i+"px"},r=ae(()=>{const i="nut-icon";return{[t.class]:t.class,[i]:!0,[i+"-"+t.name]:t.name}}),s=ae(()=>{const i={};return i.height=n(t.height),i.width=n(t.width),i.color=t.color,i});return{classes:r,style:s}}}),Et=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},w0=bt("check-disabled"),C0=I("path",{d:"M506.467 0C227.962 0 .094 227.868.094 506.374s227.868 506.373 506.373 506.373 506.374-227.868 506.374-506.373S787.786 0 506.467 0zm202.55 571.077H306.73c-45.01 0-67.516-22.506-67.516-67.517 0-45.01 22.505-67.516 67.516-67.516h402.286c45.01 0 67.516 22.505 67.516 67.516 0 45.011-22.505 67.517-67.516 67.517z",fill:"currentColor","fill-opacity":"0.9"},null,-1),O0=[C0];function L0(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},O0,6)}const A0=Et(w0,[["render",L0]]),T0=bt("check-normal"),R0=I("path",{d:"M512 1024c-136.533 0-264.533-54.044-361.244-150.756C54.044 776.534 0 648.534 0 512c0-136.533 54.044-264.533 150.756-361.244C247.466 54.044 375.466 0 512 0c136.533 0 264.533 54.044 361.244 150.756C969.956 247.466 1024 375.466 1024 512s-54.044 264.533-150.756 361.244C776.534 969.956 648.534 1024 512 1024zm0-938.667c-113.778 0-221.867 45.511-301.511 125.156S85.333 398.222 85.333 512s45.511 221.867 125.156 301.511S398.222 938.667 512 938.667s221.867-45.511 301.511-125.156S938.667 625.778 938.667 512 893.156 290.133 813.51 210.489 625.778 85.333 512 85.333z",fill:"currentColor","fill-opacity":"0.9"},null,-1),P0=[R0];function k0(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},P0,6)}const D0=Et(T0,[["render",k0]]),I0=bt("checked"),M0=I("path",{d:"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0zm281.6 369.778C779.378 381.156 600.178 500.622 472.178 691.2c0 0 0 2.844-2.845 2.844-8.533 5.69-48.355 36.978-88.177-8.533-39.823-51.2-62.578-99.555-142.223-142.222-2.844 0-2.844-2.845-2.844-2.845-8.533-11.377-39.822-56.888 19.911-56.888 45.511 0 91.022 11.377 162.133 73.955 5.69 5.689 14.223 5.689 17.067 0C469.333 517.69 608.711 366.933 768 318.578c0 0 19.911-2.845 31.289 14.222 5.689 11.378 11.378 22.756-5.689 36.978z",fill:"currentColor","fill-opacity":"0.9"},null,-1),N0=[M0];function $0(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},N0,6)}const Fc=Et(I0,[["render",$0]]),B0=bt("close"),F0=I("path",{d:"M981.577 1024c-11.703 0-23.406-2.926-32.183-11.703L13.166 76.07c-14.629-17.555-14.629-46.812 0-64.366 17.554-14.629 46.811-14.629 64.365 0L1013.76 947.93c17.554 17.555 17.554 43.886 0 61.44-8.777 11.703-20.48 14.629-32.183 14.629zm-936.228 0c-11.703 0-23.406-2.926-32.183-11.703-17.555-17.554-17.555-43.886 0-61.44L949.394 14.63c17.555-17.555 43.886-17.555 61.44 0 17.555 17.554 17.555 43.885 0 61.44L74.606 1012.297C68.754 1021.074 57.05 1024 45.349 1024z",fill:"currentColor","fill-opacity":"0.9"},null,-1),U0=[F0];function j0(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1026 1024",role:"presentation"},U0,6)}const V0=Et(B0,[["render",j0]]),H0=bt("del"),W0=I("path",{d:"M668.444 1024H355.556c-142.223 0-256-113.778-256-256V170.667h824.888V768c0 142.222-113.777 256-256 256zM184.89 256v512c0 93.867 76.8 170.667 170.667 170.667h312.888c93.867 0 170.667-76.8 170.667-170.667V256H184.89zm753.778 0H85.333c-22.755 0-42.666-19.911-42.666-42.667s19.91-42.666 42.666-42.666h853.334c22.755 0 42.666 19.91 42.666 42.666S961.423 256 938.667 256zM625.777 85.333H398.223c-22.755 0-42.666-19.91-42.666-42.666S375.466 0 398.222 0h227.556c22.755 0 42.666 19.911 42.666 42.667s-19.91 42.666-42.666 42.666z",fill:"currentColor","fill-opacity":"0.9"},null,-1),K0=[W0];function z0(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},K0,6)}const G0=Et(H0,[["render",z0]]),Y0=bt("failure"),q0=I("path",{d:"M512 1024C229.831 1024 0 794.169 0 512S229.831 0 512 0s512 229.831 512 512-229.831 512-512 512zm0-955.733C266.24 68.267 68.267 266.24 68.267 512S266.24 955.733 512 955.733 955.733 757.76 955.733 512 757.76 68.267 512 68.267zm111.502 282.169c13.654-13.654 34.134-13.654 47.787 0 11.378 11.377 13.653 31.857 2.275 45.51l-2.275 2.276-111.502 111.502 111.502 111.503c13.653 13.653 13.653 34.133 0 47.786-13.653 13.654-34.133 13.654-47.787 0L512 557.511 400.498 669.013c-11.378 11.378-31.858 13.654-45.511 2.276l-2.276-2.276c-11.378-11.377-13.653-31.857-2.275-45.51l2.275-2.276 111.502-111.503-111.502-111.502c-13.653-13.653-13.653-34.133 0-47.786s34.133-13.654 47.787 0L512 461.938l111.502-111.502z",fill:"currentColor","fill-opacity":"0.9"},null,-1),X0=[q0];function J0(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},X0,6)}const Uc=Et(Y0,[["render",J0]]),Q0=bt("left"),Z0=I("path",{d:"M642.973 1005.542 321.912 587.098a123.278 123.278 0 0 1 0-150.17l321.06-418.443a47.182 47.182 0 0 1 74.83 57.422l-321.088 418.47a28.994 28.994 0 0 0 0 35.3l321.088 418.47a47.155 47.155 0 0 1-74.83 57.395",fill:"currentColor","fill-opacity":"0.9"},null,-1),ep=[Z0];function tp(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},ep,6)}const jc=Et(Q0,[["render",tp]]),np=bt("link"),rp=I("path",{d:"M313.034 1004.045c-66.848 0-124.402-24.156-170.798-70.577l-40.854-40.829C54.96 846.218 28.966 783.097 30.83 714.411c3.702-66.85 31.56-131.808 79.819-180.12l137.4-137.373c14.86-14.861 40.855-14.861 55.69 0 14.86 14.861 16.725 38.99 0 55.69l-137.348 137.4a187.47 187.47 0 0 0-55.69 126.24c-1.864 46.422 14.835 89.115 46.396 120.675l40.855 40.855c31.56 31.56 74.253 48.286 120.674 46.421 46.421-1.838 92.843-22.291 126.24-55.69l137.4-137.4c14.862-14.86 40.856-14.86 55.69 0 14.862 14.862 14.862 40.856 0 55.69l-137.4 137.427c-48.285 48.259-113.27 76.117-180.118 79.82a5.645 5.645 0 0 0-7.405 0zm475.294-382.477c-11.133 0-18.563-3.702-27.832-12.997-14.86-14.861-14.86-40.855 0-55.69l115.082-115.108a187.47 187.47 0 0 0 55.716-126.267c1.838-46.395-14.861-89.114-46.421-120.674l-40.855-40.855c-64.985-64.959-176.364-61.257-246.915 9.294L478.266 278.108c-14.835 14.835-40.829 14.835-55.69 0-14.86-14.861-14.86-40.855 0-55.716l118.81-118.81C643.524 1.444 803.163-2.232 899.734 94.287l40.829 40.855c46.421 46.421 72.415 109.541 70.55 178.228-3.702 66.85-31.56 131.807-79.819 180.093L816.186 608.571c-7.43 7.43-18.563 11.133-27.858 12.997zm-332.327-1.864c-11.16 0-18.564-3.702-27.832-12.997-14.888-14.835-14.888-40.829 0-55.69l148.506-148.532c14.861-14.862 40.855-14.862 55.69 0 14.861 14.86 14.861 40.854 0 55.69L483.832 606.706c-7.404 7.43-18.563 11.159-27.831 12.997z",fill:"currentColor","fill-opacity":"0.9"},null,-1),sp=[rp];function ip(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},sp,6)}const op=Et(np,[["render",ip]]),ap=bt("loading"),lp=I("path",{d:"M784 902.4c9.6 19.2 6.4 41.6-12.8 54.4-19.2 9.6-41.6 3.2-51.2-12.8-9.6-19.2-6.4-41.6 12.8-54.4 16-12.8 38.4-8 51.2 12.8zM550.4 984c0 22.4-16 38.4-38.4 38.4s-38.4-16-38.4-38.4v-24c0-22.4 19.2-38.4 41.6-38.4 19.2 0 35.2 16 38.4 38.4v25.6h-3.2zm-240-43.2c-9.6 19.2-35.2 25.6-54.4 16-19.2-9.6-25.6-35.2-16-51.2l28.8-51.2c9.6-19.2 35.2-25.6 54.4-16s25.6 35.2 12.8 54.4l-25.6 48zM121.6 784c-19.2 9.6-41.6 3.2-54.4-16-9.6-19.2-6.4-41.6 12.8-54.4l76.8-44.8c19.2-9.6 41.6-3.2 54.4 16 9.6 19.2 3.2 41.6-16 54.4L121.6 784zM38.4 552C16 552 0 536 0 513.6s16-38.4 38.4-38.4H160c22.4 0 38.4 19.2 38.4 38.4 0 22.4-16 38.4-38.4 38.4H38.4zm44.8-241.6c-19.2-9.6-25.6-35.2-16-51.2 9.6-19.2 35.2-25.6 54.4-16L256 320c19.2 9.6 25.6 35.2 16 54.4s-35.2 25.6-54.4 16l-134.4-80zm160-185.6 92.8 160c9.6 19.2 35.2 25.6 54.4 12.8s25.6-35.2 12.8-54.4l-92.8-160C297.6 64 275.2 60.8 256 70.4c-16 12.8-22.4 33.6-12.8 54.4zM473.6 40c0-22.4 16-38.4 38.4-38.4s38.4 19.2 38.4 38.4v184c0 22.4-19.2 38.4-38.4 38.4-22.4 0-38.4-19.2-38.4-38.4V40zm240 43.2c9.6-19.2 35.2-25.6 54.4-16 19.2 9.6 25.6 35.2 16 51.2l-92.8 160c-9.6 19.2-35.2 25.6-54.4 16-19.2-9.6-25.6-35.2-12.8-54.4l89.6-156.8zm188.8 160-160 92.8c-19.2 9.6-25.6 35.2-16 54.4 12.8 19.2 35.2 25.6 54.4 12.8l160-92.8c19.2-9.6 25.6-35.2 12.8-54.4-9.6-16-32-25.6-51.2-12.8zM985.6 472c22.4 0 38.4 16 38.4 38.4s-16 38.4-38.4 38.4H800c-22.4 0-38.4-19.2-38.4-38.4 0-22.4 19.2-38.4 38.4-38.4h185.6z",fill:"currentColor","fill-opacity":"0.9"},null,-1),up=[lp];function cp(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},up,6)}const Fo=Et(ap,[["render",cp]]),fp=bt("mask-close"),dp=I("path",{d:"M512 14.897C238.594 14.897 14.897 238.594 14.897 512S238.594 1009.103 512 1009.103 1009.103 785.406 1009.103 512 785.406 14.897 512 14.897zm207.126 646.234c16.57 16.57 16.57 41.425 0 57.995s-41.425 16.57-57.995 0L512 569.996l-149.13 149.13c-16.57 16.57-41.426 16.57-57.996 0s-16.57-41.425 0-57.995L454.004 512l-149.13-149.13c-16.57-16.57-16.57-41.426 0-57.996s41.425-16.57 57.995 0L512 454.004l149.13-149.13c16.57-16.57 41.426-16.57 57.996 0s16.57 41.425 0 57.995L569.996 512l149.13 149.13z",fill:"currentColor","fill-opacity":"0.9"},null,-1),hp=[dp];function pp(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},hp,6)}const _p=Et(fp,[["render",pp]]),mp=bt("photograph"),vp=I("path",{d:"M570.514 789.943c-119.954 0-219.428-99.474-219.428-219.429s99.474-219.428 219.428-219.428 219.429 99.474 219.429 219.428-99.474 219.429-219.429 219.429zm0-351.086c-73.143 0-131.657 58.514-131.657 131.657s58.514 131.657 131.657 131.657 131.657-58.514 131.657-131.657-58.514-131.657-131.657-131.657zM877.714 1024h-614.4C117.03 1024 0 906.971 0 760.686V380.343c0-146.286 117.029-263.314 263.314-263.314h32.183c0-2.926 2.926-8.778 2.926-11.703C315.977 43.886 374.49 0 438.857 0h263.314c70.218 0 128.732 49.737 143.36 117.029h32.183c146.286 0 263.315 117.028 263.315 263.314v380.343C1141.029 906.97 1024 1024 877.714 1024zm-614.4-819.2c-96.548 0-175.543 78.994-175.543 175.543v380.343c0 96.548 78.995 175.543 175.543 175.543h614.4c96.549 0 175.543-78.995 175.543-175.543V380.343c0-96.549-78.994-175.543-175.543-175.543H819.2c-32.183 0-58.514-26.331-58.514-58.514S734.354 87.77 702.17 87.77H438.857c-26.331 0-49.737 17.555-55.588 40.96-2.926 5.852-2.926 11.703-2.926 17.555 0 32.183-26.332 58.514-58.514 58.514h-58.515zm-87.771 160.914a73.143 73.143 0 1 0 146.286 0 73.143 73.143 0 1 0-146.286 0Z",fill:"currentColor","fill-opacity":"0.9"},null,-1),gp=[vp];function yp(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1141 1024",role:"presentation"},gp,6)}const bp=Et(mp,[["render",yp]]),Ep=bt("right"),xp=I("path",{d:"M381.262 1005.566c-16.132 21.51-45.708 24.198-67.217 8.066-21.51-16.132-24.198-45.708-8.066-67.217C413.526 806.604 518.384 666.792 625.932 529.67c8.066-10.755 8.066-24.198 0-34.953C518.384 354.906 413.526 215.094 305.979 77.972c-16.132-21.51-10.755-51.085 8.066-67.217C335.555-5.377 365.13 0 381.262 18.82c107.547 142.5 212.405 282.311 319.953 419.434 34.952 43.019 34.952 104.858 0 150.566-107.548 139.811-212.406 279.622-319.953 416.745",fill:"currentColor","fill-opacity":"0.9"},null,-1),Sp=[xp];function wp(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},Sp,6)}const Cp=Et(Ep,[["render",wp]]),Op=bt("success"),Lp=I("path",{d:"M762.311 391.396C655.36 466.489 566.613 552.96 491.52 659.91c-20.48 27.307-61.44 27.307-79.644-2.275-34.134-52.338-72.818-91.023-125.156-125.156-25.031-15.929-9.102-54.613 20.48-50.062 56.889 11.378 100.124 34.133 143.36 72.818 77.369-93.298 175.218-166.116 286.72-213.903 27.307-9.102 50.062 31.858 25.031 50.063M512 1024C229.831 1024 0 794.169 0 512S229.831 0 512 0s512 229.831 512 512-229.831 512-512 512zm0-955.733C266.24 68.267 68.267 266.24 68.267 512S266.24 955.733 512 955.733 955.733 757.76 955.733 512 757.76 68.267 512 68.267z",fill:"currentColor","fill-opacity":"0.9"},null,-1),Ap=[Lp];function Tp(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},Ap,6)}const Rp=Et(Op,[["render",Tp]]),Pp=bt("tips"),kp=I("path",{d:"M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512zm0-938.667c-234.667 0-426.667 192-426.667 426.667s192 426.667 426.667 426.667 426.667-192 426.667-426.667S746.667 85.333 512 85.333zM448 320a64 64 0 1 0 128 0 64 64 0 1 0-128 0Zm-17.067 149.333h51.2c12.8 0 21.334 8.534 21.334 21.334v8.533c0 12.8-8.534 21.333-21.334 21.333h-51.2c-12.8 0-25.6-12.8-25.6-25.6s12.8-25.6 25.6-25.6zm51.2 0H524.8c25.6 0 51.2 21.334 51.2 51.2v8.534L537.6 755.2c0 8.533-8.533 17.067-21.333 17.067H473.6c-25.6 0-51.2-21.334-51.2-51.2v-8.534L460.8 486.4c4.267-8.533 12.8-17.067 21.333-17.067zm8.534 251.734h76.8c12.8 0 25.6 12.8 25.6 25.6s-12.8 25.6-25.6 25.6h-76.8c-12.8 0-21.334-8.534-21.334-21.334v-12.8c4.267-12.8 12.8-17.066 21.334-17.066z",fill:"currentColor","fill-opacity":"0.9"},null,-1),Dp=[kp];function Ip(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},Dp,6)}const Mp=Et(Pp,[["render",Ip]]),Np=bt("uploader"),$p=I("path",{d:"M960 572.8H64c-25.6 0-48-22.4-48-48s22.4-48 48-48h896c25.6 0 48 22.4 48 48s-22.4 48-48 48z",fill:"currentColor","fill-opacity":"0.9"},null,-1),Bp=I("path",{d:"M512 1020.8c-25.6 0-48-22.4-48-48v-896c0-25.6 22.4-48 48-48s48 22.4 48 48v896c0 25.6-22.4 48-48 48z",fill:"currentColor","fill-opacity":"0.9"},null,-1);function Fp(e,t,n,r,s,i){return $(),j("svg",{class:xe(e.classes),style:_e(e.style),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",role:"presentation"},[$p,Ue(","),Bp],6)}const Vc=Et(Np,[["render",Fp]]),Yt=e=>{const t=e;return t.install=n=>{t.name&&n.component(t.name,t)},t};var Up=Object.defineProperty,jp=Object.defineProperties,Vp=Object.getOwnPropertyDescriptors,Fa=Object.getOwnPropertySymbols,Hp=Object.prototype.hasOwnProperty,Wp=Object.prototype.propertyIsEnumerable,Ua=(e,t,n)=>t in e?Up(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kp=(e,t)=>{for(var n in t||(t={}))Hp.call(t,n)&&Ua(e,n,t[n]);if(Fa)for(var n of Fa(t))Wp.call(t,n)&&Ua(e,n,t[n]);return e},zp=(e,t)=>jp(e,Vp(t));const Gp={class:"nut-button__wrap"},qt=ht(zp(Kp({},{name:"NutButton"}),{__name:"button",props:{color:{default:""},shape:{default:"round"},plain:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{default:"default"},size:{default:"normal"},block:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=e,r=t,s=l=>{!n.loading&&!n.disabled&&r("click",l)},i=ae(()=>{const l="nut-button";return{[l]:!0,[`${l}--${n.type}`]:n.type,[`${l}--${n.size}`]:n.size,[`${l}--${n.shape}`]:n.shape,[`${l}--plain`]:n.plain,[`${l}--block`]:n.block,[`${l}--disabled`]:n.disabled,[`${l}--loading`]:n.loading}}),o=ae(()=>{let l={};return n.color&&(l={color:n.plain?n.color:"#fff",background:n.plain?"#fff":`border-box ${n.color}`},n.color.includes("gradient")?l.borderColor="transparent":l.borderColor=n.color),l});return(l,a)=>($(),j("view",{class:xe(i.value),style:_e(o.value),onClick:s},[I("view",Gp,[l.loading?($(),Pe(ee(Fo),{key:0,class:"nut-icon-loading"})):fe("",!0),l.$slots.icon&&!l.loading?Re(l.$slots,"icon",{key:1}):fe("",!0),l.$slots.default?($(),j("view",{key:2,class:xe({"nut-button__text":l.$slots.icon||l.loading})},[Re(l.$slots,"default")],2)):fe("",!0)])],6))}}));Yt(qt);function Hc(){return zt().proxy.$router||null}const tr=e=>{if(e!==void 0)return isNaN(Number(e))?String(e):`${e}px`};var Yp=Object.defineProperty,qp=Object.defineProperties,Xp=Object.getOwnPropertyDescriptors,ja=Object.getOwnPropertySymbols,Jp=Object.prototype.hasOwnProperty,Qp=Object.prototype.propertyIsEnumerable,Va=(e,t,n)=>t in e?Yp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zp=(e,t)=>{for(var n in t||(t={}))Jp.call(t,n)&&Va(e,n,t[n]);if(ja)for(var n of ja(t))Qp.call(t,n)&&Va(e,n,t[n]);return e},e_=(e,t)=>qp(e,Xp(t));const t_={key:0,class:"nut-cell__icon"},n_={key:1,class:"nut-cell__title"},r_={class:"title"},s_={class:"nut-cell__title-desc"},Xs=ht(e_(Zp({},{name:"NutCell"}),{__name:"cell",props:{title:{default:""},subTitle:{default:""},desc:{default:""},descTextAlign:{default:"right"},isLink:{type:Boolean,default:!1},roundRadius:{default:""},center:{type:Boolean,default:!1},size:{default:"normal"},to:{},replace:{type:Boolean,default:!1},url:{default:""}},emits:["click"],setup(e,{emit:t}){const n=e,r=t,s=ae(()=>{const d="nut-cell";return{[d]:!0,[`${d}--clickable`]:n.isLink||n.to,[`${d}--center`]:n.center,[`${d}--large`]:n.size==="large"}}),i=Hc(),o=ae(()=>({borderRadius:tr(n.roundRadius)})),l=ae(()=>({textAlign:n.descTextAlign})),a=d=>{r("click",d),n.to&&i?i[n.replace?"replace":"push"](n.to):n.url&&(n.replace?location.replace(n.url):location.href=n.url)};return(d,c)=>($(),j("view",{class:xe(s.value),style:_e(o.value),onClick:a},[Re(d.$slots,"default",{},()=>[d.$slots.icon?($(),j("view",t_,[Re(d.$slots,"icon")])):fe("",!0),d.title||d.subTitle||d.$slots.title?($(),j("view",n_,[d.subTitle?($(),j(Se,{key:0},[Re(d.$slots,"title",{},()=>[I("view",r_,pe(d.title),1)]),I("view",s_,pe(d.subTitle),1)],64)):Re(d.$slots,"title",{key:1},()=>[Ue(pe(d.title),1)])])):fe("",!0),d.desc||d.$slots.desc?($(),j("view",{key:2,class:xe(["nut-cell__value",{"nut-cell__value--alone":!d.title&&!d.subTitle&&!d.$slots.title}]),style:_e(l.value)},[Re(d.$slots,"desc",{},()=>[Ue(pe(d.desc),1)])],6)):fe("",!0),Re(d.$slots,"link",{},()=>[d.isLink||d.to?($(),Pe(ee(Cp),{key:0,class:"nut-cell__link"})):fe("",!0)])])],6))}}));Yt(Xs);const i_=e=>e instanceof Date,Ms=e=>typeof e=="function",o_=e=>typeof e=="string",a_=e=>e!==null&&typeof e=="object",l_=e=>a_(e)&&Ms(e.then)&&Ms(e.catch),u_=document,Ha=u_.body,Wa=(e,t)=>{try{return t.split(".").reduce((n,r)=>n[r],e)}catch{return""}};function Ka(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),e.stopPropagation()}const wi=(e,t=2)=>{for(e+="";e.length<t;)e="0"+e;return e.toString()},c_=(e,t,n)=>Math.min(Math.max(e,t),n);var f_=Object.defineProperty,d_=Object.defineProperties,h_=Object.getOwnPropertyDescriptors,za=Object.getOwnPropertySymbols,p_=Object.prototype.hasOwnProperty,__=Object.prototype.propertyIsEnumerable,Ga=(e,t,n)=>t in e?f_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ya=(e,t)=>{for(var n in t||(t={}))p_.call(t,n)&&Ga(e,n,t[n]);if(za)for(var n of za(t))__.call(t,n)&&Ga(e,n,t[n]);return e},m_=(e,t)=>d_(e,h_(t));let ur=0;const qa="nut-overflow-hidden",v_=e=>[()=>{if(e())try{!ur&&Ha.classList.add(qa),ur++}catch(r){console.warn("[NutUI] <useLockScroll>",r)}},()=>{if(e()&&ur)try{ur--,!ur&&Ha.classList.remove(qa)}catch(r){console.warn("[NutUI] <unlock>",r)}}],Js=ht(m_(Ya({},{name:"NutOverlay"}),{__name:"overlay",props:{visible:{type:Boolean,default:!1},zIndex:{default:2e3},duration:{default:.3},lockScroll:{type:Boolean,default:!0},overlayClass:{default:""},overlayStyle:{},closeOnClickOverlay:{type:Boolean,default:!0}},emits:["click","update:visible"],setup(e,{emit:t}){const n=e,r=t,[s,i]=v_(()=>n.lockScroll),o=ae(()=>({["nut-overlay"]:!0,[n.overlayClass]:!0})),l=ae(()=>Ya({transitionDuration:`${n.duration}s`,zIndex:n.zIndex},n.overlayStyle));Do(()=>{n.visible?s():i()});const a=d=>{r("click",d),n.closeOnClickOverlay&&r("update:visible",!1)};return(d,c)=>($(),Pe(qs,{name:"overlay-fade"},{default:Ee(()=>[Je(I("view",{class:xe(o.value),style:_e(l.value),onClick:er(a,["stop"])},[Re(d.$slots,"default")],6),[[rn,d.visible]])]),_:3}))}}));Yt(Js);const g_=e=>e.replace(/-./g,t=>t[1].toUpperCase());function Ct(e){return{componentName:"nut-"+e,create:function(n){return n.name="Nut"+g_("-"+e),n.install=r=>{r.component(n.name,n)},ht(n)}}}const Ft=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n};var y_=Object.defineProperty,b_=Object.defineProperties,E_=Object.getOwnPropertyDescriptors,Xa=Object.getOwnPropertySymbols,x_=Object.prototype.hasOwnProperty,S_=Object.prototype.propertyIsEnumerable,Ja=(e,t,n)=>t in e?y_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qa=(e,t)=>{for(var n in t||(t={}))x_.call(t,n)&&Ja(e,n,t[n]);if(Xa)for(var n of Xa(t))S_.call(t,n)&&Ja(e,n,t[n]);return e},w_=(e,t)=>b_(e,E_(t));const Wc={visible:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:2e3},duration:{type:[Number,String],default:.3},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},position:{type:String,default:"center"},transition:{type:String,default:""},style:{type:Object,default:()=>({})},popClass:{type:String,default:""},closeable:{type:Boolean,default:!1},closeIconPosition:{type:String,default:"top-right"},destroyOnClose:{type:Boolean,default:!0},teleport:{type:[String,Element],default:"body"},overlay:{type:Boolean,default:!0},round:{type:Boolean,default:!1},teleportDisable:{type:Boolean,default:!1},safeAreaInsetBottom:{type:Boolean,default:!1},overlayClass:{type:String,default:""},overlayStyle:{type:Object,default:()=>({})}},{componentName:C_,create:O_}=Ct("popup"),Kc=2e3;let Za=Kc;const L_=O_({components:{NutOverlay:Js,Close:V0},props:Wc,emits:["clickPop","clickCloseIcon","open","close","opened","closed","clickOverlay","update:visible"],setup(e,{emit:t}){let n;const r=it({zIndex:e.zIndex,showSlot:!0,closed:e.closeable}),s=ae(()=>({[C_]:!0,round:e.round,[`nut-popup--${e.position}`]:!0,[`nut-popup--${e.position}--safebottom`]:e.position==="bottom"&&e.safeAreaInsetBottom,[e.popClass]:!0})),i=ae(()=>Qa({zIndex:r.zIndex,transitionDuration:`${e.duration}s`},e.style)),o=ae(()=>e.transition?e.transition:`nut-popup-slide-${e.position}`),l=()=>{n||(n=!0,e.zIndex!==Kc&&(Za=Number(e.zIndex)),t("update:visible",!0),r.zIndex=++Za,e.destroyOnClose&&(r.showSlot=!0),t("open"))},a=()=>{n&&(n=!1,t("update:visible",!1),t("close"),e.destroyOnClose&&setTimeout(()=>{r.showSlot=!1},+e.duration*1e3))},d=p=>{t("clickPop",p)},c=p=>{p.stopPropagation(),t("clickCloseIcon",p),a()},u=p=>{t("clickOverlay",p),e.closeOnClickOverlay&&a()},f=p=>{t("opened",p)},m=p=>{t("closed",p)};return Me(()=>e.visible,()=>{e.visible&&!n&&l(),!e.visible&&n&&a()}),Do(()=>{r.closed=e.closeable}),w_(Qa({},Jn(r)),{popStyle:i,transitionName:o,classes:s,onClick:d,onClickCloseIcon:c,onClickOverlay:u,onOpened:f,onClosed:m})}});function A_(e,t,n,r,s,i){const o=ft("nut-overlay"),l=ft("Close");return $(),Pe(Wd,{to:e.teleport,disabled:!e.teleportDisable},[e.overlay?($(),Pe(o,No({key:0,visible:e.visible,"close-on-click-overlay":e.closeOnClickOverlay,"z-index":e.zIndex,"lock-scroll":e.lockScroll,duration:e.duration,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle},e.$attrs,{onClick:e.onClickOverlay}),null,16,["visible","close-on-click-overlay","z-index","lock-scroll","duration","overlay-class","overlay-style","onClick"])):fe("",!0),oe(qs,{name:e.transitionName,onAfterEnter:e.onOpened,onAfterLeave:e.onClosed},{default:Ee(()=>[Je(I("view",{class:xe(e.classes),style:_e(e.popStyle),onClick:t[1]||(t[1]=(...a)=>e.onClick&&e.onClick(...a))},[e.showSlot?Re(e.$slots,"default",{key:0}):fe("",!0),e.closed?($(),j("view",{key:1,class:xe(["nut-popup__close-icon","nut-popup__close-icon--"+e.closeIconPosition]),onClick:t[0]||(t[0]=(...a)=>e.onClickCloseIcon&&e.onClickCloseIcon(...a))},[Re(e.$slots,"close-icon",{},()=>[oe(l,{height:"12px"})])],2)):fe("",!0)],6),[[rn,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["to","disabled"])}const Qs=Ft(L_,[["render",A_]]),T_=Symbol("nut-layout");var R_=Object.defineProperty,P_=Object.defineProperties,k_=Object.getOwnPropertyDescriptors,el=Object.getOwnPropertySymbols,D_=Object.prototype.hasOwnProperty,I_=Object.prototype.propertyIsEnumerable,tl=(e,t,n)=>t in e?R_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M_=(e,t)=>{for(var n in t||(t={}))D_.call(t,n)&&tl(e,n,t[n]);if(el)for(var n of el(t))I_.call(t,n)&&tl(e,n,t[n]);return e},N_=(e,t)=>P_(e,k_(t));const $_="nut-row",zc=ht(N_(M_({},{name:"NutRow"}),{__name:"row",props:{type:{default:""},gutter:{default:""},justify:{default:"start"},align:{default:"flex-start"},flexWrap:{default:"nowrap"}},setup(e){const t=e;qn(T_,t.gutter);const n=(s,i)=>s?i?`nut-row-${s}-${i}`:"":`nut-row-${i}`,r=ae(()=>[$_,n("",t.type),n("justify",t.justify),n("align",t.align),n("flex",t.flexWrap)]);return(s,i)=>($(),j("view",{class:xe(r.value)},[Re(s.$slots,"default")],2))}}));Yt(zc);const B_=/scroll|auto|overlay/i,F_=window;function U_(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function nl(e,t=F_){let n=e;for(;n&&n!==t&&U_(n);){const{overflowY:r}=window.getComputedStyle(n);if(B_.test(r))return n;n=n.parentNode}return t}function j_(e){return typeof window<"u"&&e===window}const Ci=e=>{const t=ee(e);if(j_(t)){const n=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}return t&&t.getBoundingClientRect?t.getBoundingClientRect():{top:0,left:0,right:0,bottom:0,width:0,height:0}},{create:V_}=Ct("sticky"),H_=V_({props:{position:{type:String,default:"top"},top:{type:[Number,String],default:0},bottom:{type:[Number,String],default:0},container:{type:Object,default:null},zIndex:{type:[Number,String],default:99}},emits:["change"],setup(e,{emit:t}){const n=z(),r=z(),s=it({fixed:!1,height:0,width:0,transform:0}),i=ae(()=>e.position==="top"?Number(e.top):Number(e.bottom)),o=ae(()=>s.fixed?{height:`${s.height}px`}:{}),l=ae(()=>s.fixed?{[e.position]:`${i.value}px`,height:`${s.height}px`,width:`${s.width}px`,transform:s.transform?`translate3d(0, ${s.transform}px, 0)`:void 0,position:s.fixed?"fixed":void 0,zIndex:Number(e.zIndex)}:{}),a=()=>{const d=e.container;if(!n.value&&!d)return;const c=Ci(n),u=r.value,f=Ci(u),m=Ci(d);s.height=c.height,s.width=c.width;const p=()=>{let E=!1;if(e.position==="top")E=d?i.value>c.top&&m.bottom>0:i.value>c.top;else{const _=document.documentElement.clientHeight;E=d?m.bottom>0&&_-i.value-f.height>m.top:_-i.value<c.bottom}return E},y=()=>{if(d)if(e.position==="top"){const E=m.bottom-i.value-f.height;return E<0?E:0}else{const E=document.documentElement.clientHeight,_=m.bottom-(E-i.value);return _<0?_:0}return 0};s.transform=y(),s.fixed=p()};return Me(()=>s.fixed,d=>{t("change",d)}),Xe(()=>{a(),nl(n.value).addEventListener("scroll",a,!0)}),On(()=>{nl(n.value).removeEventListener("scroll",a)}),{rootRef:n,rootStyle:o,stickyRef:r,stickyStyle:l}}});function W_(e,t,n,r,s,i){return $(),j("div",{ref:"rootRef",class:"nut-sticky",style:_e(e.rootStyle)},[I("div",{ref:"stickyRef",class:"nut-sticky__box",style:_e(e.stickyStyle)},[Re(e.$slots,"default")],4)],4)}const Zs=Ft(H_,[["render",W_]]);var K_=Object.defineProperty,rl=Object.getOwnPropertySymbols,z_=Object.prototype.hasOwnProperty,G_=Object.prototype.propertyIsEnumerable,sl=(e,t,n)=>t in e?K_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Y_=(e,t)=>{for(var n in t||(t={}))z_.call(t,n)&&sl(e,n,t[n]);if(rl)for(var n of rl(t))G_.call(t,n)&&sl(e,n,t[n]);return e};const q_=e=>{const t=it([]),n=it([]);return{children:t,linkChildren:s=>{qn(e,Y_({unlink:l=>{if(l.proxy){const a=n.indexOf(l);a>-1&&n.splice(a,1);const d=t.indexOf(l.proxy);a>-1&&t.splice(d,1)}},link:l=>{l.proxy&&(n.push(l),t.push(l.proxy))},children:t,internalChildren:n},s))}}},Gc=Symbol("grid");var X_=Object.defineProperty,J_=Object.defineProperties,Q_=Object.getOwnPropertyDescriptors,il=Object.getOwnPropertySymbols,Z_=Object.prototype.hasOwnProperty,em=Object.prototype.propertyIsEnumerable,ol=(e,t,n)=>t in e?X_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tm=(e,t)=>{for(var n in t||(t={}))Z_.call(t,n)&&ol(e,n,t[n]);if(il)for(var n of il(t))em.call(t,n)&&ol(e,n,t[n]);return e},nm=(e,t)=>J_(e,Q_(t));const Yc=ht(nm(tm({},{name:"NutGrid"}),{__name:"grid",props:{columnNum:{default:4},border:{type:Boolean,default:!0},gutter:{default:0},center:{type:Boolean,default:!0},square:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1},direction:{},clickable:{type:Boolean,default:!1}},setup(e){const t=e,{linkChildren:n}=q_(Gc);n({props:t});const r=ae(()=>{const i="nut-grid";return{[i]:!0,[`${i}--border`]:t.border&&!t.gutter}}),s=ae(()=>{const i={};return t.gutter&&(i.paddingLeft=tr(t.gutter)),i});return(i,o)=>($(),j("view",{class:xe(r.value),style:_e(s.value)},[Re(i.$slots,"default")],6))}}));Yt(Yc);const qc=e=>{const t=xt(e,null);if(t){const n=zt(),{link:r,unlink:s,internalChildren:i}=t;r(n),On(()=>{s(n)});const o=ae(()=>i.indexOf(n));return{parent:t,index:o}}return{parent:t,index:ae(()=>-1)}};var rm=Object.defineProperty,sm=Object.defineProperties,im=Object.getOwnPropertyDescriptors,al=Object.getOwnPropertySymbols,om=Object.prototype.hasOwnProperty,am=Object.prototype.propertyIsEnumerable,ll=(e,t,n)=>t in e?rm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lm=(e,t)=>{for(var n in t||(t={}))om.call(t,n)&&ll(e,n,t[n]);if(al)for(var n of al(t))am.call(t,n)&&ll(e,n,t[n]);return e},um=(e,t)=>sm(e,im(t));const cm={class:"nut-grid-item__text"},Xc=ht(um(lm({},{name:"NutGridItem"}),{__name:"grid-item",props:{text:{},to:{},url:{default:""},replace:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=e,r=t,{parent:s,index:i}=qc(Gc),o=(s==null?void 0:s.props)||{},l=ae(()=>{const u={flexBasis:`${100/+o.columnNum}%`};return o.square?u.paddingTop=`${100/+o.columnNum}%`:o.gutter&&(u.paddingRight=tr(o.gutter),i.value>=+o.columnNum&&(u.marginTop=tr(o.gutter))),u}),a=ae(()=>{const u="nut-grid-item__content";return{[`${u}`]:!0,[`${u}--border`]:o.border,[`${u}--surround`]:o.border&&o.gutter,[`${u}--center`]:o.center,[`${u}--square`]:o.square,[`${u}--reverse`]:o.reverse,[`${u}--${o.direction}`]:!!o.direction,[`${u}--clickable`]:o.clickable||n.to||n.url}}),d=Hc(),c=u=>{r("click",u),n.to&&d?d[n.replace?"replace":"push"](n.to):n.url&&(n.replace?location.replace(n.url):location.href=n.url)};return(u,f)=>($(),j("view",{class:"nut-grid-item",style:_e(l.value),onClick:c},[I("view",{class:xe(a.value)},[Re(u.$slots,"default"),I("view",cm,[u.text?($(),j(Se,{key:0},[Ue(pe(u.text),1)],64)):Re(u.$slots,"text",{key:1})])],2)],4))}}));Yt(Xc);const{create:fm,componentName:Rn}=Ct("space"),dm=fm({props:{align:String,direction:{type:String,default:"horizontal"},justify:String,wrap:Boolean,gutter:[Number,String,Array],fill:Boolean},setup(e,{slots:t}){const n=c=>typeof c=="number"?c+"px":c,r=c=>{const u={};if(!e.gutter)return u;const f=`${n(Array.isArray(e.gutter)?e.gutter[0]:e.gutter)}`,m=`${n(Array.isArray(e.gutter)?e.gutter[1]:e.gutter)}`;return c?e.wrap?{marginBottom:m}:{}:(e.direction==="horizontal"&&(u.marginRight=f),(e.direction==="vertical"||e.wrap)&&(u.marginBottom=m),u)},s=(c=[])=>{const u=[];return c.forEach(f=>{Array.isArray(f)?u.push(...f):f.type===Se?u.push(...s(f.children)):u.push(f)}),u.filter(f=>{var m;return!(f&&(f.type===dt||f.type===Se&&((m=f.children)==null?void 0:m.length)===0||f.type===Xr&&f.children.trim()===""))})},{direction:i,wrap:o,fill:l,justify:a,align:d}=e;return()=>{var c;const u=s((c=t.default)==null?void 0:c.call(t)),f=()=>u.map((m,p)=>yt("div",{class:`${Rn}-item`,style:r(p===u.length-1)},m));return yt("div",{class:[Rn,i&&`${Rn}-${i}`,d&&`${Rn}-align-${d}`,a&&`${Rn}-justify-${a}`,o&&`${Rn}-wrap`,l&&`${Rn}-fill`]},f())}}});var hm=Object.defineProperty,pm=Object.defineProperties,_m=Object.getOwnPropertyDescriptors,ul=Object.getOwnPropertySymbols,mm=Object.prototype.hasOwnProperty,vm=Object.prototype.propertyIsEnumerable,cl=(e,t,n)=>t in e?hm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gm=(e,t)=>{for(var n in t||(t={}))mm.call(t,n)&&cl(e,n,t[n]);if(ul)for(var n of ul(t))vm.call(t,n)&&cl(e,n,t[n]);return e},ym=(e,t)=>pm(e,_m(t));const bm={key:1,class:"nut-navbar__text"},Em={class:"nut-navbar__title"},xm={key:0,class:"nut-navbar__text"},Jc=ht(ym(gm({},{name:"NutNavbar"}),{__name:"navbar",props:{leftShow:{type:Boolean,default:!1},title:{default:""},titleIcon:{type:Boolean,default:!1},leftText:{default:""},desc:{default:""},fixed:{type:Boolean,default:!1},safeAreaInsetTop:{type:Boolean,default:!1},border:{type:Boolean,default:!1},placeholder:{type:Boolean,default:!0},zIndex:{default:10}},emits:["clickBack","clickTitle","clickIcon","clickRight","onClickBack","onClickTitle","onClickIcon","onClickRight"],setup(e,{emit:t}){const n=e,r=t,s=z("auto"),i=z(),o=ae(()=>{const m="nut-navbar";return{[m]:!0,[`${m}--border`]:n.border,[`${m}--fixed`]:n.fixed,[`${m}--safe-area-inset-top`]:n.safeAreaInsetTop}}),l=ae(()=>n.fixed&&n.placeholder?{height:s.value}:{}),a=()=>{if(i.value){const m=i.value.getBoundingClientRect();s.value=`${m.height}px`}};Xe(()=>{n.fixed&&n.placeholder&&Dt(()=>{a()})});const d=()=>{r("clickBack"),r("onClickBack")},c=()=>{r("clickTitle"),r("onClickTitle")},u=()=>{r("clickIcon"),r("onClickIcon")},f=()=>{r("clickRight"),r("onClickRight")};return(m,p)=>($(),j("view",{class:"nut-navbar--placeholder",style:_e(l.value)},[I("view",{ref_key:"navbarRef",ref:i,class:xe(o.value),style:_e({zIndex:m.zIndex})},[I("view",{class:"nut-navbar__left",onClick:d},[m.leftShow?Re(m.$slots,"left-show",{key:0},()=>[oe(ee(jc),{height:"12px",color:"#979797"})]):fe("",!0),m.leftText?($(),j("view",bm,pe(m.leftText),1)):fe("",!0),Re(m.$slots,"left")]),I("view",Em,[m.title?($(),j("view",{key:0,class:"title",onClick:c},pe(m.title),1)):fe("",!0),m.titleIcon?($(),j("view",{key:1,class:"icon",onClick:u},[Re(m.$slots,"title-icon",{onClick:u})])):fe("",!0),Re(m.$slots,"content")]),I("view",{class:"nut-navbar__right",onClick:f},[m.desc?($(),j("view",xm,pe(m.desc),1)):fe("",!0),Re(m.$slots,"right")])],6)],4))}}));Yt(Jc);class Qc{}var Sm=Object.defineProperty,wm=(e,t,n)=>t in e?Sm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,We=(e,t,n)=>wm(e,typeof t!="symbol"?t+"":t,n);let Cm=class extends Qc{constructor(){super(...arguments),We(this,"save","保存"),We(this,"confirm","确认"),We(this,"cancel","取消"),We(this,"done","完成"),We(this,"noData","暂无数据"),We(this,"placeholder","请输入"),We(this,"select","请选择"),We(this,"video",{errorTip:"视频加载失败",clickRetry:"点击重试"}),We(this,"fixednav",{activeText:"收起导航",unActiveText:"快速导航"}),We(this,"pagination",{prev:"上一页",next:"下一页"}),We(this,"calendaritem",{weekdays:["日","一","二","三","四","五","六"],end:"结束",start:"开始",title:"日期选择",monthTitle:(t,n)=>`${t}年${n}月`,today:"今天"}),We(this,"calendarcard",{weekdays:["日","一","二","三","四","五","六"],end:"结束",start:"开始",title:"日期选择",monthTitle:(t,n)=>`${t}年${n}月`,today:"今天"}),We(this,"shortpassword",{title:"请输入密码",desc:"您使用了虚拟资产，请进行验证",tips:"忘记密码"}),We(this,"uploader",{ready:"准备完成",readyUpload:"准备上传",waitingUpload:"等待上传",uploading:"上传中",success:"上传成功",error:"上传失败"}),We(this,"countdown",{day:"天",hour:"时",minute:"分",second:"秒"}),We(this,"address",{selectRegion:"请选择所在地区",deliveryTo:"配送至",chooseAnotherAddress:"选择其他地址"}),We(this,"signature",{reSign:"重签",unSupportTpl:"对不起，当前浏览器不支持Canvas，无法使用本控件！"}),We(this,"ecard",{chooseText:"请选择电子卡面值",otherValueText:"其他面值",placeholder:"请输入1-5000整数"}),We(this,"timeselect",{pickupTime:"取件时间"}),We(this,"sku",{buyNow:"立即购买",buyNumber:"购买数量",addToCart:"加入购物车"}),We(this,"skuheader",{skuId:"商品编号"}),We(this,"addresslist",{addAddress:"新建地址",default:"默认"}),We(this,"comment",{complaintsText:"我要投诉",additionalReview:t=>`购买${t}天后追评`,additionalImages:t=>`${t}张追评图片`}),We(this,"infiniteloading",{loading:"加载中...",pullTxt:"松开刷新",loadMoreTxt:"哎呀，这里是底部了啦"}),We(this,"datepicker",{year:"年",month:"月",day:"日",hour:"时",min:"分",seconds:"秒"}),We(this,"audiooperate",{back:"倒退",start:"开始",pause:"暂停",forward:"快进",mute:"静音"}),We(this,"pullrefresh",{pulling:"下拉刷新",loosing:"释放刷新",loading:"加载中...",complete:"刷新成功"})}};var Om=Object.defineProperty,Lm=(e,t,n)=>t in e?Om(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ke=(e,t,n)=>Lm(e,typeof t!="symbol"?t+"":t,n);class Am extends Qc{constructor(){super(...arguments),Ke(this,"save","Save"),Ke(this,"confirm","Confirm"),Ke(this,"cancel","Cancel"),Ke(this,"done","Done"),Ke(this,"noData","No Data"),Ke(this,"placeholder","Placeholder"),Ke(this,"select","Select"),Ke(this,"video",{errorTip:"Error Tip",clickRetry:"Click Retry"}),Ke(this,"fixednav",{activeText:"Close Nav",unActiveText:"Open Nav"}),Ke(this,"pagination",{prev:"Previous",next:"Next"}),Ke(this,"calendaritem",{weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],end:"End",start:"Start",title:"Calendar",monthTitle:(t,n)=>`${t}/${n}`,today:"Today"}),Ke(this,"calendarcard",{weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],end:"End",start:"Start",title:"Calendar",monthTitle:(t,n)=>`${t}/${n}`,today:"Today"}),Ke(this,"shortpassword",{title:"Please input a password",desc:"Verify",tips:"Forget password"}),Ke(this,"uploader",{ready:"Ready",readyUpload:"Ready to upload",waitingUpload:"Waiting for upload",uploading:"Uploading",success:"Upload successful",error:"Upload failed"}),Ke(this,"countdown",{day:" Day ",hour:" Hour ",minute:" Minute ",second:" Second "}),Ke(this,"address",{selectRegion:"Select Region",deliveryTo:"Delivery To",chooseAnotherAddress:"Choose Another Address"}),Ke(this,"signature",{reSign:"Re Sign",unSupportTpl:"Sorry, the current browser doesn't support canvas, so we can't use this control!"}),Ke(this,"ecard",{chooseText:"Select",otherValueText:"Other Value",placeholder:"Placeholder"}),Ke(this,"timeselect",{pickupTime:"Pickup Time"}),Ke(this,"sku",{buyNow:"Buy Now",buyNumber:"Buy Number",addToCart:"Add to Cart"}),Ke(this,"skuheader",{skuId:"Sku Number"}),Ke(this,"addresslist",{addAddress:"Add New Address",default:"default"}),Ke(this,"comment",{complaintsText:"I have a complaint",additionalReview:t=>`Review after ${t} days of purchase`,additionalImages:t=>`There are ${t} follow-up comments`}),Ke(this,"infiniteloading",{loading:"Loading...",pullTxt:"Loose to refresh",loadMoreTxt:"Oops, this is the bottom"}),Ke(this,"datepicker",{year:"Year",month:"Month",day:"Day",hour:"Hour",min:"Minute",seconds:"Second"}),Ke(this,"audiooperate",{back:"Back",start:"Start",pause:"Pause",forward:"Forward",mute:"Mute"}),Ke(this,"pullrefresh",{pulling:"Pull to refresh...",loosing:"Loose to refresh...",loading:"Loading...",complete:"Refresh successfully"})}}var Tm=Object.defineProperty,Rm=(e,t,n)=>t in e?Tm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pm=(e,t,n)=>Rm(e,t+"",n);const fl=e=>e!==null&&typeof e=="object",Zc=(e,t)=>(Object.keys(t).forEach(n=>{const r=e[n],s=t[n];fl(r)&&fl(s)?Zc(r,s):e[n]=s}),e),as=it({"zh-CN":new Cm,"en-US":new Am});class ef{static languages(){return as[this.currentLang.value]}static use(t,n){n&&(as[t]=new n),this.currentLang.value=t}static merge(t,n){n&&(as[t]?Zc(as[t],n):this.use(t,n))}}Pm(ef,"currentLang",z("zh-CN"));const Qr=(e="")=>(t,...n)=>{e=e.toLocaleLowerCase();const r=ef.languages();let s=t;e&&e.startsWith("nut")&&(s=`${e.slice(3)}.${t}`);const i=Wa(r,s)||Wa(r,t);return Ms(i)?i(...n):i},{create:km}=Ct("fixed-nav"),Dm="NutFixedNav",Im=km({components:{NutOverlay:Js,Left:jc},props:{visible:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},navList:{default:()=>[],type:Array},activeColor:{default:"",type:String},activeText:{default:"",type:String},unActiveText:{default:"",type:String},position:{default:()=>({top:"auto",bottom:"auto"}),type:Object},type:{default:"right",type:String}},emits:["update:visible","selected"],setup(e,{emit:t}){const n=Qr(Dm),r=ae(()=>({["nut-fixed-nav"]:!0,active:e.visible,[e.type]:!0})),s=z(-1);return{classes:r,updateValue:(l=!e.visible)=>{t("update:visible",l)},selected:(l,a)=>{t("selected",{item:l,event:a}),s.value=l.id},translate:n,current:s}}}),Mm={class:"nut-fixed-nav__list"},Nm=["onClick"],$m=["src"],Bm={class:"span"},Fm={key:0,class:"b"},Um={class:"text"};function jm(e,t,n,r,s,i){const o=ft("nut-overlay"),l=ft("Left");return $(),j("view",{class:xe(e.classes),style:_e(e.position)},[e.overlay?($(),Pe(o,{key:0,visible:e.visible,"z-index":200,onClick:t[0]||(t[0]=a=>e.updateValue(!1))},null,8,["visible"])):fe("",!0),Re(e.$slots,"list",{},()=>[I("view",Mm,[($(!0),j(Se,null,st(e.navList,(a,d)=>($(),j("view",{key:a.id||d,class:xe(["nut-fixed-nav__list-item",{active:a.id==e.current}]),onClick:c=>e.selected(a,c)},[I("img",{src:a.icon},null,8,$m),I("view",Bm,pe(a.text),1),a.num?($(),j("view",Fm,pe(a.num),1)):fe("",!0)],10,Nm))),128))])]),I("div",{class:"nut-fixed-nav__btn",onClick:t[1]||(t[1]=a=>e.updateValue())},[Re(e.$slots,"btn",{},()=>[oe(l,{color:"#fff"}),I("view",Um,pe(e.visible?e.activeText||e.translate("activeText"):e.unActiveText||e.translate("unActiveText")),1)])])],6)}const Vm=Ft(Im,[["render",jm]]),Hm=(e,t)=>e?yt(e,t):"",ls=window;function Wm(){return typeof ls<"u"?ls.requestAnimationFrame||ls.webkitRequestAnimationFrame||function(e){ls.setTimeout(e,1e3/60)}:function(e){setTimeout(e,1e3/60)}}const cr=Wm(),dl=10;function Km(e,t){return e>t&&e>dl?"horizontal":t>e&&t>dl?"vertical":""}function zm(){const e=z(0),t=z(0),n=z(0),r=z(0),s=z(0),i=z(0),o=z(0),l=z(0),a=z(""),d=()=>a.value==="vertical",c=()=>a.value==="horizontal",u=()=>{s.value=0,i.value=0,o.value=0,l.value=0,a.value=""};return{move:p=>{const y=p.touches[0];s.value=y.clientX-e.value,i.value=y.clientY-t.value,n.value=y.clientX,r.value=y.clientY,o.value=Math.abs(s.value),l.value=Math.abs(i.value),a.value||(a.value=Km(o.value,l.value))},start:p=>{u(),e.value=p.touches[0].clientX,t.value=p.touches[0].clientY},reset:u,startX:e,startY:t,moveX:n,moveY:r,deltaX:s,deltaY:i,offsetX:o,offsetY:l,direction:a,isVertical:d,isHorizontal:c}}const Gm=Symbol("nut-form-disabled"),ei=e=>{const{parent:t}=qc(Gm);return ae(()=>{var n;return e.value||((n=t==null?void 0:t.props)==null?void 0:n.disabled)||!1})},Ym=Symbol("nut-checkbox"),{create:qm,componentName:ln}=Ct("checkbox"),Xm=qm({props:{modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},textPosition:{type:String,default:"right"},iconSize:{type:[String,Number],default:""},label:{type:String,default:""},indeterminate:{type:Boolean,default:!1},shape:{type:String,default:"round"}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const r=ei(Yr(e,"disabled")),s=xt(Ym,null),i=it({partialSelect:e.indeterminate}),o=ae(()=>!!s),l=ae(()=>o.value?s.value.value.includes(e.label):e.modelValue),a=ae(()=>o.value&&s.disabled.value?s.disabled.value:r.value),d=ae(()=>!!e.modelValue),c=ae(()=>a.value?"nut-checkbox__icon--disable":i.partialSelect?"nut-checkbox__icon--indeterminate":l.value?"nut-checkbox__icon":"nut-checkbox__icon--unchecked");let u="";const f=(_,h)=>{u="click",t("update:modelValue",_),t("change",_,h)};Me(()=>e.modelValue,_=>{u=="click"?u="":t("change",_)});const m=()=>{const{iconSize:_}=e,h={CheckNormal:n.icon?n.icon:D0,Checked:n.checkedIcon?n.checkedIcon:Fc,CheckDisabled:n.indeterminate?n.indeterminate:A0},g=i.partialSelect?h.CheckDisabled:l.value?h.Checked:h.CheckNormal,b=tr(_);return yt(g,{width:b,height:b,size:b,class:c.value})},p=()=>{var _;return yt("view",{class:`${ln}__label ${a.value?`${ln}__label--disabled`:""}`},(_=n.default)==null?void 0:_.call(n))},y=()=>{var _;return yt("view",{class:`${ln}__button ${l.value&&`${ln}__button--active`} ${a.value?`${ln}__button--disabled`:""}`},(_=n.default)==null?void 0:_.call(n))},E=()=>{var _,h;if(!a.value){if(d.value&&i.partialSelect){i.partialSelect=!1,f(d.value,(_=n.default)==null?void 0:_.call(n)[0].children);return}if(f(!d.value,(h=n.default)==null?void 0:h.call(n)[0].children),o.value){const g=s.value.value,b=s.max.value,{label:v}=e,x=g.indexOf(v);x>-1?g.splice(x,1):x<=-1&&(g.length<b||!b)&&g.push(v),s.updateValue(g)}}};return Xe(()=>{o.value&&s.link(zt())}),zs(()=>{o.value&&s.unlink(zt())}),Me(()=>e.indeterminate,_=>{i.partialSelect=_}),()=>yt("view",{class:`${ln} ${ln}--${e.shape} ${e.textPosition==="left"?`${ln}--reverse`:""}`,onClick:E},[e.shape=="button"?y():[m(),p()]])}});var Jm=Object.defineProperty,Qm=Object.defineProperties,Zm=Object.getOwnPropertyDescriptors,hl=Object.getOwnPropertySymbols,ev=Object.prototype.hasOwnProperty,tv=Object.prototype.propertyIsEnumerable,pl=(e,t,n)=>t in e?Jm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Or=(e,t)=>{for(var n in t||(t={}))ev.call(t,n)&&pl(e,n,t[n]);if(hl)for(var n of hl(t))tv.call(t,n)&&pl(e,n,t[n]);return e},tf=(e,t)=>Qm(e,Zm(t));const nv={text:"text",value:"value",children:"children",className:"className"},rv=(e,t)=>{const n=it({formattedColumns:e.columns}),r=ae(()=>Or(Or({},nv),e.fieldNames)),s=z([]),i=ae(()=>{const E=r.value;return c.value.map((_,h)=>{const g=_.findIndex(b=>b[E.value]===s.value[h]);return g===-1?0:g})}),o=z([]),l=E=>{E&&o.value.length<c.value.length&&o.value.push(E)},a=ae(()=>{const E=r.value;return c.value.map((_,h)=>_.find(g=>g[E.value]===s.value[h])||_[0])}),d=ae(()=>{const E=n.formattedColumns[0],_=r.value;if(E){if(Array.isArray(E))return"multiple";if(_.children in E)return"cascade"}return"single"}),c=ae(()=>{let E=[];switch(d.value){case"multiple":E=n.formattedColumns;break;case"cascade":E=u(n.formattedColumns,s.value?s.value:[]);break;default:E=[n.formattedColumns];break}return E}),u=(E,_)=>{const h=[],g=r.value;let b={text:"",value:"",[g.children]:E},v=0;for(;b&&b[g.children];){const x=b[g.children],S=_[v];let O=x.findIndex(T=>T[g.value]===S);O===-1&&(O=0),b=b[g.children][O],v++,h.push(x)}return h},f=()=>{t("cancel",{selectedValue:s.value,selectedOptions:a.value})},m=(E,_)=>{var h;const g=r.value;if(_&&Object.keys(_).length){if(s.value=s.value?s.value:[],d.value==="cascade"){s.value[E]=(h=_[g.value])!=null?h:"";let b=E,v=_;for(;v&&v[g.children]&&v[g.children][0];)s.value[b+1]=v[g.children][0][g.value],b++,v=v[g.children][0];v&&v[g.children]&&v[g.children].length===0&&(s.value=s.value.slice(0,b+1))}else s.value[E]=Object.prototype.hasOwnProperty.call(_,g.value)?_[g.value]:"";t("change",{columnIndex:E,selectedValue:s.value,selectedOptions:a.value})}},p=()=>{const E=r.value;s.value&&!s.value.length&&c.value.forEach(_=>{s.value.push(_[0][E.value])}),t("confirm",{selectedValue:s.value,selectedOptions:a.value})},y=(E,_)=>JSON.stringify(E)===JSON.stringify(_);return Me(()=>e.modelValue,E=>{y(E,s.value)||(s.value=E)},{deep:!0,immediate:!0}),Me(s,E=>{y(E,e.modelValue)||t("update:modelValue",E)},{deep:!0}),Me(()=>e.columns,E=>{n.formattedColumns=E}),tf(Or({},Jn(n)),{columnsType:d,columnsList:c,columnFieldNames:r,cancel:f,changeHandler:m,confirm:p,defaultValues:s,defaultIndexes:i,pickerColumn:o,swipeRef:l,selectedOptions:a,isSameValue:y})},{create:sv}=Ct("picker-column"),iv=sv({props:{value:[String,Number],columnsType:String,column:{type:Array,default:()=>[]},threeDimensional:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:1e3},visibleOptionNum:{type:[Number,String],default:7},optionHeight:{type:[Number,String],default:36},fieldNames:{type:Object,default:()=>({})},taro:{type:Boolean,default:!1}},emits:["click","change"],setup(e,{emit:t}){const n=zm(),r=it({touchParams:{startY:0,endY:0,startTime:0,endTime:0,lastY:0,lastTime:0},currIndex:1,transformY:0,scrollDistance:0,rotation:20}),s=z(null),i=z(!1),o=z(0),l=z(0),a=200,d=300,c=15,u=ae(()=>({transition:`transform ${l.value}ms cubic-bezier(0.17, 0.89, 0.45, 1)`,transform:`rotate3d(1, 0, 0, ${o.value})`,top:`calc(50% - ${+e.optionHeight/2}px)`})),f=ae(()=>{const{optionHeight:P}=e;return{transition:`transform ${l.value}ms cubic-bezier(0.17, 0.89, 0.45, 1)`,transform:`translate3d(0, ${r.scrollDistance}px, 0)`,top:`calc(50% - ${+P/2}px)`,height:`${P}px`}}),m=P=>`transform: rotate3d(1, 0, 0, ${-r.rotation*P}deg) translate3d(0px, 0px, 104px)`,p=ae(()=>({backgroundSize:`100% ${(+e.visibleOptionNum-1)*+e.optionHeight/2}px`})),y=P=>{if(n.start(P),i.value&&!e.taro){const C=s.value,{transform:w}=window.getComputedStyle(C);if(e.threeDimensional){const L=Math.floor(parseInt(o.value)/360),A=+w.split(", ")[5],M=+w.split(", ")[6]<0?180:0,D=L*360+Math.acos(A)/Math.PI*180+M;r.scrollDistance=-Math.abs((D/r.rotation-1)*+e.optionHeight)}else r.scrollDistance=+w.slice(7,w.length-1).split(", ")[5]}Ka(P),r.touchParams.startY=n.deltaY.value,r.touchParams.startTime=Date.now(),r.transformY=r.scrollDistance},E=P=>{n.move(P),n.isVertical()&&(i.value=!0,Ka(P)),r.touchParams.lastY=n.deltaY.value;let C=r.touchParams.lastY-r.touchParams.startY;x(C)},_=()=>{r.touchParams.lastY=n.deltaY.value,r.touchParams.lastTime=Date.now();let P=r.touchParams.lastY-r.touchParams.startY,C=r.touchParams.lastTime-r.touchParams.startTime;if(C<=d&&Math.abs(P)>c){const w=h(P,C);x(w,"end",+e.swipeDuration);return}else x(P,"end");setTimeout(()=>{n.reset(),i.value=!1},0)},h=(P,C)=>(P=Math.abs(P/C)/.003*(P<0?-1:1),P),g=P=>P>=r.currIndex+8||P<=r.currIndex-8,b=P=>P==r.currIndex,v=(P=0,C,w=a,L)=>{C==="end"?l.value=w:l.value=0,o.value=L,r.scrollDistance=P},x=(P,C,w)=>{const{optionHeight:L}=e;let A=P+r.transformY;if(C==="end"){A>0&&(A=0),A<-(e.column.length-1)*+L&&(A=-(e.column.length-1)*+L);let M=Math.round(A/+L)*+L,D=`${(Math.abs(Math.round(M/+L))+1)*r.rotation}deg`;v(M,C,w,D),r.currIndex=Math.abs(Math.round(M/+L))+1}else{let M=0,D=(-A/+L+1)*r.rotation;const N=(e.column.length+1)*r.rotation,U=0;M=c_(D,U,N),U<M&&M<N&&(v(A,null,void 0,M+"deg"),r.currIndex=Math.abs(Math.round(A/+L))+1)}},S=()=>{t("change",e.column[r.currIndex-1])},O=P=>{const{column:C}=e;let w=C.findIndex(A=>A[e.fieldNames.value]===e.value);r.currIndex=w===-1?1:w+1;let L=w===-1?0:w*+e.optionHeight;P&&S(),x(-L)},T=()=>{i.value=!1,l.value=0,S()};return Me(()=>e.column,()=>{e.column&&e.column.length>0&&(r.transformY=0,O(!1))},{deep:!0}),Me(()=>e.value,()=>{r.transformY=0,O(!1)},{deep:!0}),Xe(()=>{O(!0)}),tf(Or(Or({},Jn(r)),Jn(e)),{setRollerStyle:m,isHidden:g,isCurrPick:b,roller:s,onTouchStart:y,onTouchMove:E,onTouchEnd:_,touchRollerStyle:u,touchTileStyle:f,setMove:x,stopMomentum:T,pxCheck:tr,maskStyles:p})}});function ov(e,t,n,r,s,i){return $(),j("view",{class:"nut-picker__list",onTouchstart:t[1]||(t[1]=(...o)=>e.onTouchStart&&e.onTouchStart(...o)),onTouchmove:t[2]||(t[2]=(...o)=>e.onTouchMove&&e.onTouchMove(...o)),onTouchend:t[3]||(t[3]=(...o)=>e.onTouchEnd&&e.onTouchEnd(...o))},[I("view",{ref:"roller",class:"nut-picker-roller",style:_e(e.threeDimensional?e.touchRollerStyle:e.touchTileStyle),onTransitionend:t[0]||(t[0]=(...o)=>e.stopMomentum&&e.stopMomentum(...o))},[($(!0),j(Se,null,st(e.column,(o,l)=>{var a;return $(),j(Se,{key:(a=o[e.fieldNames.value])!=null?a:l},[o&&o[e.fieldNames.text]&&e.threeDimensional?($(),j("view",{key:0,class:xe(["nut-picker-roller-item",{"nut-picker-roller-item-hidden":e.isHidden(l+1),[o[e.fieldNames.className]]:o[e.fieldNames.className]}]),style:_e(e.setRollerStyle(l+1))},pe(o[e.fieldNames.text]),7)):fe("",!0),o&&o[e.fieldNames.text]&&!e.threeDimensional?($(),j("view",{key:1,class:xe(["nut-picker-roller-item-tile",{[o[e.fieldNames.className]]:o[e.fieldNames.className],"nut-picker-roller-item-selected":e.isCurrPick(l+1)}]),style:_e({height:e.pxCheck(e.optionHeight),lineHeight:e.pxCheck(e.optionHeight)})},pe(o[e.fieldNames.text]),7)):fe("",!0)],64)}),128))],36),I("view",{class:"nut-picker-roller-mask",style:_e(e.maskStyles)},null,4)],32)}const av=Ft(iv,[["render",ov]]),lv={modelValue:{type:Array,default:()=>[]},title:{type:String,default:""},cancelText:{type:String,default:""},okText:{type:String,default:""},columns:{type:Array,default:()=>[]},threeDimensional:{type:Boolean,default:!1},swipeDuration:{type:[Number,String],default:1e3},showToolbar:{type:Boolean,default:!0},visibleOptionNum:{type:[Number,String],default:7},optionHeight:{type:[Number,String],default:36},fieldNames:{type:Object,default:()=>({})}},{create:uv}=Ct("picker"),cv="NutPicker",fv=uv({components:{NutPickerColumn:av},props:lv,emits:["cancel","change","confirm","update:modelValue"],setup(e,{emit:t}){const n=Qr(cv),{changeHandler:r,confirm:s,defaultValues:i,columnsList:o,columnsType:l,columnFieldNames:a,cancel:d}=rv(e,t),c=z([]),u=p=>{p&&c.value.length<o.value.length&&c.value.push(p)},f=ae(()=>{const p={};return p.height=`${+e.visibleOptionNum*+e.optionHeight}px`,p["--lineHeight"]=`${+e.optionHeight}px`,p});return{columnsType:l,columnsList:o,columnFieldNames:a,cancel:d,changeHandler:r,confirmHandler:()=>{c.value.length>0&&c.value.forEach(p=>{p.stopMomentum()}),s()},defaultValues:i,translate:n,pickerColumn:c,swipeRef:u,columnStyle:f}}}),dv={class:"nut-picker"},hv={key:0,class:"nut-picker__bar"},pv={class:"nut-picker__title"};function _v(e,t,n,r,s,i){const o=ft("nut-picker-column");return $(),j("div",dv,[e.showToolbar?($(),j("view",hv,[I("view",{class:"nut-picker__left",onClick:t[0]||(t[0]=(...l)=>e.cancel&&e.cancel(...l))},pe(e.cancelText||e.translate("cancel")),1),I("view",pv,pe(e.title),1),I("view",{class:"nut-picker__right",onClick:t[1]||(t[1]=(...l)=>e.confirmHandler&&e.confirmHandler(...l))},pe(e.okText||e.translate("confirm")),1)])):fe("",!0),Re(e.$slots,"top"),I("view",{class:"nut-picker__column",style:_e(e.columnStyle)},[($(!0),j(Se,null,st(e.columnsList,(l,a)=>($(),j("view",{key:a,class:"nut-picker__columnitem"},[oe(o,{ref_for:!0,ref:e.swipeRef,column:l,"columns-type":e.columnsType,"field-names":e.columnFieldNames,value:e.defaultValues&&e.defaultValues[a],"three-dimensional":e.threeDimensional,"swipe-duration":e.swipeDuration,"visible-option-num":e.visibleOptionNum,"option-height":e.optionHeight,onChange:d=>{e.changeHandler(a,d)}},null,8,["column","columns-type","field-names","value","three-dimensional","swipe-duration","visible-option-num","option-height","onChange"])]))),128))],4),Re(e.$slots,"default")])}const mv=Ft(fv,[["render",_v]]);var vv=Object.defineProperty,gv=Object.defineProperties,yv=Object.getOwnPropertyDescriptors,_l=Object.getOwnPropertySymbols,bv=Object.prototype.hasOwnProperty,Ev=Object.prototype.propertyIsEnumerable,ml=(e,t,n)=>t in e?vv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xv=(e,t)=>{for(var n in t||(t={}))bv.call(t,n)&&ml(e,n,t[n]);if(_l)for(var n of _l(t))Ev.call(t,n)&&ml(e,n,t[n]);return e},Sv=(e,t)=>gv(e,yv(t));const{create:wv}=Ct("date-picker"),vl=new Date().getFullYear();function Oi(e){return i_(e)&&!isNaN(e.getTime())}const Cv={day:"日",year:"年",month:"月",hour:"时",minute:"分",seconds:"秒"},Ov=wv({components:{NutPicker:mv},props:{modelValue:null,title:{type:String,default:""},okText:{type:String,default:""},cancelText:{type:String,default:""},type:{type:String,default:"date"},isShowChinese:{type:Boolean,default:!1},minuteStep:{type:Number,default:1},minDate:{type:Date,default:()=>new Date(vl-10,0,1),validator:Oi},maxDate:{type:Date,default:()=>new Date(vl+10,11,31),validator:Oi},formatter:{type:Function,default:null},threeDimensional:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:1e3},filter:Function,showToolbar:{type:Boolean,default:!0},visibleOptionNum:{type:[Number,String],default:7},optionHeight:{type:[Number,String],default:36}},emits:["click","cancel","change","confirm","update:modelValue"],setup(e,{emit:t}){const n=it({currentDate:new Date,title:e.title,selectedValue:[]}),r=E=>{Oi(E)||(E=e.minDate);let _=Math.max(E.getTime(),e.minDate.getTime());return _=Math.min(_,e.maxDate.getTime()),new Date(_)};function s(E,_){return 32-new Date(E,_-1,32).getDate()}const i=(E,_)=>{const h=E=="min"?e.minDate:e.maxDate,g=h.getFullYear();let b=1,v=1,x=0,S=0;E==="max"&&(b=12,v=s(_.getFullYear(),_.getMonth()+1),x=23,S=59);let O=S;return _.getFullYear()===g&&(b=h.getMonth()+1,_.getMonth()+1===b&&(v=h.getDate(),_.getDate()===v&&(x=h.getHours(),_.getHours()===x&&(S=h.getMinutes(),_.getMinutes()===S&&(O=h.getSeconds()))))),{[`${E}Year`]:g,[`${E}Month`]:b,[`${E}Date`]:v,[`${E}Hour`]:x,[`${E}Minute`]:S,[`${E}Seconds`]:O}},o=ae(()=>{const{maxYear:E,maxDate:_,maxMonth:h,maxHour:g,maxMinute:b,maxSeconds:v}=i("max",n.currentDate),{minYear:x,minDate:S,minMonth:O,minHour:T,minMinute:P,minSeconds:C}=i("min",n.currentDate);return p([{type:"year",range:[x,E]},{type:"month",range:[O,h]},{type:"day",range:[S,_]},{type:"hour",range:[T,g]},{type:"minute",range:[P,b]},{type:"seconds",range:[C,v]}])}),l=ae(()=>o.value.map((_,h)=>c(_.range[0],_.range[1],u(_.type),_.type,h))),a=({columnIndex:E,selectedValue:_,selectedOptions:h})=>{let g=[];_.forEach(O=>{g.push(O)}),e.type=="month-day"&&g.length<3&&g.unshift(new Date(n.currentDate||e.minDate||e.maxDate).getFullYear()),e.type=="year-month"&&g.length<3&&g.push(new Date(n.currentDate||e.minDate||e.maxDate).getDate());const b=Number(g[0]),v=Number(g[1])-1,x=Math.min(Number(g[2]),s(Number(g[0]),Number(g[1])));let S=null;if(e.type==="date"||e.type==="month-day"||e.type==="year-month")S=new Date(b,v,x);else if(e.type==="datetime")S=new Date(b,v,x,Number(g[3]),Number(g[4]));else if(e.type==="datehour")S=new Date(b,v,x,Number(g[3]));else if(e.type==="hour-minute"||e.type==="time"){S=new Date(n.currentDate);const O=S.getFullYear(),T=S.getMonth(),P=S.getDate();S=new Date(O,T,P,Number(g[0]),Number(g[1]),Number(g[2]||0))}n.currentDate=r(S),t("change",{columnIndex:E,selectedValue:_,selectedOptions:h})},d=(E,_)=>{const{formatter:h,isShowChinese:g}=e;let b=null;if(h)b=h(E,{text:wi(_,2),value:wi(_,2)});else{const v=wi(_,2),x=g?Cv[E]:"";b={text:v+x,value:v}}return b},c=(E,_,h,g,b)=>{const v=[];let x=0;for(;E<=_;)v.push(d(g,E)),g==="minute"?E+=e.minuteStep:E++,E<=Number(h)&&x++;return n.selectedValue[b]=v[x].value,e.filter?e.filter(g,v):v},u=E=>E==="year"?n.currentDate.getFullYear():E==="month"?n.currentDate.getMonth()+1:E==="day"?n.currentDate.getDate():E==="hour"?n.currentDate.getHours():E==="minute"?n.currentDate.getMinutes():E==="seconds"?n.currentDate.getSeconds():0,f=E=>{t("cancel",E)},m=E=>{t("confirm",E)},p=E=>{switch(e.type){case"date":E=E.slice(0,3);break;case"datetime":E=E.slice(0,5);break;case"time":E=E.slice(3,6);break;case"year-month":E=E.slice(0,2);break;case"month-day":E=E.slice(1,3);break;case"datehour":E=E.slice(0,4);break;case"hour-minute":E=E.slice(3,5);break}return E},y=E=>{const _=[E.getFullYear(),E.getMonth()+1,E.getDate(),E.getHours(),E.getMinutes(),E.getSeconds()];return p(_.map(h=>String(h)))};return nc(()=>{n.currentDate=r(e.modelValue)}),Me(()=>e.modelValue,E=>{const _=r(E);JSON.stringify(_)===JSON.stringify(n.currentDate)||(n.currentDate=_,n.selectedValue=y(_))}),Me(()=>n.currentDate,E=>{JSON.stringify(E)===JSON.stringify(e.modelValue)||t("update:modelValue",E)}),Me(()=>e.title,E=>{n.title=E}),Sv(xv({},Jn(n)),{changeHandler:a,closeHandler:f,confirm:m,columns:l})}});function Lv(e,t,n,r,s,i){const o=ft("nut-picker");return $(),Pe(o,{modelValue:e.selectedValue,"onUpdate:modelValue":t[0]||(t[0]=l=>e.selectedValue=l),"ok-text":e.okText,"cancel-text":e.cancelText,columns:e.columns,title:e.title,"three-dimensional":e.threeDimensional,"swipe-duration":e.swipeDuration,"show-toolbar":e.showToolbar,"visible-option-num":e.visibleOptionNum,"option-height":e.optionHeight,onCancel:e.closeHandler,onChange:e.changeHandler,onConfirm:e.confirm},{top:Ee(()=>[Re(e.$slots,"top")]),default:Ee(()=>[Re(e.$slots,"default")]),_:3},8,["modelValue","ok-text","cancel-text","columns","title","three-dimensional","swipe-duration","show-toolbar","visible-option-num","option-height","onCancel","onChange","onConfirm"])}const Av=Ft(Ov,[["render",Lv]]);var Tv=Object.defineProperty,Rv=Object.defineProperties,Pv=Object.getOwnPropertyDescriptors,gl=Object.getOwnPropertySymbols,kv=Object.prototype.hasOwnProperty,Dv=Object.prototype.propertyIsEnumerable,yl=(e,t,n)=>t in e?Tv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bl=(e,t)=>{for(var n in t||(t={}))kv.call(t,n)&&yl(e,n,t[n]);if(gl)for(var n of gl(t))Dv.call(t,n)&&yl(e,n,t[n]);return e},Iv=(e,t)=>Rv(e,Pv(t));function El(e,t,n){const r=e.indexOf(t);return r===-1?e:t==="-"&&r!==0?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function Mv(e,t=!0,n=!0){t?e=El(e,".",/\./g):e=e.split(".")[0],n?e=El(e,"-",/-/g):e=e.replace(/-/,"");const r=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(r,"")}function Nv(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}const $v={class:"nut-input-value"},Bv={class:"nut-input-inner"},Fv={key:0,class:"nut-input-left-box"},Uv={class:"nut-input-box"},jv={key:0,class:"nut-input-word-limit"},Vv={class:"nut-input-word-num"},Hv={class:"nut-input-right-box"},ti=ht(Iv(bl({},{name:"NutInput"}),{__name:"input",props:{type:{default:"text"},modelValue:{default:""},placeholder:{default:""},inputAlign:{default:"left"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxLength:{default:""},clearable:{type:Boolean,default:!1},clearSize:{default:"14"},border:{type:Boolean,default:!0},formatTrigger:{default:"onChange"},formatter:{},showWordLimit:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},confirmType:{default:"done"},error:{type:Boolean,default:!1},showClearIcon:{type:Boolean,default:!1}},emits:["update:modelValue","blur","focus","clear","keypress","click","clickInput","confirm"],setup(e,{expose:t,emit:n}){const r=e,s=n,i=ei(Yr(r,"disabled")),o=z(!1),l=z(),a=()=>{var C;return String((C=r.modelValue)!=null?C:"")},d=C=>yt("input",bl({},Nv(C))),c=it({focused:!1,validateFailed:!1,validateMessage:""}),u=ae(()=>{const C="nut-input";return{[C]:!0,[`${C}--disabled`]:i.value,[`${C}--required`]:r.required,[`${C}--error`]:r.error,[`${C}--border`]:r.border}}),f=ae(()=>({textAlign:r.inputAlign})),m=C=>{if(!C.target.composing){let L=C.target.value;r.maxLength&&L.length>Number(r.maxLength)&&(L=L.slice(0,Number(r.maxLength))),p(L)}},p=(C,w="onChange")=>{var L;if(["number","digit"].includes(r.type)){const A=r.type==="number";C=Mv(C,A,A)}r.formatter&&w===r.formatTrigger&&(C=r.formatter(C)),((L=l==null?void 0:l.value)==null?void 0:L.value)!==C&&(l.value.value=C),C!==r.modelValue&&s("update:modelValue",C)},y=C=>{i.value||r.readonly||(o.value=!0,s("focus",C))},E=C=>{if(i.value||r.readonly)return;setTimeout(()=>{o.value=!1},200);let L=C.target.value;r.maxLength&&L.length>Number(r.maxLength)&&(L=L.slice(0,Number(r.maxLength))),p(a(),"onBlur"),s("blur",C)},_=C=>{C.stopPropagation(),!i.value&&(s("update:modelValue","",C),s("clear","",C))},h=()=>{c.validateFailed&&(c.validateFailed=!1,c.validateMessage="")},g=C=>{i.value||s("clickInput",C)},b=C=>{s("click",C)},v=({target:C})=>{C.composing=!0},x=({target:C})=>{C.composing&&(C.composing=!1,C.dispatchEvent(new Event("input")))};Me(()=>r.modelValue,()=>{p(a()),h()}),Xe(()=>{p(a(),r.formatTrigger)});const S=()=>{var C;(C=l.value)==null||C.focus()},O=()=>{var C;(C=l.value)==null||C.blur()},T=()=>{var C;(C=l.value)==null||C.select()},P=C=>{C.key==="Enter"&&s("confirm",C)};return t({focus:S,blur:O,select:T}),(C,w)=>($(),j("view",{class:xe(u.value),onClick:b},[I("view",$v,[I("view",Bv,[C.$slots.left?($(),j("view",Fv,[Re(C.$slots,"left")])):fe("",!0),I("view",Uv,[($(),Pe(Nr(d(C.type)),{ref_key:"inputRef",ref:l,class:"input-text",style:_e(f.value),maxlength:C.maxLength,placeholder:C.placeholder,disabled:ee(i),readonly:C.readonly,value:C.modelValue,"format-trigger":C.formatTrigger,autofocus:C.autofocus,enterkeyhint:C.confirmType,onInput:m,onFocus:y,onBlur:E,onClick:g,onChange:x,onCompositionend:x,onCompositionstart:v,onKeyup:P},null,40,["style","maxlength","placeholder","disabled","readonly","value","format-trigger","autofocus","enterkeyhint"])),C.showWordLimit&&C.maxLength?($(),j("view",jv,[I("span",Vv,pe(a()?a().length:0),1),Ue("/"+pe(C.maxLength),1)])):fe("",!0)]),C.clearable&&!C.readonly?Je(($(),j("view",{key:1,class:"nut-input-clear-box",onClick:_},[Re(C.$slots,"clear",{},()=>[oe(ee(_p),No({class:"nut-input-clear"},C.$attrs,{size:C.clearSize,width:C.clearSize,height:C.clearSize}),null,16,["size","width","height"])])],512)),[[rn,(o.value||C.showClearIcon)&&a().length>0]]):fe("",!0),I("view",Hv,[Re(C.$slots,"right")])])])],2))}}));Yt(ti);var Wv=Object.defineProperty,Kv=Object.defineProperties,zv=Object.getOwnPropertyDescriptors,xl=Object.getOwnPropertySymbols,Gv=Object.prototype.hasOwnProperty,Yv=Object.prototype.propertyIsEnumerable,Sl=(e,t,n)=>t in e?Wv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qv=(e,t)=>{for(var n in t||(t={}))Gv.call(t,n)&&Sl(e,n,t[n]);if(xl)for(var n of xl(t))Yv.call(t,n)&&Sl(e,n,t[n]);return e},Xv=(e,t)=>Kv(e,zv(t));const Jv=["rows","disabled","readonly","value","maxlength","placeholder","autofocus"],Qv={key:0,class:"nut-textarea__limit"},wl="NutTextarea",nf=ht(Xv(qv({},{name:wl}),{__name:"textarea",props:{modelValue:{default:""},textAlign:{},limitShow:{type:Boolean,default:!1},maxLength:{default:""},rows:{default:"2"},placeholder:{default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autosize:{type:[Boolean,Object],default:!1},autofocus:{type:Boolean,default:!1}},emits:["update:modelValue","change","blur","focus"],setup(e,{emit:t}){const n=e,r=t,s=ei(Yr(n,"disabled")),i=Qr(wl),o=z(null),l=ae(()=>{const _="nut-textarea";return{[_]:!0,[`${_}--disabled`]:s.value}}),a=ae(()=>({textAlign:n.textAlign})),d=_=>{const h=o.value;h&&h.style&&(h.style.height=typeof _=="number"?`${_}px`:_)},c=()=>{if(d("auto"),o.value){let _=o.value.scrollHeight;if(typeof n.autosize=="object"){const{maxHeight:h,minHeight:g}=n.autosize;h!==void 0&&(_=Math.min(_,h)),g!==void 0&&(_=Math.max(_,g))}_&&d(_)}};Xe(()=>{n.modelValue&&u(String(n.modelValue)),n.autosize&&Dt(c)}),Me(()=>n.modelValue,()=>{n.autosize&&Dt(c)});const u=(_,h)=>{n.maxLength&&_.length>Number(n.maxLength)&&(_=_.substring(0,Number(n.maxLength))),r("update:modelValue",_,h),r("change",_,h)},f=_=>{const h=_.target;if(!h.composing){let g=h.value;n.maxLength&&g.length>Number(n.maxLength)&&(g=g.slice(0,Number(n.maxLength))),u(h.value,_)}},m=_=>{s.value||n.readonly||r("focus",_)},p=_=>{if(s.value||n.readonly)return;const g=_.target.value;u(g,_),r("blur",{value:g,event:_})},y=({target:_})=>{const h=_;h.composing=!0},E=({target:_})=>{const h=_;h.composing&&(h.composing=!1,h.dispatchEvent(new Event("input")))};return(_,h)=>($(),j("view",{class:xe(l.value)},[I("textarea",{ref_key:"textareaRef",ref:o,class:"nut-textarea__textarea",style:_e(a.value),rows:_.rows,disabled:ee(s),readonly:_.readonly,value:_.modelValue,maxlength:_.maxLength,placeholder:_.placeholder||ee(i)("placeholder"),autofocus:_.autofocus,onInput:f,onBlur:p,onFocus:m,onChange:E,onCompositionend:E,onCompositionstart:y},null,44,Jv),_.limitShow?($(),j("view",Qv,pe(_.modelValue?_.modelValue.length:0)+"/"+pe(_.maxLength),1)):fe("",!0)],2))}}));Yt(nf);const rf=(e,{args:t=[],done:n,canceled:r})=>{if(e){const s=e(...t);l_(s)?s.then(i=>{i?n(i):r&&r()}).catch(()=>{}):s?n():r&&r()}else n()};var Zv=Object.defineProperty,eg=Object.defineProperties,tg=Object.getOwnPropertyDescriptors,Cl=Object.getOwnPropertySymbols,ng=Object.prototype.hasOwnProperty,rg=Object.prototype.propertyIsEnumerable,Ol=(e,t,n)=>t in e?Zv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sg=(e,t)=>{for(var n in t||(t={}))ng.call(t,n)&&Ol(e,n,t[n]);if(Cl)for(var n of Cl(t))rg.call(t,n)&&Ol(e,n,t[n]);return e},ig=(e,t)=>eg(e,tg(t));const og={class:"nut-progress"},Uo=ht(ig(sg({},{name:"NutProgress"}),{__name:"progress",props:{percentage:{default:0},size:{default:"base"},status:{default:"text"},strokeWidth:{},textInside:{type:Boolean,default:!1},showText:{type:Boolean,default:!0},strokeColor:{},textColor:{},textBackground:{},isShowPercentage:{type:Boolean,default:!0}},setup(e){const t=e,n=ae(()=>{if(t.strokeWidth)return t.strokeWidth+"px"}),r=ae(()=>Number(t.percentage)>=100?100:Number(t.percentage)),s=ae(()=>({width:r.value+"%",background:t.strokeColor||""})),i=ae(()=>({color:t.textColor||""}));return(o,l)=>($(),j("div",og,[I("div",{class:xe(["nut-progress-outer",[o.showText&&!o.textInside?"nut-progress-outer-part":"",o.size?"nut-progress-"+o.size:""]]),style:_e({height:n.value})},[I("div",{class:xe(["nut-progress-inner",o.status==="active"?"nut-active":""]),style:_e(s.value)},null,6),o.showText&&o.textInside&&!o.$slots.default?($(),j("div",{key:0,class:"nut-progress-text nut-progress-insidetext",style:_e({lineHeight:n.value,left:`${r.value}%`,transform:`translate(-${+r.value}%,-50%)`,background:o.textBackground||o.strokeColor})},[I("span",{style:_e(i.value)},pe(r.value)+pe(o.isShowPercentage?"%":""),5)],4)):fe("",!0),o.showText&&o.textInside&&o.$slots.default?($(),j("div",{key:1,class:"nut-progress-slot",style:_e({position:"absolute",top:"50%",left:`${r.value}%`,transform:`translate(-${+r.value}%,-50%)`})},[Re(o.$slots,"default")],4)):fe("",!0)],6),o.showText&&!o.textInside?($(),j("div",{key:0,class:"nut-progress-text",style:_e({lineHeight:n.value})},[o.status==="text"||o.status==="active"?($(),j("span",{key:0,style:_e(i.value)},pe(r.value)+pe(o.isShowPercentage?"%":""),5)):o.status==="icon"?Re(o.$slots,"icon-name",{key:1},()=>[oe(ee(Fc),{width:"15px",height:"15px",color:"#439422"})]):fe("",!0)],4)):fe("",!0)]))}}));Yt(Uo);var ag=Object.defineProperty,lg=(e,t,n)=>t in e?ag(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ge=(e,t,n)=>lg(e,typeof t!="symbol"?t+"":t,n);class ug{constructor(){Ge(this,"url",""),Ge(this,"name","file"),Ge(this,"fileType","image"),Ge(this,"formData"),Ge(this,"sourceFile"),Ge(this,"method","post"),Ge(this,"xhrState",200),Ge(this,"timeout",30*1e3),Ge(this,"headers",{}),Ge(this,"withCredentials",!1),Ge(this,"onStart"),Ge(this,"taroFilePath"),Ge(this,"onProgress"),Ge(this,"onSuccess"),Ge(this,"onFailure"),Ge(this,"beforeXhrUpload")}}class cg{constructor(t){Ge(this,"options"),this.options=t}upload(){var t;const n=this.options,r=new XMLHttpRequest;if(r.timeout=n.timeout,r.upload){r.upload.addEventListener("progress",s=>{var i;(i=n.onProgress)==null||i.call(n,s,n)},!1),r.onreadystatechange=()=>{var s,i;r.readyState===4&&(r.status==n.xhrState?(s=n.onSuccess)==null||s.call(n,r.responseText,n):(i=n.onFailure)==null||i.call(n,r.responseText,n))},r.withCredentials=n.withCredentials,r.open(n.method,n.url,!0);for(const[s,i]of Object.entries(n.headers))r.setRequestHeader(s,i);(t=n.onStart)==null||t.call(n,n),n.beforeXhrUpload?n.beforeXhrUpload(r,n):r.send(n.formData)}else console.warn("浏览器不支持 XMLHttpRequest")}}class fg{constructor(){Ge(this,"status","ready"),Ge(this,"message",""),Ge(this,"uid",new Date().getTime().toString()),Ge(this,"name"),Ge(this,"url"),Ge(this,"type"),Ge(this,"path"),Ge(this,"percentage",0),Ge(this,"formData",{})}}const{create:dg}=Ct("uploader"),hg="NutUploader",pg=dg({components:{NutProgress:Uo,Photograph:bp,Failure:Uc,Loading:Fo,Del:G0,Link:op},props:{name:{type:String,default:"file"},url:{type:String,default:""},timeout:{type:[Number,String],default:1e3*30},fileList:{type:Array,default:()=>[]},isPreview:{type:Boolean,default:!0},listType:{type:String,default:"picture"},isDeletable:{type:Boolean,default:!0},method:{type:String,default:"post"},capture:{type:Boolean,default:!1},maximize:{type:[Number,String],default:Number.MAX_VALUE},maximum:{type:[Number,String],default:1},clearInput:{type:Boolean,default:!0},accept:{type:String,default:"*"},headers:{type:Object,default:{}},data:{type:Object,default:{}},xhrState:{type:[Number,String],default:200},withCredentials:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autoUpload:{type:Boolean,default:!0},beforeUpload:{type:Function,default:null},beforeXhrUpload:{type:Function,default:null},beforeDelete:{type:Function,default:()=>!0},onChange:{type:Function}},emits:["start","progress","oversize","success","failure","change","delete","update:fileList","fileItemClick"],setup(e,{emit:t}){const n=ei(Yr(e,"disabled")),r=Qr(hg),s=z(e.fileList),i=z([]);Me(()=>e.fileList,()=>{s.value=e.fileList});const o=()=>{let h={class:"nut-uploader__input",type:"file",accept:e.accept,multiple:e.multiple,name:e.name,disabled:n.value};return e.capture&&(h.capture="camera",h.accept||(h.accept="image/*")),yt("input",h)},l=h=>{h.value=""},a=h=>{t("fileItemClick",{fileItem:h})},d=(h,g)=>{const b=new ug;b.url=e.url,b.formData=h.formData,b.timeout=e.timeout*1,b.method=e.method,b.xhrState=e.xhrState,b.headers=e.headers,b.withCredentials=e.withCredentials,b.beforeXhrUpload=e.beforeXhrUpload;try{b.sourceFile=h.formData.get(e.name)}catch(x){console.warn("[NutUI] <Uploader> formData.get(name)",x)}b.onStart=x=>{h.status="ready",h.message=r("readyUpload"),c(g),t("start",x)},b.onProgress=(x,S)=>{h.status="uploading",h.message=r("uploading"),h.percentage=(x.loaded/x.total*100).toFixed(0),t("progress",{event:x,option:S,percentage:h.percentage})},b.onSuccess=(x,S)=>{h.status="success",h.message=r("success"),t("success",{responseText:x,option:S,fileItem:h}),t("update:fileList",s.value)},b.onFailure=(x,S)=>{h.status="error",h.message=r("error"),t("failure",{responseText:x,option:S,fileItem:h})};let v=new cg(b);e.autoUpload?v.upload():i.value.push(new Promise(x=>{x(v)}))},c=(h=-1)=>{h>-1?i.value.splice(h,1):(i.value=[],s.value=[],t("update:fileList",s.value))},u=()=>{Promise.all(i.value).then(h=>{h.forEach(g=>g.upload())})},f=h=>{h.forEach((g,b)=>{const v=new FormData;for(const[S,O]of Object.entries(e.data))v.append(S,O);v.append(e.name,g);const x=it(new fg);if(x.name=g.name,x.status="ready",x.type=g.type,x.formData=v,x.message=r("waitingUpload"),d(x,b),e.isPreview&&g.type.includes("image")){const S=new FileReader;S.onload=O=>{x.url=O.target.result,s.value.push(x)},S.readAsDataURL(g)}else s.value.push(x)})},m=h=>{const g=e.maximum*1,b=e.maximize*1,v=new Array;h=h.filter(S=>S.size>b?(v.push(S),!1):!0),v.length&&t("oversize",v);let x=h.length+s.value.length;return x>g&&h.splice(h.length-(x-g)),h},p=(h,g)=>{s.value.splice(g,1),t("delete",{file:h,fileList:s.value,index:g})},y=(h,g)=>{n.value||(c(g),rf(e.beforeDelete,{args:[h,s.value],done:()=>p(h,g)}))},E=h=>{if(e.disabled||n.value)return;const g=h.target;let{files:b}=g;e.beforeUpload?e.beforeUpload(b).then(v=>_(v)):_(b),t("change",{fileList:s.value,event:h}),e.clearInput&&l(g)},_=h=>{const g=m(new Array().slice.call(h));f(g)};return{onChange:E,onDelete:y,fileList:s,fileItemClick:a,clearUploadQueue:c,submit:u,renderInput:o}}}),_g={class:"nut-uploader"},mg={key:0,class:"nut-uploader__slot"},vg={key:0,class:"nut-uploader__preview-img"},gg={key:0,class:"nut-uploader__preview__progress"},yg={class:"nut-uploader__preview__progress__msg"},bg=["onClick"],Eg=["src","onClick"],xg={key:3,class:"nut-uploader__preview-img__file"},Sg=["onClick"],wg={class:"file__name_tips"},Cg={class:"tips"},Og={key:1,class:"nut-uploader__preview-list"},Lg=["onClick"],Ag={class:"file__name_tips"};function Tg(e,t,n,r,s,i){const o=ft("Failure"),l=ft("Loading"),a=ft("Link"),d=ft("Del"),c=ft("nut-progress"),u=ft("Photograph");return $(),j("view",_g,[e.$slots.default?($(),j("view",mg,[Re(e.$slots,"default"),Number(e.maximum)-e.fileList.length?($(),Pe(Nr(e.renderInput),{key:0,onChange:e.onChange},null,40,["onChange"])):fe("",!0)])):fe("",!0),($(!0),j(Se,null,st(e.fileList,(f,m)=>{var p;return $(),j("view",{key:f.uid,class:xe(["nut-uploader__preview",[e.listType]])},[e.listType=="picture"&&!e.$slots.default?($(),j("view",vg,[f.status!="success"?($(),j("view",gg,[f.status!="ready"?($(),j(Se,{key:0},[f.status=="error"?($(),Pe(o,{key:0,color:"#fff"})):($(),Pe(l,{key:1,name:"loading",color:"#fff"}))],64)):fe("",!0),I("view",yg,pe(f.message),1)])):fe("",!0),e.isDeletable?($(),j("view",{key:1,class:"close",onClick:y=>e.onDelete(f,m)},[Re(e.$slots,"delete-icon",{},()=>[oe(o)])],8,bg)):fe("",!0),(p=f==null?void 0:f.type)!=null&&p.includes("image")&&f.url?($(),j("img",{key:2,class:"nut-uploader__preview-img__c",src:f.url,onClick:y=>e.fileItemClick(f)},null,8,Eg)):($(),j("view",xg,[I("view",{class:"nut-uploader__preview-img__file__name",onClick:y=>e.fileItemClick(f)},[I("view",wg,pe(f.name),1)],8,Sg)])),I("view",Cg,pe(f.name),1)])):e.listType=="list"?($(),j("view",Og,[I("view",{class:xe(["nut-uploader__preview-img__file__name",[f.status]]),onClick:y=>e.fileItemClick(f)},[oe(a,{class:"nut-uploader__preview-img__file__link"}),I("view",Ag,pe(f.name),1),e.isDeletable?($(),Pe(d,{key:0,color:"#808080",class:"nut-uploader__preview-img__file__del",onClick:er(y=>e.onDelete(f,m),["stop"])},null,8,["onClick"])):fe("",!0)],10,Lg),f.status=="uploading"?($(),Pe(c,{key:0,size:"small",percentage:f.percentage,"stroke-color":"linear-gradient(270deg, rgba(18,126,255,1) 0%,rgba(32,147,255,1) 32.815625%,rgba(13,242,204,1) 100%)","show-text":!1},null,8,["percentage"])):fe("",!0)])):fe("",!0)],2)}),128)),e.listType=="picture"&&!e.$slots.default&&Number(e.maximum)-e.fileList.length?($(),j("view",{key:1,class:xe(["nut-uploader__upload",[e.listType]])},[Re(e.$slots,"upload-icon",{},()=>[oe(u,{color:"#808080"})]),($(),Pe(Nr(e.renderInput),{onChange:e.onChange},null,40,["onChange"]))],2)):fe("",!0)])}const sf=Ft(pg,[["render",Tg]]),{create:Rg}=Ct("drag"),Pg=Rg({props:{attract:{type:Boolean,default:!1},direction:{type:String,default:"all"},boundary:{type:Object,default:()=>({top:0,left:0,right:0,bottom:0})}},setup(e){const t=z(),n=it({keepAlive:!1,elWidth:0,elHeight:0,screenWidth:0,screenHeight:0,startTop:0,startLeft:0,nx:0,ny:0,xPum:0,yPum:0,position:{x:0,y:0},boundary:{top:0,left:0,right:0,bottom:0}});function r(){const d=document.documentElement;n.elWidth=t.value.offsetWidth,n.elHeight=t.value.offsetHeight,n.screenWidth=d.clientWidth||375,n.screenHeight=d.clientHeight||667}function s(d){n.boundary.left?+d.style.left.split("px")[0]>n.boundary.left?(d.style.left=+d.style.left.split("px")[0]-10+"px",cr(()=>{s(d)})):d.style.left=`${n.boundary.left}px`:+d.style.left.split("px")[0]>10?(d.style.left=+d.style.left.split("px")[0]-10+"px",cr(()=>{s(d)})):d.style.left="0px"}function i(d,c){c-parseInt(d.style.left.split("px")[0])>10?(d.style.left=parseInt(d.style.left.split("px")[0])+10+"px",cr(()=>{i(d,c)})):d.style.left=c+"px"}function o(d){d.preventDefault();const c=d.currentTarget;if(d.targetTouches.length===1){const u=d.targetTouches[0];n.nx=u.clientX-n.position.x,n.ny=u.clientY-n.position.y,n.xPum=n.startLeft+n.nx,n.yPum=n.startTop+n.ny;const f=n.screenWidth-n.elWidth-n.boundary.right;Math.abs(n.xPum)>f?n.xPum=f:n.xPum<=n.boundary.left&&(n.xPum=n.boundary.left),n.yPum<n.boundary.top?n.yPum=n.boundary.top:n.yPum>n.screenHeight-n.elHeight-n.boundary.bottom&&(n.yPum=n.screenHeight-n.elHeight-n.boundary.bottom),e.direction!="y"&&(c.style.left=n.xPum+"px"),e.direction!="x"&&(c.style.top=n.yPum+"px")}}function l(d){const c=d.currentTarget;let f=d.changedTouches[0].clientX;const m=n.screenWidth-n.elWidth-n.boundary.right;f>m?f=m:f<n.boundary.left?f=n.boundary.left:f=f<n.screenWidth/2?n.boundary.left:m,e.direction!="y"&&e.attract&&(f<n.screenWidth/2?cr(()=>{s(c)}):cr(()=>{i(c,m)})),e.direction!="x"&&(c.style.top=n.yPum+"px")}function a(d){const c=d.currentTarget,u=d.touches[0],f=d.targetTouches[0];n.startTop=c.offsetTop,n.startLeft=c.offsetLeft,n.position.x=u.clientX,n.position.y=u.clientY,n.nx=f.clientX-n.position.x,n.ny=f.clientY-n.position.y,n.xPum=n.startLeft+n.nx,n.yPum=n.startTop+n.ny}return Xe(()=>{r(),n.boundary=e.boundary}),Zu(()=>{n.keepAlive&&(n.keepAlive=!1)}),ec(()=>{n.keepAlive=!0,t.value.removeEventListener("touchstart",a),t.value.removeEventListener("touchmove",o),t.value.removeEventListener("touchend",l)}),{myDrag:t,touchStart:a,touchMove:o,touchEnd:l}}});function kg(e,t,n,r,s,i){return $(),j("view",{ref:"myDrag",class:"nut-drag",onTouchstart:t[0]||(t[0]=o=>e.touchStart(o)),onTouchmove:t[1]||(t[1]=o=>e.touchMove(o)),onTouchend:t[2]||(t[2]=o=>e.touchEnd(o))},[Re(e.$slots,"default")],544)}const Dg=Ft(Pg,[["render",kg]]),of=(e,t)=>{let n=document.body;const r=e.teleport||"body";r!="body"&&(o_(r)?n=document.querySelector(r):n=e.teleport);const s=document.createElement("view"),i=t.name?t.name+"-":"",o=e.id||new Date().getTime();s.id=i+o;let l={};Ms(t.wrapper)?l=t.wrapper(n,s):l=t.wrapper;const a=Bo(l,e),d=t.components;return d&&d.forEach(c=>{a.use(c)}),n.appendChild(s),{instance:a.mount(s),unmount:()=>{a.unmount(),n.removeChild(s)}}};var Ig=Object.defineProperty,Mg=Object.defineProperties,Ng=Object.getOwnPropertyDescriptors,Ll=Object.getOwnPropertySymbols,$g=Object.prototype.hasOwnProperty,Bg=Object.prototype.propertyIsEnumerable,Ji=(e,t,n)=>t in e?Ig(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fg=(e,t)=>{for(var n in t||(t={}))$g.call(t,n)&&Ji(e,n,t[n]);if(Ll)for(var n of Ll(t))Bg.call(t,n)&&Ji(e,n,t[n]);return e},Ug=(e,t)=>Mg(e,Ng(t)),Ne=(e,t,n)=>Ji(e,typeof t!="symbol"?t+"":t,n);const{create:jg}=Ct("dialog"),Vg="NutDialog",Hg=jg({inheritAttrs:!1,components:{NutPopup:Qs,NutButton:qt},props:Ug(Fg({},Wc),{closeOnClickOverlay:{type:Boolean,default:!0},title:{type:String,default:""},content:{type:[String,Object],default:""},noFooter:{type:Boolean,default:!1},noOkBtn:{type:Boolean,default:!1},noCancelBtn:{type:Boolean,default:!1},cancelText:{type:String,default:""},okText:{type:String,default:""},cancelAutoClose:{type:Boolean,default:!0},okAutoClose:{type:Boolean,default:!0},textAlign:{type:String,default:"center"},closeOnPopstate:{type:Boolean,default:!1},footerDirection:{type:String,default:"horizontal"},customClass:{type:String,default:""},popStyle:{type:Object},beforeClose:Function}),emits:["update","update:visible","ok","cancel","opened","closed"],setup(e,{emit:t}){const n=Qr(Vg),r=z(e.visible);Xe(()=>{e.closeOnPopstate&&window.addEventListener("popstate",function(){i("page")})}),Me(()=>e.visible,c=>{r.value=c,c&&t("opened")});const s=c=>{t("update",c),t("update:visible",c)},i=c=>{rf(e.beforeClose,{args:[c],done:()=>{r.value=!1,s(!1),t("closed")}})},o=()=>{t("cancel"),e.cancelAutoClose&&(r.value=!1,i("cancel"))},l=()=>{t("ok"),e.okAutoClose&&i("ok")},a=()=>{e.closeOnClickOverlay&&i("")},d=ae(()=>({textAlign:e.textAlign}));return{closed:i,onCancel:o,onOk:l,showPopup:r,onClickOverlay:a,contentStyle:d,translate:n}}}),Wg={key:0,class:"nut-dialog__header"},Kg=["innerHTML"];function zg(e,t,n,r,s,i){const o=ft("nut-button"),l=ft("nut-popup");return $(),Pe(l,{visible:e.showPopup,"onUpdate:visible":t[0]||(t[0]=a=>e.showPopup=a),teleport:e.teleport,"close-on-click-overlay":!1,"lock-scroll":e.lockScroll,"pop-class":e.popClass,"overlay-class":e.overlayClass,"overlay-style":e.overlayStyle,style:_e(e.popStyle),round:"","z-index":e.zIndex,onClickOverlay:e.onClickOverlay,onClickCloseIcon:e.closed},{default:Ee(()=>[I("view",{class:xe(["nut-dialog",e.customClass])},[e.$slots.header||e.title?($(),j("view",Wg,[e.$slots.header?Re(e.$slots,"header",{key:0}):($(),j(Se,{key:1},[Ue(pe(e.title),1)],64))])):fe("",!0),I("view",{class:"nut-dialog__content",style:_e(e.contentStyle)},[e.$slots.default?Re(e.$slots,"default",{key:0}):typeof e.content=="string"?($(),j("view",{key:1,innerHTML:e.content},null,8,Kg)):($(),Pe(Nr(e.content),{key:2}))],4),e.noFooter?fe("",!0):($(),j("view",{key:1,class:xe(["nut-dialog__footer",{[e.footerDirection]:e.footerDirection}])},[e.$slots.footer?Re(e.$slots,"footer",{key:0}):($(),j(Se,{key:1},[e.noCancelBtn?fe("",!0):($(),Pe(o,{key:0,size:"small",plain:"",type:"primary",class:"nut-dialog__footer-cancel",onClick:e.onCancel},{default:Ee(()=>[Ue(pe(e.cancelText||e.translate("cancel")),1)]),_:1},8,["onClick"])),e.noOkBtn?fe("",!0):($(),Pe(o,{key:1,size:"small",type:"primary",class:"nut-dialog__footer-ok",onClick:e.onOk},{default:Ee(()=>[Ue(pe(e.okText||e.translate("confirm")),1)]),_:1},8,["onClick"]))],64))],2))],2)]),_:3},8,["visible","teleport","lock-scroll","pop-class","overlay-class","overlay-style","style","z-index","onClickOverlay","onClickCloseIcon"])}const af=Ft(Hg,[["render",zg]]);class Gg{constructor(){Ne(this,"title",""),Ne(this,"content",""),Ne(this,"cancelText",""),Ne(this,"okText",""),Ne(this,"textAlign","center"),Ne(this,"customClass",""),Ne(this,"overlayStyle",{}),Ne(this,"overlayClass",""),Ne(this,"popStyle",{}),Ne(this,"popClass",""),Ne(this,"teleport","body"),Ne(this,"id",new Date().getTime()),Ne(this,"footerDirection","horizontal"),Ne(this,"onUpdate"),Ne(this,"onOk"),Ne(this,"onCancel"),Ne(this,"onOpened"),Ne(this,"onClosed"),Ne(this,"beforeClose"),Ne(this,"visible",!0),Ne(this,"noFooter",!1),Ne(this,"noOkBtn",!1),Ne(this,"noCancelBtn",!1),Ne(this,"okBtnDisabled",!1),Ne(this,"closeOnPopstate",!1),Ne(this,"closeOnClickOverlay",!0),Ne(this,"lockScroll",!0),Ne(this,"cancelAutoClose",!0),Ne(this,"okAutoClose",!0)}}class Yg{constructor(t){Ne(this,"options",new Gg),Ne(this,"instance");const n=Object.assign(this.options,t),{unmount:r}=of(n,{name:"dialog",components:[Qs,qt,Js],wrapper:(s,i)=>({setup(){return n.onUpdate=o=>{o===!1&&Dt(()=>{r()})},n!=null&&n.onOpened&&(n==null||n.onOpened()),n.teleport=`#${i.id}`,()=>yt(af,n)}})})}}const jo=function(e){return new Yg(e)};jo.install=e=>{e.use(af)};var qg=Object.defineProperty,Xg=Object.defineProperties,Jg=Object.getOwnPropertyDescriptors,Al=Object.getOwnPropertySymbols,Qg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable,Tl=(e,t,n)=>t in e?qg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tt=(e,t)=>{for(var n in t||(t={}))Qg.call(t,n)&&Tl(e,n,t[n]);if(Al)for(var n of Al(t))Zg.call(t,n)&&Tl(e,n,t[n]);return e},fr=(e,t)=>Xg(e,Jg(t));const{create:e1}=Ct("notify"),t1=e1({components:{NutPopup:Qs},props:{id:String,color:{type:String,default:""},msg:{type:String,default:""},duration:{type:Number,default:3e3},className:{type:String,default:""},background:{type:String,default:""},type:{type:String,default:"danger"},visible:{type:Boolean,default:!1},position:{type:String,default:"top"},teleportDisable:{type:Boolean,default:!0},onClose:Function,onClick:Function,unmount:Function},emits:["update:visible"],setup(e,{emit:t}){const n=()=>{e.onClick&&e.onClick()};let r=null;const s=()=>{r&&clearTimeout(r),r=null},i=()=>{t("update:visible",!1)},o=z(!1),l=Me(()=>e.visible,d=>{o.value=e.visible;const c=e.duration;d&&c&&(r=setTimeout(()=>{i()},c))},{immediate:!0});return{onAfterLeave:()=>{s(),l&&l(),e.unmount&&e.unmount(e.id),e.onClose&&e.onClose()},clickCover:n,isShowPopup:o}}});function n1(e,t,n,r,s,i){const o=ft("nut-popup");return $(),Pe(o,{visible:e.isShowPopup,"onUpdate:visible":t[1]||(t[1]=l=>e.isShowPopup=l),position:e.position,overlay:!1,"teleport-disable":e.teleportDisable},{default:Ee(()=>[I("div",{class:xe(["nut-notify",`nut-notify--${e.type}`,e.className]),style:_e({color:e.color,background:e.background}),onClick:t[0]||(t[0]=(...l)=>e.clickCover&&e.clickCover(...l))},[e.$slots.default?Re(e.$slots,"default",{key:0}):($(),j(Se,{key:1},[Ue(pe(e.msg),1)],64))],6)]),_:3},8,["visible","position","teleport-disable"])}const Vo=Ft(t1,[["render",n1]]),Qi={type:"base",visible:!0,msg:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:Function,teleport:"",unmount:new Function};let Vn=[],Lr=[];const lf=e=>{if(e){const t=document.getElementById(e);Lr=Lr.filter(n=>n.id!==e),Vn=Vn.filter(n=>n!==e),t&&document.body.removeChild(t)}else Vn.forEach(t=>{const n=document.getElementById(t);n&&document.body.removeChild(n)}),Lr=[],Vn=[]},r1=e=>{const t=document.getElementById(e.id);if(t){const n=Lr.find(s=>s.id===e.id);n?e=Tt(Tt(Tt({},Qi),n),e):e=Tt(Tt({},Qi),e);const r=oe(Vo,e);return $o(r,t),r.component.data}},dr=e=>{e.unmount=lf;let t;if(e.id){if(t=e.id,Vn.find(i=>i===e.id))return r1(e)}else t=new Date().getTime()+"";e=Tt(Tt({},Qi),e),e.id=t,Vn.push(e.id),Lr.push(e);const n=document.createElement("view");n.id="notify-"+e.id;const s=oe({setup(){return e.teleport=`#notify-${e.id}`,Xe(()=>{setTimeout(()=>{e.onClose&&e.onClose(),document.body.removeChild(n)},e.duration)}),()=>yt(Vo,e)}});document.body.appendChild(n),$o(s,n)},hr=e=>{if(!e){console.warn("[NutUI Notify]: msg不能为空");return}},Dn={text(e,t={}){return hr(e),dr(fr(Tt({},t),{msg:e}))},primary(e,t={}){return hr(e),dr(fr(Tt({},t),{msg:e,type:"primary"}))},success(e,t={}){return hr(e),dr(fr(Tt({},t),{msg:e,type:"success"}))},danger(e,t={}){return hr(e),dr(fr(Tt({},t),{msg:e,type:"danger"}))},warn(e,t={}){return hr(e),dr(fr(Tt({},t),{msg:e,type:"warning"}))},hide(){lf()},install(e){e.use(Vo)}};var s1=Object.defineProperty,i1=Object.defineProperties,o1=Object.getOwnPropertyDescriptors,Rl=Object.getOwnPropertySymbols,a1=Object.prototype.hasOwnProperty,l1=Object.prototype.propertyIsEnumerable,Pl=(e,t,n)=>t in e?s1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rt=(e,t)=>{for(var n in t||(t={}))a1.call(t,n)&&Pl(e,n,t[n]);if(Rl)for(var n of Rl(t))l1.call(t,n)&&Pl(e,n,t[n]);return e},pr=(e,t)=>i1(e,o1(t));const{create:u1}=Ct("toast"),c1=u1({components:{},props:{id:String,msg:String,duration:{type:Number,default:2e3},center:{type:Boolean,default:!0},type:{type:String,default:"text"},customClass:String,bottom:{type:String,default:"30px"},size:{type:[String,Number],default:"base"},icon:{type:Object,default:null},textAlignCenter:{type:Boolean,default:!0},loadingRotate:{type:Boolean,default:!0},bgColor:{type:String,default:""},onClose:Function,unmount:Function,cover:{type:Boolean,default:!1},coverColor:{type:String,default:""},title:{type:String,default:""},closeOnClickOverlay:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){let n;const r=it({mounted:!1});Xe(()=>{r.mounted=!0});const s=()=>{n&&(clearTimeout(n),n=null)},i=()=>{r.mounted=!1},o=()=>{s(),e.duration&&(n=window.setTimeout(()=>{i()},e.duration))},l=()=>{e.closeOnClickOverlay&&(i(),t("close"))};e.duration&&o(),Me(()=>e.duration,f=>{f&&o()});const a=ae(()=>e.type!=="text"?!0:e.icon!==null),d=ae(()=>["nut-toast",{"nut-toast-center":e.center},{"nut-toast-has-icon":a.value},{"nut-toast-cover":e.cover},{"nut-toast-loading":e.type==="loading"},e.customClass,"nut-toast-"+e.size]),c=ae(()=>["nut-toast-icon-wrapper",{"nut-toast-icon-no-animation":!e.loadingRotate}]);return{state:r,hide:i,clickCover:l,hasIcon:a,toastBodyClass:d,toastIconWrapperClass:c,onAfterLeave:()=>{var f;s(),(f=e.unmount)==null||f.call(e,e.id),e.onClose&&e.onClose()},renderIcon:Hm}}}),f1={key:1,class:"nut-toast-title"},d1=["innerHTML"];function h1(e,t,n,r,s,i){return $(),Pe(qs,{name:"toast-fade",onAfterLeave:e.onAfterLeave},{default:Ee(()=>[Je(I("view",{class:xe(e.toastBodyClass),style:_e({bottom:e.center?"auto":e.bottom,"background-color":e.coverColor}),onClick:t[0]||(t[0]=(...o)=>e.clickCover&&e.clickCover(...o))},[I("view",{class:"nut-toast-inner",style:_e({"text-align":e.textAlignCenter?"center":"left","background-color":e.bgColor})},[e.hasIcon?($(),j("view",{key:0,class:xe(e.toastIconWrapperClass)},[($(),Pe(Nr(e.renderIcon(e.icon)),{color:"#ffffff"}))],2)):fe("",!0),e.title?($(),j("div",f1,pe(e.title),1)):fe("",!0),I("view",{class:"nut-toast-text",innerHTML:e.msg},null,8,d1)],4)],6),[[rn,e.state.mounted]])]),_:1},8,["onAfterLeave"])}const Ho=Ft(c1,[["render",h1]]),Zi={msg:"",id:"",duration:2e3,center:!0,type:"text",title:"",customClass:"",bottom:"30px",size:"base",iconSize:"20",icon:null,textAlignCenter:!0,loadingRotate:!0,bgColor:"",onClose:null,unmount:null,cover:!1,coverColor:"",closeOnClickOverlay:!1};let Hn=[],Ar=[];const uf=e=>{if(e){const t=document.getElementById(e);Ar=Ar.filter(n=>n.id!==e),Hn=Hn.filter(n=>n!==e),t&&document.body.removeChild(t)}else Hn.forEach(t=>{const n=document.getElementById(t);n&&document.body.removeChild(n)}),Ar=[],Hn=[]},p1=e=>{const t=document.getElementById(e.id);if(t){const n=Ar.find(s=>s.id===e.id);n?e=Rt(Rt(Rt({},Zi),n),e):e=Rt(Rt({},Zi),e);const r=oe(Ho,e);return $o(r,t),Xn}},_r=e=>{e.unmount=uf;let t;if(e.id){if(t=e.id,Hn.find(n=>n===e.id))return p1(e)}else t=new Date().getTime()+"";return e=Rt(Rt({},Zi),e),e.id=t,Hn.push(e.id),Ar.push(e),of(e,{wrapper:Ho}),Xn},us=e=>{if(!e){console.warn("[NutUI Toast]: msg不能为空");return}},Xn={text(e,t={}){return us(e),_r(pr(Rt({},t),{type:"text",msg:e}))},success(e,t={}){return us(e),_r(pr(Rt({icon:Rp},t),{msg:e,type:"success"}))},fail(e,t={}){return us(e),_r(pr(Rt({icon:Uc},t),{msg:e,type:"fail"}))},warn(e,t={}){return us(e),_r(pr(Rt({icon:Mp},t),{msg:e,type:"warn"}))},loading(e,t={}){return _r(pr(Rt({icon:Fo},t),{msg:e,type:"loading"}))},hide(e){uf(e)},install(e){e.use(Ho)}},_1="/assets/network-BLjpVHHu.png";function jr(e){return bo()?(yu(e),!0):!1}const Li=new WeakMap,m1=(...e)=>{var t;const n=e[0],r=(t=zt())==null?void 0:t.proxy;if(r==null&&!Ro())throw new Error("injectLocal must be called in setup");return r&&Li.has(r)&&n in Li.get(r)?Li.get(r)[n]:xt(...e)},Vr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const v1=Object.prototype.toString,g1=e=>v1.call(e)==="[object Object]",eo=()=>{};function cf(e,t){function n(...r){return new Promise((s,i)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(i)})}return n}const ff=e=>e();function y1(e,t={}){let n,r,s=eo;const i=a=>{clearTimeout(a),s(),s=eo};let o;return a=>{const d=at(e),c=at(t.maxWait);return n&&i(n),d<=0||c!==void 0&&c<=0?(r&&(i(r),r=null),Promise.resolve(a())):new Promise((u,f)=>{s=t.rejectOnCancel?f:u,o=a,c&&!r&&(r=setTimeout(()=>{n&&i(n),r=null,u(o())},c)),n=setTimeout(()=>{r&&i(r),r=null,u(a())},d)})}}function b1(e=ff,t={}){const{initialState:n="active"}=t,r=to(n==="active");function s(){r.value=!1}function i(){r.value=!0}const o=(...l)=>{r.value&&e(...l)};return{isActive:Gr(r),pause:s,resume:i,eventFilter:o}}function E1(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function kl(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function x1(e){return zt()}function Ai(e){return Array.isArray(e)?e:[e]}function to(...e){if(e.length!==1)return Yr(...e);const t=e[0];return typeof t=="function"?Gr(Dd(()=>({get:t,set:eo}))):z(t)}function df(e,t=200,n={}){return cf(y1(t,n),e)}function S1(e,t,n={}){const{eventFilter:r=ff,...s}=n;return Me(e,cf(r,t),s)}function w1(e,t,n={}){const{eventFilter:r,initialState:s="active",...i}=n,{eventFilter:o,pause:l,resume:a,isActive:d}=b1(r,{initialState:s});return{stop:S1(e,t,{...i,eventFilter:o}),pause:l,resume:a,isActive:d}}function hf(e,t=!0,n){x1()?Xe(e,n):t?e():Dt(e)}function pf(e,t=1e3,n={}){const{immediate:r=!0,immediateCallback:s=!1}=n;let i=null;const o=wt(!1);function l(){i&&(clearInterval(i),i=null)}function a(){o.value=!1,l()}function d(){const c=at(t);c<=0||(o.value=!0,s&&e(),l(),o.value&&(i=setInterval(e,c)))}if(r&&Vr&&d(),qe(t)||typeof t=="function"){const c=Me(t,()=>{o.value&&Vr&&d()});jr(c)}return jr(a),{isActive:o,pause:a,resume:d}}function C1(e,t,n={}){const{immediate:r=!0,immediateCallback:s=!1}=n,i=wt(!1);let o=null;function l(){o&&(clearTimeout(o),o=null)}function a(){i.value=!1,l()}function d(...c){s&&e(),l(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,e(...c)},at(t))}return r&&(i.value=!0,Vr&&d()),jr(a),{isPending:Gr(i),start:d,stop:a}}function Ti(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,s=qe(e),i=z(e);function o(l){if(arguments.length)return i.value=l,i.value;{const a=at(n);return i.value=i.value===a?at(r):a,i.value}}return s?o:[i,o]}function O1(e,t,n){return Me(e,t,{...n,immediate:!0})}const En=Vr?window:void 0,_f=Vr?window.navigator:void 0;function no(e){var t;const n=at(e);return(t=n==null?void 0:n.$el)!=null?t:n}function xn(...e){const t=[],n=()=>{t.forEach(l=>l()),t.length=0},r=(l,a,d,c)=>(l.addEventListener(a,d,c),()=>l.removeEventListener(a,d,c)),s=ae(()=>{const l=Ai(at(e[0])).filter(a=>a!=null);return l.every(a=>typeof a!="string")?l:void 0}),i=O1(()=>{var l,a;return[(a=(l=s.value)==null?void 0:l.map(d=>no(d)))!=null?a:[En].filter(d=>d!=null),Ai(at(s.value?e[1]:e[0])),Ai(ee(s.value?e[2]:e[1])),at(s.value?e[3]:e[2])]},([l,a,d,c])=>{if(n(),!(l!=null&&l.length)||!(a!=null&&a.length)||!(d!=null&&d.length))return;const u=g1(c)?{...c}:c;t.push(...l.flatMap(f=>a.flatMap(m=>d.map(p=>r(f,m,p,u)))))},{flush:"post"}),o=()=>{i(),n()};return jr(n),o}function L1(){const e=wt(!1),t=zt();return t&&Xe(()=>{e.value=!0},t),e}function ni(e){const t=L1();return ae(()=>(t.value,!!e()))}const A1=Symbol("vueuse-ssr-width");function T1(){const e=Ro()?m1(A1,null):null;return typeof e=="number"?e:void 0}function R1(e,t={}){const{window:n=En,ssrWidth:r=T1()}=t,s=ni(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),i=z(typeof r=="number"),o=wt(),l=wt(!1),a=d=>{l.value=d.matches};return Do(()=>{if(i.value){i.value=!s.value;const d=at(e).split(",");l.value=d.some(c=>{const u=c.includes("not all"),f=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),m=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let p=!!(f||m);return f&&p&&(p=r>=kl(f[1])),m&&p&&(p=r<=kl(m[1])),u?!p:p});return}s.value&&(o.value=n.matchMedia(at(e)),l.value=o.value.matches)}),xn(o,"change",a,{passive:!0}),ae(()=>l.value)}function Dl(e,t={}){const{controls:n=!1,navigator:r=_f}=t,s=ni(()=>r&&"permissions"in r),i=wt(),o=typeof e=="string"?{name:e}:e,l=wt(),a=()=>{var c,u;l.value=(u=(c=i.value)==null?void 0:c.state)!=null?u:"prompt"};xn(i,"change",a,{passive:!0});const d=E1(async()=>{if(s.value){if(!i.value)try{i.value=await r.permissions.query(o)}catch{i.value=void 0}finally{a()}if(n)return De(i.value)}});return d(),n?{state:l,isSupported:s,query:d}:l}function P1(e={}){const{navigator:t=_f,read:n=!1,source:r,copiedDuring:s=1500,legacy:i=!1}=e,o=ni(()=>t&&"clipboard"in t),l=Dl("clipboard-read"),a=Dl("clipboard-write"),d=ae(()=>o.value||i),c=wt(""),u=wt(!1),f=C1(()=>u.value=!1,s,{immediate:!1});function m(){let h=!(o.value&&_(l.value));if(!h)try{t.clipboard.readText().then(g=>{c.value=g})}catch{h=!0}h&&(c.value=E())}d.value&&n&&xn(["copy","cut"],m,{passive:!0});async function p(h=at(r)){if(d.value&&h!=null){let g=!(o.value&&_(a.value));if(!g)try{await t.clipboard.writeText(h)}catch{g=!0}g&&y(h),c.value=h,u.value=!0,f.start()}}function y(h){const g=document.createElement("textarea");g.value=h??"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function E(){var h,g,b;return(b=(g=(h=document==null?void 0:document.getSelection)==null?void 0:h.call(document))==null?void 0:g.toString())!=null?b:""}function _(h){return h==="granted"||h==="prompt"}return{isSupported:d,text:c,copied:u,copy:p}}const cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fs="__vueuse_ssr_handlers__",k1=D1();function D1(){return fs in cs||(cs[fs]=cs[fs]||{}),cs[fs]}function I1(e,t){return k1[e]||t}function M1(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const N1={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Il="vueuse-storage";function $1(e,t,n,r={}){var s;const{flush:i="pre",deep:o=!0,listenToStorageChanges:l=!0,writeDefaults:a=!0,mergeDefaults:d=!1,shallow:c,window:u=En,eventFilter:f,onError:m=C=>{console.error(C)},initOnMounted:p}=r,y=(c?wt:z)(t),E=ae(()=>at(e));if(!n)try{n=I1("getDefaultStorage",()=>{var C;return(C=En)==null?void 0:C.localStorage})()}catch(C){m(C)}if(!n)return y;const _=at(t),h=M1(_),g=(s=r.serializer)!=null?s:N1[h],{pause:b,resume:v}=w1(y,()=>S(y.value),{flush:i,deep:o,eventFilter:f});Me(E,()=>T(),{flush:i}),u&&l&&hf(()=>{n instanceof Storage?xn(u,"storage",T,{passive:!0}):xn(u,Il,P),p&&T()}),p||T();function x(C,w){if(u){const L={key:E.value,oldValue:C,newValue:w,storageArea:n};u.dispatchEvent(n instanceof Storage?new StorageEvent("storage",L):new CustomEvent(Il,{detail:L}))}}function S(C){try{const w=n.getItem(E.value);if(C==null)x(w,null),n.removeItem(E.value);else{const L=g.write(C);w!==L&&(n.setItem(E.value,L),x(w,L))}}catch(w){m(w)}}function O(C){const w=C?C.newValue:n.getItem(E.value);if(w==null)return a&&_!=null&&n.setItem(E.value,g.write(_)),_;if(!C&&d){const L=g.read(w);return typeof d=="function"?d(L,_):h==="object"&&!Array.isArray(L)?{..._,...L}:L}else return typeof w!="string"?w:g.read(w)}function T(C){if(!(C&&C.storageArea!==n)){if(C&&C.key==null){y.value=_;return}if(!(C&&C.key!==E.value)){b();try{(C==null?void 0:C.newValue)!==g.write(y.value)&&(y.value=O(C))}catch(w){m(w)}finally{C?Dt(v):v()}}}}function P(C){T(C.detail)}return y}function mf(e,t,n={}){const{window:r=En,...s}=n;let i;const o=ni(()=>r&&"ResizeObserver"in r),l=()=>{i&&(i.disconnect(),i=void 0)},a=ae(()=>{const u=at(e);return Array.isArray(u)?u.map(f=>no(f)):[no(u)]}),d=Me(a,u=>{if(l(),o.value&&r){i=new ResizeObserver(t);for(const f of u)f&&i.observe(f,s)}},{immediate:!0,flush:"post"}),c=()=>{l(),d()};return jr(c),{isSupported:o,stop:c}}function B1(e=En,t){e&&typeof e.requestAnimationFrame=="function"?e.requestAnimationFrame(t):t()}function F1(e={}){var t,n;const{window:r=En}=e,s=to(e==null?void 0:e.element),i=to((t=e==null?void 0:e.input)!=null?t:""),o=(n=e==null?void 0:e.styleProp)!=null?n:"height",l=wt(1),a=wt(0);function d(){var c;if(!s.value)return;let u="";s.value.style[o]="1px",l.value=(c=s.value)==null?void 0:c.scrollHeight;const f=at(e==null?void 0:e.styleTarget);f?f.style[o]=`${l.value}px`:u=`${l.value}px`,s.value.style[o]=u}return Me([i,s],()=>Dt(d),{immediate:!0}),Me(l,()=>{var c;return(c=e==null?void 0:e.onResize)==null?void 0:c.call(e)}),mf(s,([{contentRect:c}])=>{a.value!==c.width&&B1(r,()=>{a.value=c.width,d()})}),e!=null&&e.watch&&Me(e.watch,d,{immediate:!0,deep:!0}),{textarea:s,input:i,triggerResize:d}}function U1(e={}){const{window:t=En,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:i=!0,type:o="inner"}=e,l=z(n),a=z(r),d=()=>{if(t)if(o==="outer")l.value=t.outerWidth,a.value=t.outerHeight;else if(o==="visual"&&t.visualViewport){const{width:u,height:f,scale:m}=t.visualViewport;l.value=Math.round(u*m),a.value=Math.round(f*m)}else i?(l.value=t.innerWidth,a.value=t.innerHeight):(l.value=t.document.documentElement.clientWidth,a.value=t.document.documentElement.clientHeight)};d(),hf(d);const c={passive:!0};if(xn("resize",d,c),t&&o==="visual"&&t.visualViewport&&xn(t.visualViewport,"resize",d,c),s){const u=R1("(orientation: portrait)");Me(u,()=>d())}return{width:l,height:a}}const j1=()=>{const{height:e}=U1();function t(){const r=e.value*.01;document.documentElement.style.setProperty("--vh",`${r}px`)}t(),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),document.addEventListener("gesturestart",function(r){r.preventDefault()}),document.addEventListener("dblclick",function(r){r.preventDefault()}),document.addEventListener("touchstart",function(r){r.touches.length>1&&r.preventDefault()});let n=0;document.addEventListener("touchend",function(r){const s=new Date().getTime();s-n<=300&&r.preventDefault(),n=s},!1)},V1=(e,t,n)=>Math.abs(e)>n||Math.abs(t)>n;function vf(){return"xxxxxxxx-xxxx-6xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const H1=e=>{try{return typeof e=="string"?JSON.parse(e):typeof e=="object"?new Function('"use strict"; return '+e)():null}catch(t){return console.error(t),null}},W1=e=>{const n=e.size>=524288e4;return n&&Dn.danger(e.name+"超过5GB!"),n};/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let gf;const ri=e=>gf=e,yf=Symbol();function ro(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Tr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Tr||(Tr={}));function K1(){const e=gu(!0),t=e.run(()=>z({}));let n=[],r=[];const s=Lo({install(i){ri(s),s._a=i,i.provide(yf,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const bf=()=>{};function Ml(e,t,n,r=bf){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&bo()&&yu(s),s}function Fn(e,...t){e.slice().forEach(n=>{n(...t)})}const z1=e=>e(),Nl=Symbol(),Ri=Symbol();function so(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];ro(s)&&ro(r)&&e.hasOwnProperty(n)&&!qe(r)&&!gn(r)?e[n]=so(s,r):e[n]=r}return e}const G1=Symbol();function Y1(e){return!ro(e)||!e.hasOwnProperty(G1)}const{assign:fn}=Object;function q1(e){return!!(qe(e)&&e.effect)}function X1(e,t,n,r){const{state:s,actions:i,getters:o}=t,l=n.state.value[e];let a;function d(){l||(n.state.value[e]=s?s():{});const c=Jn(n.state.value[e]);return fn(c,i,Object.keys(o||{}).reduce((u,f)=>(u[f]=Lo(ae(()=>{ri(n);const m=n._s.get(e);return o[f].call(m,m)})),u),{}))}return a=Ef(e,d,t,n,r,!0),a}function Ef(e,t,n={},r,s,i){let o;const l=fn({actions:{}},n),a={deep:!0};let d,c,u=[],f=[],m;const p=r.state.value[e];!i&&!p&&(r.state.value[e]={}),z({});let y;function E(O){let T;d=c=!1,typeof O=="function"?(O(r.state.value[e]),T={type:Tr.patchFunction,storeId:e,events:m}):(so(r.state.value[e],O),T={type:Tr.patchObject,payload:O,storeId:e,events:m});const P=y=Symbol();Dt().then(()=>{y===P&&(d=!0)}),c=!0,Fn(u,T,r.state.value[e])}const _=i?function(){const{state:T}=n,P=T?T():{};this.$patch(C=>{fn(C,P)})}:bf;function h(){o.stop(),u=[],f=[],r._s.delete(e)}const g=(O,T="")=>{if(Nl in O)return O[Ri]=T,O;const P=function(){ri(r);const C=Array.from(arguments),w=[],L=[];function A(N){w.push(N)}function M(N){L.push(N)}Fn(f,{args:C,name:P[Ri],store:v,after:A,onError:M});let D;try{D=O.apply(this&&this.$id===e?this:v,C)}catch(N){throw Fn(L,N),N}return D instanceof Promise?D.then(N=>(Fn(w,N),N)).catch(N=>(Fn(L,N),Promise.reject(N))):(Fn(w,D),D)};return P[Nl]=!0,P[Ri]=T,P},b={_p:r,$id:e,$onAction:Ml.bind(null,f),$patch:E,$reset:_,$subscribe(O,T={}){const P=Ml(u,O,T.detached,()=>C()),C=o.run(()=>Me(()=>r.state.value[e],w=>{(T.flush==="sync"?c:d)&&O({storeId:e,type:Tr.direct,events:m},w)},fn({},a,T)));return P},$dispose:h},v=it(b);r._s.set(e,v);const S=(r._a&&r._a.runWithContext||z1)(()=>r._e.run(()=>(o=gu()).run(()=>t({action:g}))));for(const O in S){const T=S[O];if(qe(T)&&!q1(T)||gn(T))i||(p&&Y1(T)&&(qe(T)?T.value=p[O]:so(T,p[O])),r.state.value[e][O]=T);else if(typeof T=="function"){const P=g(T,O);S[O]=P,l.actions[O]=T}}return fn(v,S),fn(De(v),S),Object.defineProperty(v,"$state",{get:()=>r.state.value[e],set:O=>{E(T=>{fn(T,O)})}}),r._p.forEach(O=>{fn(v,o.run(()=>O({store:v,app:r._a,pinia:r,options:l})))}),p&&i&&n.hydrate&&n.hydrate(v.$state,p),d=!0,c=!0,v}/*! #__NO_SIDE_EFFECTS__ */function Zr(e,t,n){let r;const s=typeof t=="function";r=s?n:t;function i(o,l){const a=Ro();return o=o||(a?xt(yf,null):null),o&&ri(o),o=gf,o._s.has(e)||(s?Ef(e,t,r,o):X1(e,r,o)),o._s.get(e)}return i.$id=e,i}const te={RESPONSE:"response",JOIN_ROOM:"join-room",LEAVE_ROOM:"leave_room",MOBILE_SCREEN_SIZE:"mobile_screen_size",GET_SCREEN_STREAM_HEADER:"get_screen_stream_header",TYPING:"typing",KEYPRESS:"keypress",KEY_TOGGLE:"sys-key-toggle",SYS_MOUSE_MOVE:"sys-mouse-move",OPEN_URL:"open-url",OPEN_APP:"open-app",SYS_SHUTDOWN:"sys-shutdown",SYS_SHELL:"sys_shell",SYS_SET_VOLUME:"sys-set-volume",SYS_GET_VOLUME:"sys-get-volume",SYS_VOLUME:"sys-volume",SYS_TOGGLE_MUTE:"sys-toggle-mute",SYS_MOUSE_CLICK:"sys-mouse-click",SYS_MOUSE_TOGGLE:"sys-mouse-toggle",SYS_SCROLL_HORIZONTAL:"sys_scroll_horizontal",SYS_SCROLL_VERTICAL:"sys_scroll_vertical",SYS_POINTER_POS:"sys-pointer-pos",SYS_POINTER_START:"sys-pointer-start",SYS_POINTER_MOVE:"sys-pointer-move",SYS_POINTER_END:"sys-pointer-end",WINDOW_LIST:"window-list",WINDOW_IMG:"window-img",FILE_START:"file-start",FILE_ACK:"file-ack",FILE_CHUNK:"file-chunk",FILE_END:"file-end",FILE_COMPLETE:"file-complete",FILE_PROGRESS:"file-progress",SCHEDULE_GET:"schedule:get",SCHEDULE_DELETE:"schedule:delete",SCHEDULE_ADD:"schedule:add",SCHEDULE_TOGGLE_JOB:"schedule:toggle-job",EVENTS_GET:"events:get",EVENTS_DELETE:"events:delete",EVENTS_PUT:"events:put"},Gt=Object.create(null);Gt.open="0";Gt.close="1";Gt.ping="2";Gt.pong="3";Gt.message="4";Gt.upgrade="5";Gt.noop="6";const bs=Object.create(null);Object.keys(Gt).forEach(e=>{bs[Gt[e]]=e});const io={type:"error",data:"parser error"},xf=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Sf=typeof ArrayBuffer=="function",wf=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Wo=({type:e,data:t},n,r)=>xf&&t instanceof Blob?n?r(t):$l(t,r):Sf&&(t instanceof ArrayBuffer||wf(t))?n?r(t):$l(new Blob([t]),r):r(Gt[e]+(t||"")),$l=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Bl(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Pi;function J1(e,t){if(xf&&e.data instanceof Blob)return e.data.arrayBuffer().then(Bl).then(t);if(Sf&&(e.data instanceof ArrayBuffer||wf(e.data)))return t(Bl(e.data));Wo(e,!1,n=>{Pi||(Pi=new TextEncoder),t(Pi.encode(n))})}const Fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Fl.length;e++)yr[Fl.charCodeAt(e)]=e;const Q1=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),c=new Uint8Array(d);for(r=0;r<n;r+=4)i=yr[e.charCodeAt(r)],o=yr[e.charCodeAt(r+1)],l=yr[e.charCodeAt(r+2)],a=yr[e.charCodeAt(r+3)],c[s++]=i<<2|o>>4,c[s++]=(o&15)<<4|l>>2,c[s++]=(l&3)<<6|a&63;return d},Z1=typeof ArrayBuffer=="function",Ko=(e,t)=>{if(typeof e!="string")return{type:"message",data:Cf(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:e2(e.substring(1),t)}:bs[n]?e.length>1?{type:bs[n],data:e.substring(1)}:{type:bs[n]}:io},e2=(e,t)=>{if(Z1){const n=Q1(e);return Cf(n,t)}else return{base64:!0,data:e}},Cf=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Of="",t2=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{Wo(i,!1,l=>{r[o]=l,++s===n&&t(r.join(Of))})})},n2=(e,t)=>{const n=e.split(Of),r=[];for(let s=0;s<n.length;s++){const i=Ko(n[s],t);if(r.push(i),i.type==="error")break}return r};function r2(){return new TransformStream({transform(e,t){J1(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let ki;function ds(e){return e.reduce((t,n)=>t+n.length,0)}function hs(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function s2(e,t){ki||(ki=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(ds(n)<1)break;const a=hs(n,1);i=(a[0]&128)===128,s=a[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(ds(n)<2)break;const a=hs(n,2);s=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(ds(n)<8)break;const a=hs(n,8),d=new DataView(a.buffer,a.byteOffset,a.length),c=d.getUint32(0);if(c>Math.pow(2,21)-1){l.enqueue(io);break}s=c*Math.pow(2,32)+d.getUint32(4),r=3}else{if(ds(n)<s)break;const a=hs(n,s);l.enqueue(Ko(i?a:ki.decode(a),t)),r=0}if(s===0||s>e){l.enqueue(io);break}}}})}const Lf=4;function Ze(e){if(e)return i2(e)}function i2(e){for(var t in Ze.prototype)e[t]=Ze.prototype[t];return e}Ze.prototype.on=Ze.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ze.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ze.prototype.off=Ze.prototype.removeListener=Ze.prototype.removeAllListeners=Ze.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ze.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Ze.prototype.emitReserved=Ze.prototype.emit;Ze.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ze.prototype.hasListeners=function(e){return!!this.listeners(e).length};const si=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),At=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),o2="arraybuffer";function Af(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const a2=At.setTimeout,l2=At.clearTimeout;function ii(e,t){t.useNativeTimers?(e.setTimeoutFn=a2.bind(At),e.clearTimeoutFn=l2.bind(At)):(e.setTimeoutFn=At.setTimeout.bind(At),e.clearTimeoutFn=At.clearTimeout.bind(At))}const u2=1.33;function c2(e){return typeof e=="string"?f2(e):Math.ceil((e.byteLength||e.size)*u2)}function f2(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Tf(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function d2(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function h2(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class p2 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class zo extends Ze{constructor(t){super(),this.writable=!1,ii(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new p2(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Ko(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=d2(t);return n.length?"?"+n:""}}class _2 extends zo{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};n2(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,t2(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Tf()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Rf=!1;try{Rf=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const m2=Rf;function v2(){}class g2 extends _2{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Kt extends Ze{constructor(t,n,r){super(),this.createRequest=t,ii(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Af(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Kt.requestsCount++,Kt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=v2,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Kt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Kt.requestsCount=0;Kt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ul);else if(typeof addEventListener=="function"){const e="onpagehide"in At?"pagehide":"unload";addEventListener(e,Ul,!1)}}function Ul(){for(let e in Kt.requests)Kt.requests.hasOwnProperty(e)&&Kt.requests[e].abort()}const y2=function(){const e=Pf({xdomain:!1});return e&&e.responseType!==null}();class b2 extends g2{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=y2&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Kt(Pf,this.uri(),t)}}function Pf(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||m2))return new XMLHttpRequest}catch{}if(!t)try{return new At[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const kf=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class E2 extends zo{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=kf?{}:Af(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Wo(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&si(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Tf()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Di=At.WebSocket||At.MozWebSocket;class x2 extends E2{createSocket(t,n,r){return kf?new Di(t,n,r):n?new Di(t,n):new Di(t)}doWrite(t,n){this.ws.send(n)}}class S2 extends zo{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=s2(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=r2();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&si(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const w2={websocket:x2,webtransport:S2,polling:b2},C2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,O2=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function oo(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=C2.exec(e||""),i={},o=14;for(;o--;)i[O2[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=L2(i,i.path),i.queryKey=A2(i,i.query),i}function L2(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function A2(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const ao=typeof addEventListener=="function"&&typeof removeEventListener=="function",Es=[];ao&&addEventListener("offline",()=>{Es.forEach(e=>e())},!1);class yn extends Ze{constructor(t,n){if(super(),this.binaryType=o2,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=oo(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=oo(n.host).host);ii(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=h2(this.opts.query)),ao&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Es.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Lf,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&yn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",yn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=c2(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,si(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(yn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ao&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Es.indexOf(this._offlineEventListener);r!==-1&&Es.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}yn.protocol=Lf;class T2 extends yn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;yn.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;yn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function i(){r||(r=!0,c(),n.close(),n=null)}const o=u=>{const f=new Error("probe error: "+u);f.transport=n.name,i(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function a(){o("socket closed")}function d(u){n&&u.name!==n.name&&i()}const c=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",a),this.off("upgrading",d)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",a),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let R2=class extends T2{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>w2[s]).filter(s=>!!s)),super(t,r)}};function P2(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=oo(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const k2=typeof ArrayBuffer=="function",D2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Df=Object.prototype.toString,I2=typeof Blob=="function"||typeof Blob<"u"&&Df.call(Blob)==="[object BlobConstructor]",M2=typeof File=="function"||typeof File<"u"&&Df.call(File)==="[object FileConstructor]";function Go(e){return k2&&(e instanceof ArrayBuffer||D2(e))||I2&&e instanceof Blob||M2&&e instanceof File}function xs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(xs(e[n]))return!0;return!1}if(Go(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return xs(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&xs(e[n]))return!0;return!1}function N2(e){const t=[],n=e.data,r=e;return r.data=lo(n,t),r.attachments=t.length,{packet:r,buffers:t}}function lo(e,t){if(!e)return e;if(Go(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=lo(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=lo(e[r],t));return n}return e}function $2(e,t){return e.data=uo(e.data,t),delete e.attachments,e}function uo(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=uo(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=uo(e[n],t));return e}const B2=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],F2=5;var Ie;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ie||(Ie={}));class U2{constructor(t){this.replacer=t}encode(t){return(t.type===Ie.EVENT||t.type===Ie.ACK)&&xs(t)?this.encodeAsBinary({type:t.type===Ie.EVENT?Ie.BINARY_EVENT:Ie.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ie.BINARY_EVENT||t.type===Ie.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=N2(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function jl(e){return Object.prototype.toString.call(e)==="[object Object]"}class Yo extends Ze{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ie.BINARY_EVENT;r||n.type===Ie.BINARY_ACK?(n.type=r?Ie.EVENT:Ie.ACK,this.reconstructor=new j2(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Go(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ie[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ie.BINARY_EVENT||r.type===Ie.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Yo.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ie.CONNECT:return jl(n);case Ie.DISCONNECT:return n===void 0;case Ie.CONNECT_ERROR:return typeof n=="string"||jl(n);case Ie.EVENT:case Ie.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&B2.indexOf(n[0])===-1);case Ie.ACK:case Ie.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class j2{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=$2(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const V2=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Yo,Encoder:U2,get PacketType(){return Ie},protocol:F2},Symbol.toStringTag,{value:"Module"}));function It(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const H2=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class If extends Ze{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[It(t,"open",this.onopen.bind(this)),It(t,"packet",this.onpacket.bind(this)),It(t,"error",this.onerror.bind(this)),It(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(H2.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ie.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,u=n.pop();this._registerAckCallback(c,u),o.id=c}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,a=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,l)=>o?s(o):r(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ie.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ie.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ie.EVENT:case Ie.BINARY_EVENT:this.onevent(t);break;case Ie.ACK:case Ie.BINARY_ACK:this.onack(t);break;case Ie.DISCONNECT:this.ondisconnect();break;case Ie.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Ie.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function ir(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ir.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};ir.prototype.reset=function(){this.attempts=0};ir.prototype.setMin=function(e){this.ms=e};ir.prototype.setMax=function(e){this.max=e};ir.prototype.setJitter=function(e){this.jitter=e};class co extends Ze{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ii(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ir({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||V2;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new R2(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=It(n,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=It(n,"error",i);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(It(t,"ping",this.onping.bind(this)),It(t,"data",this.ondata.bind(this)),It(t,"error",this.onerror.bind(this)),It(t,"close",this.onclose.bind(this)),It(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){si(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new If(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const mr={};function Ss(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=P2(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=mr[s]&&i in mr[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let a;return l?a=new co(r,t):(mr[s]||(mr[s]=new co(r,t)),a=mr[s]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Ss,{Manager:co,Socket:If,io:Ss,connect:Ss});const W2="modulepreload",K2=function(e){return"/"+e},Vl={},z2=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=K2(a),a in Vl)return;Vl[a]=!0;const d=a.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":W2,d||(u.as="script"),u.crossOrigin="",u.href=a,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const jn=typeof document<"u";function Mf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function G2(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Mf(e.default)}const $e=Object.assign;function Ii(e,t){const n={};for(const r in t){const s=t[r];n[r]=Bt(s)?s.map(e):e(s)}return n}const Rr=()=>{},Bt=Array.isArray,Nf=/#/g,Y2=/&/g,q2=/\//g,X2=/=/g,J2=/\?/g,$f=/\+/g,Q2=/%5B/g,Z2=/%5D/g,Bf=/%5E/g,ey=/%60/g,Ff=/%7B/g,ty=/%7C/g,Uf=/%7D/g,ny=/%20/g;function qo(e){return encodeURI(""+e).replace(ty,"|").replace(Q2,"[").replace(Z2,"]")}function ry(e){return qo(e).replace(Ff,"{").replace(Uf,"}").replace(Bf,"^")}function fo(e){return qo(e).replace($f,"%2B").replace(ny,"+").replace(Nf,"%23").replace(Y2,"%26").replace(ey,"`").replace(Ff,"{").replace(Uf,"}").replace(Bf,"^")}function sy(e){return fo(e).replace(X2,"%3D")}function iy(e){return qo(e).replace(Nf,"%23").replace(J2,"%3F")}function oy(e){return e==null?"":iy(e).replace(q2,"%2F")}function Hr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ay=/\/$/,ly=e=>e.replace(ay,"");function Mi(e,t,n="/"){let r,s={},i="",o="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(r=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),s=e(i)),l>-1&&(r=r||t.slice(0,l),o=t.slice(l,t.length)),r=dy(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Hr(o)}}function uy(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Hl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function cy(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&nr(t.matched[r],n.matched[s])&&jf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function nr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!fy(e[n],t[n]))return!1;return!0}function fy(e,t){return Bt(e)?Wl(e,t):Bt(t)?Wl(t,e):e===t}function Wl(e,t){return Bt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function dy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const un={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Wr;(function(e){e.pop="pop",e.push="push"})(Wr||(Wr={}));var Pr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Pr||(Pr={}));function hy(e){if(!e)if(jn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ly(e)}const py=/^[^#]+#/;function _y(e,t){return e.replace(py,"#")+t}function my(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const oi=()=>({left:window.scrollX,top:window.scrollY});function vy(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=my(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Kl(e,t){return(history.state?history.state.position-t:-1)+e}const ho=new Map;function gy(e,t){ho.set(e,t)}function yy(e){const t=ho.get(e);return ho.delete(e),t}let by=()=>location.protocol+"//"+location.host;function Vf(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let l=s.includes(e.slice(i))?e.slice(i).length:1,a=s.slice(l);return a[0]!=="/"&&(a="/"+a),Hl(a,"")}return Hl(n,e)+r+s}function Ey(e,t,n,r){let s=[],i=[],o=null;const l=({state:f})=>{const m=Vf(e,location),p=n.value,y=t.value;let E=0;if(f){if(n.value=m,t.value=f,o&&o===p){o=null;return}E=y?f.position-y.position:0}else r(m);s.forEach(_=>{_(n.value,p,{delta:E,type:Wr.pop,direction:E?E>0?Pr.forward:Pr.back:Pr.unknown})})};function a(){o=n.value}function d(f){s.push(f);const m=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return i.push(m),m}function c(){const{history:f}=window;f.state&&f.replaceState($e({},f.state,{scroll:oi()}),"")}function u(){for(const f of i)f();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:a,listen:d,destroy:u}}function zl(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?oi():null}}function xy(e){const{history:t,location:n}=window,r={value:Vf(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(a,d,c){const u=e.indexOf("#"),f=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+a:by()+e+a;try{t[c?"replaceState":"pushState"](d,"",f),s.value=d}catch(m){console.error(m),n[c?"replace":"assign"](f)}}function o(a,d){const c=$e({},t.state,zl(s.value.back,a,s.value.forward,!0),d,{position:s.value.position});i(a,c,!0),r.value=a}function l(a,d){const c=$e({},s.value,t.state,{forward:a,scroll:oi()});i(c.current,c,!0);const u=$e({},zl(r.value,a,null),{position:c.position+1},d);i(a,u,!1),r.value=a}return{location:r,state:s,push:l,replace:o}}function Sy(e){e=hy(e);const t=xy(e),n=Ey(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=$e({location:"",base:e,go:r,createHref:_y.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function wy(e){return typeof e=="string"||e&&typeof e=="object"}function Hf(e){return typeof e=="string"||typeof e=="symbol"}const Wf=Symbol("");var Gl;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Gl||(Gl={}));function rr(e,t){return $e(new Error,{type:e,[Wf]:!0},t)}function Qt(e,t){return e instanceof Error&&Wf in e&&(t==null||!!(e.type&t))}const Yl="[^/]+?",Cy={sensitive:!1,strict:!1,start:!0,end:!0},Oy=/[.+*?^${}()[\]/\\]/g;function Ly(e,t){const n=$e({},Cy,t),r=[];let s=n.start?"^":"";const i=[];for(const d of e){const c=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let u=0;u<d.length;u++){const f=d[u];let m=40+(n.sensitive?.25:0);if(f.type===0)u||(s+="/"),s+=f.value.replace(Oy,"\\$&"),m+=40;else if(f.type===1){const{value:p,repeatable:y,optional:E,regexp:_}=f;i.push({name:p,repeatable:y,optional:E});const h=_||Yl;if(h!==Yl){m+=10;try{new RegExp(`(${h})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${h}): `+b.message)}}let g=y?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;u||(g=E&&d.length<2?`(?:/${g})`:"/"+g),E&&(g+="?"),s+=g,m+=20,E&&(m+=-8),y&&(m+=-20),h===".*"&&(m+=-50)}c.push(m)}r.push(c)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function l(d){const c=d.match(o),u={};if(!c)return null;for(let f=1;f<c.length;f++){const m=c[f]||"",p=i[f-1];u[p.name]=m&&p.repeatable?m.split("/"):m}return u}function a(d){let c="",u=!1;for(const f of e){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const m of f)if(m.type===0)c+=m.value;else if(m.type===1){const{value:p,repeatable:y,optional:E}=m,_=p in d?d[p]:"";if(Bt(_)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const h=Bt(_)?_.join("/"):_;if(!h)if(E)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${p}"`);c+=h}}return c||"/"}return{re:o,score:r,keys:i,parse:l,stringify:a}}function Ay(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Kf(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Ay(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(ql(r))return 1;if(ql(s))return-1}return s.length-r.length}function ql(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ty={type:0,value:""},Ry=/[a-zA-Z0-9_]/;function Py(e){if(!e)return[[]];if(e==="/")return[[Ty]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${d}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,a,d="",c="";function u(){d&&(n===0?i.push({type:0,value:d}):n===1||n===2||n===3?(i.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:c,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),d="")}function f(){d+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(d&&u(),o()):a===":"?(u(),n=1):f();break;case 4:f(),n=r;break;case 1:a==="("?n=2:Ry.test(a)?f():(u(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:u(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),u(),o(),s}function ky(e,t,n){const r=Ly(Py(e.path),n),s=$e(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Dy(e,t){const n=[],r=new Map;t=Zl({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,f,m){const p=!m,y=Jl(u);y.aliasOf=m&&m.record;const E=Zl(t,u),_=[y];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const v of b)_.push(Jl($e({},y,{components:m?m.record.components:y.components,path:v,aliasOf:m?m.record:y})))}let h,g;for(const b of _){const{path:v}=b;if(f&&v[0]!=="/"){const x=f.record.path,S=x[x.length-1]==="/"?"":"/";b.path=f.record.path+(v&&S+v)}if(h=ky(b,f,E),m?m.alias.push(h):(g=g||h,g!==h&&g.alias.push(h),p&&u.name&&!Ql(h)&&o(u.name)),zf(h)&&a(h),y.children){const x=y.children;for(let S=0;S<x.length;S++)i(x[S],h,m&&m.children[S])}m=m||h}return g?()=>{o(g)}:Rr}function o(u){if(Hf(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function l(){return n}function a(u){const f=Ny(u,n);n.splice(f,0,u),u.record.name&&!Ql(u)&&r.set(u.record.name,u)}function d(u,f){let m,p={},y,E;if("name"in u&&u.name){if(m=r.get(u.name),!m)throw rr(1,{location:u});E=m.record.name,p=$e(Xl(f.params,m.keys.filter(g=>!g.optional).concat(m.parent?m.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),u.params&&Xl(u.params,m.keys.map(g=>g.name))),y=m.stringify(p)}else if(u.path!=null)y=u.path,m=n.find(g=>g.re.test(y)),m&&(p=m.parse(y),E=m.record.name);else{if(m=f.name?r.get(f.name):n.find(g=>g.re.test(f.path)),!m)throw rr(1,{location:u,currentLocation:f});E=m.record.name,p=$e({},f.params,u.params),y=m.stringify(p)}const _=[];let h=m;for(;h;)_.unshift(h.record),h=h.parent;return{name:E,path:y,params:p,matched:_,meta:My(_)}}e.forEach(u=>i(u));function c(){n.length=0,r.clear()}return{addRoute:i,resolve:d,removeRoute:o,clearRoutes:c,getRoutes:l,getRecordMatcher:s}}function Xl(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Jl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Iy(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Iy(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Ql(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function My(e){return e.reduce((t,n)=>$e(t,n.meta),{})}function Zl(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Ny(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;Kf(e,t[i])<0?r=i:n=i+1}const s=$y(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function $y(e){let t=e;for(;t=t.parent;)if(zf(t)&&Kf(e,t)===0)return t}function zf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function By(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace($f," "),o=i.indexOf("="),l=Hr(o<0?i:i.slice(0,o)),a=o<0?null:Hr(i.slice(o+1));if(l in t){let d=t[l];Bt(d)||(d=t[l]=[d]),d.push(a)}else t[l]=a}return t}function eu(e){let t="";for(let n in e){const r=e[n];if(n=sy(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Bt(r)?r.map(i=>i&&fo(i)):[r&&fo(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Fy(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Bt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Uy=Symbol(""),tu=Symbol(""),ai=Symbol(""),Gf=Symbol(""),po=Symbol("");function vr(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function _n(e,t,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,a)=>{const d=f=>{f===!1?a(rr(4,{from:n,to:t})):f instanceof Error?a(f):wy(f)?a(rr(2,{from:t,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),l())},c=i(()=>e.call(r&&r.instances[s],t,n,d));let u=Promise.resolve(c);e.length<3&&(u=u.then(d)),u.catch(f=>a(f))})}function Ni(e,t,n,r,s=i=>i()){const i=[];for(const o of e)for(const l in o.components){let a=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(Mf(a)){const c=(a.__vccOpts||a)[t];c&&i.push(_n(c,n,r,o,l,s))}else{let d=a();i.push(()=>d.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const u=G2(c)?c.default:c;o.mods[l]=c,o.components[l]=u;const m=(u.__vccOpts||u)[t];return m&&_n(m,n,r,o,l,s)()}))}}return i}function nu(e){const t=xt(ai),n=xt(Gf),r=ae(()=>{const a=ee(e.to);return t.resolve(a)}),s=ae(()=>{const{matched:a}=r.value,{length:d}=a,c=a[d-1],u=n.matched;if(!c||!u.length)return-1;const f=u.findIndex(nr.bind(null,c));if(f>-1)return f;const m=ru(a[d-2]);return d>1&&ru(c)===m&&u[u.length-1].path!==m?u.findIndex(nr.bind(null,a[d-2])):f}),i=ae(()=>s.value>-1&&Ky(n.params,r.value.params)),o=ae(()=>s.value>-1&&s.value===n.matched.length-1&&jf(n.params,r.value.params));function l(a={}){if(Wy(a)){const d=t[ee(e.replace)?"replace":"push"](ee(e.to)).catch(Rr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:r,href:ae(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}function jy(e){return e.length===1?e[0]:e}const Vy=ht({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:nu,setup(e,{slots:t}){const n=it(nu(e)),{options:r}=xt(ai),s=ae(()=>({[su(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[su(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&jy(t.default(n));return e.custom?i:yt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Hy=Vy;function Wy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ky(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Bt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function ru(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const su=(e,t,n)=>e??t??n,zy=ht({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=xt(po),s=ae(()=>e.route||r.value),i=xt(tu,0),o=ae(()=>{let d=ee(i);const{matched:c}=s.value;let u;for(;(u=c[d])&&!u.components;)d++;return d}),l=ae(()=>s.value.matched[o.value]);qn(tu,ae(()=>o.value+1)),qn(Uy,l),qn(po,s);const a=z();return Me(()=>[a.value,l.value,e.name],([d,c,u],[f,m,p])=>{c&&(c.instances[u]=d,m&&m!==c&&d&&d===f&&(c.leaveGuards.size||(c.leaveGuards=m.leaveGuards),c.updateGuards.size||(c.updateGuards=m.updateGuards))),d&&c&&(!m||!nr(c,m)||!f)&&(c.enterCallbacks[u]||[]).forEach(y=>y(d))},{flush:"post"}),()=>{const d=s.value,c=e.name,u=l.value,f=u&&u.components[c];if(!f)return iu(n.default,{Component:f,route:d});const m=u.props[c],p=m?m===!0?d.params:typeof m=="function"?m(d):m:null,E=yt(f,$e({},p,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(u.instances[c]=null)},ref:a}));return iu(n.default,{Component:E,route:d})||E}}});function iu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Gy=zy;function Yy(e){const t=Dy(e.routes,e),n=e.parseQuery||By,r=e.stringifyQuery||eu,s=e.history,i=vr(),o=vr(),l=vr(),a=wt(un);let d=un;jn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ii.bind(null,F=>""+F),u=Ii.bind(null,oy),f=Ii.bind(null,Hr);function m(F,re){let Y,ne;return Hf(F)?(Y=t.getRecordMatcher(F),ne=re):ne=F,t.addRoute(ne,Y)}function p(F){const re=t.getRecordMatcher(F);re&&t.removeRoute(re)}function y(){return t.getRoutes().map(F=>F.record)}function E(F){return!!t.getRecordMatcher(F)}function _(F,re){if(re=$e({},re||a.value),typeof F=="string"){const B=Mi(n,F,re.path),H=t.resolve({path:B.path},re),K=s.createHref(B.fullPath);return $e(B,H,{params:f(H.params),hash:Hr(B.hash),redirectedFrom:void 0,href:K})}let Y;if(F.path!=null)Y=$e({},F,{path:Mi(n,F.path,re.path).path});else{const B=$e({},F.params);for(const H in B)B[H]==null&&delete B[H];Y=$e({},F,{params:u(B)}),re.params=u(re.params)}const ne=t.resolve(Y,re),Oe=F.hash||"";ne.params=c(f(ne.params));const k=uy(r,$e({},F,{hash:ry(Oe),path:ne.path})),R=s.createHref(k);return $e({fullPath:k,hash:Oe,query:r===eu?Fy(F.query):F.query||{}},ne,{redirectedFrom:void 0,href:R})}function h(F){return typeof F=="string"?Mi(n,F,a.value.path):$e({},F)}function g(F,re){if(d!==F)return rr(8,{from:re,to:F})}function b(F){return S(F)}function v(F){return b($e(h(F),{replace:!0}))}function x(F){const re=F.matched[F.matched.length-1];if(re&&re.redirect){const{redirect:Y}=re;let ne=typeof Y=="function"?Y(F):Y;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=h(ne):{path:ne},ne.params={}),$e({query:F.query,hash:F.hash,params:ne.path!=null?{}:F.params},ne)}}function S(F,re){const Y=d=_(F),ne=a.value,Oe=F.state,k=F.force,R=F.replace===!0,B=x(Y);if(B)return S($e(h(B),{state:typeof B=="object"?$e({},Oe,B.state):Oe,force:k,replace:R}),re||Y);const H=Y;H.redirectedFrom=re;let K;return!k&&cy(r,ne,Y)&&(K=rr(16,{to:H,from:ne}),le(ne,ne,!0,!1)),(K?Promise.resolve(K):P(H,ne)).catch(W=>Qt(W)?Qt(W,2)?W:q(W):U(W,H,ne)).then(W=>{if(W){if(Qt(W,2))return S($e({replace:R},h(W.to),{state:typeof W.to=="object"?$e({},Oe,W.to.state):Oe,force:k}),re||H)}else W=w(H,ne,!0,R,Oe);return C(H,ne,W),W})}function O(F,re){const Y=g(F,re);return Y?Promise.reject(Y):Promise.resolve()}function T(F){const re=ve.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(F):F()}function P(F,re){let Y;const[ne,Oe,k]=qy(F,re);Y=Ni(ne.reverse(),"beforeRouteLeave",F,re);for(const B of ne)B.leaveGuards.forEach(H=>{Y.push(_n(H,F,re))});const R=O.bind(null,F,re);return Y.push(R),Ce(Y).then(()=>{Y=[];for(const B of i.list())Y.push(_n(B,F,re));return Y.push(R),Ce(Y)}).then(()=>{Y=Ni(Oe,"beforeRouteUpdate",F,re);for(const B of Oe)B.updateGuards.forEach(H=>{Y.push(_n(H,F,re))});return Y.push(R),Ce(Y)}).then(()=>{Y=[];for(const B of k)if(B.beforeEnter)if(Bt(B.beforeEnter))for(const H of B.beforeEnter)Y.push(_n(H,F,re));else Y.push(_n(B.beforeEnter,F,re));return Y.push(R),Ce(Y)}).then(()=>(F.matched.forEach(B=>B.enterCallbacks={}),Y=Ni(k,"beforeRouteEnter",F,re,T),Y.push(R),Ce(Y))).then(()=>{Y=[];for(const B of o.list())Y.push(_n(B,F,re));return Y.push(R),Ce(Y)}).catch(B=>Qt(B,8)?B:Promise.reject(B))}function C(F,re,Y){l.list().forEach(ne=>T(()=>ne(F,re,Y)))}function w(F,re,Y,ne,Oe){const k=g(F,re);if(k)return k;const R=re===un,B=jn?history.state:{};Y&&(ne||R?s.replace(F.fullPath,$e({scroll:R&&B&&B.scroll},Oe)):s.push(F.fullPath,Oe)),a.value=F,le(F,re,Y,R),q()}let L;function A(){L||(L=s.listen((F,re,Y)=>{if(!je.listening)return;const ne=_(F),Oe=x(ne);if(Oe){S($e(Oe,{replace:!0,force:!0}),ne).catch(Rr);return}d=ne;const k=a.value;jn&&gy(Kl(k.fullPath,Y.delta),oi()),P(ne,k).catch(R=>Qt(R,12)?R:Qt(R,2)?(S($e(h(R.to),{force:!0}),ne).then(B=>{Qt(B,20)&&!Y.delta&&Y.type===Wr.pop&&s.go(-1,!1)}).catch(Rr),Promise.reject()):(Y.delta&&s.go(-Y.delta,!1),U(R,ne,k))).then(R=>{R=R||w(ne,k,!1),R&&(Y.delta&&!Qt(R,8)?s.go(-Y.delta,!1):Y.type===Wr.pop&&Qt(R,20)&&s.go(-1,!1)),C(ne,k,R)}).catch(Rr)}))}let M=vr(),D=vr(),N;function U(F,re,Y){q(F);const ne=D.list();return ne.length?ne.forEach(Oe=>Oe(F,re,Y)):console.error(F),Promise.reject(F)}function J(){return N&&a.value!==un?Promise.resolve():new Promise((F,re)=>{M.add([F,re])})}function q(F){return N||(N=!F,A(),M.list().forEach(([re,Y])=>F?Y(F):re()),M.reset()),F}function le(F,re,Y,ne){const{scrollBehavior:Oe}=e;if(!jn||!Oe)return Promise.resolve();const k=!Y&&yy(Kl(F.fullPath,0))||(ne||!Y)&&history.state&&history.state.scroll||null;return Dt().then(()=>Oe(F,re,k)).then(R=>R&&vy(R)).catch(R=>U(R,F,re))}const de=F=>s.go(F);let ce;const ve=new Set,je={currentRoute:a,listening:!0,addRoute:m,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:E,getRoutes:y,resolve:_,options:e,push:b,replace:v,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:D.add,isReady:J,install(F){const re=this;F.component("RouterLink",Hy),F.component("RouterView",Gy),F.config.globalProperties.$router=re,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>ee(a)}),jn&&!ce&&a.value===un&&(ce=!0,b(s.location).catch(Oe=>{}));const Y={};for(const Oe in un)Object.defineProperty(Y,Oe,{get:()=>a.value[Oe],enumerable:!0});F.provide(ai,re),F.provide(Gf,Iu(Y)),F.provide(po,a);const ne=F.unmount;ve.add(F),F.unmount=function(){ve.delete(F),ve.size<1&&(d=un,L&&L(),L=null,a.value=un,ce=!1,N=!1),ne()}}};function Ce(F){return F.reduce((re,Y)=>re.then(()=>T(Y)),Promise.resolve())}return je}function qy(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(e.matched.find(d=>nr(d,l))?r.push(l):n.push(l));const a=e.matched[o];a&&(t.matched.find(d=>nr(d,a))||s.push(a))}return[n,r,s]}function li(){return xt(ai)}const nt=Object.freeze({Escape:0,F1:1,F2:2,F3:3,F4:4,F5:5,F6:6,F7:7,F8:8,F9:9,F10:10,F11:11,F12:12,F13:13,F14:14,F15:15,F16:16,F17:17,F18:18,F19:19,F20:20,F21:21,F22:22,F23:23,F24:24,Print:25,ScrollLock:26,Pause:27,Grave:28,Num1:29,Num2:30,Num3:31,Num4:32,Num5:33,Num6:34,Num7:35,Num8:36,Num9:37,Num0:38,Minus:39,Equal:40,Backspace:41,Insert:42,Home:43,PageUp:44,NumLock:45,NumPadEqual:46,Divide:47,Multiply:48,Subtract:49,Tab:50,Q:51,W:52,E:53,R:54,T:55,Y:56,U:57,I:58,O:59,P:60,LeftBracket:61,RightBracket:62,Backslash:63,Delete:64,End:65,PageDown:66,NumPad7:67,NumPad8:68,NumPad9:69,Add:70,CapsLock:71,A:72,S:73,D:74,F:75,G:76,H:77,J:78,K:79,L:80,Semicolon:81,Quote:82,Return:83,NumPad4:84,NumPad5:85,NumPad6:86,LeftShift:87,Z:88,X:89,C:90,V:91,B:92,N:93,M:94,Comma:95,Period:96,Slash:97,RightShift:98,Up:99,NumPad1:100,NumPad2:101,NumPad3:102,Enter:103,LeftControl:104,LeftSuper:105,LeftWin:106,LeftCmd:107,LeftAlt:108,LeftMeta:109,RightControl:110,RightSuper:111,RightWin:112,RightAlt:113,RightCmd:114,RightMeta:115,Space:116,Menu:117,Fn:118,Left:119,Down:120,Right:121,NumPad0:122,Decimal:123,Clear:124,AudioMute:125,AudioVolDown:126,AudioVolUp:127,AudioPlay:128,AudioStop:129,AudioPause:130,AudioPrev:131,AudioNext:132,AudioRewind:133,AudioForward:134,AudioRepeat:135,AudioRandom:136,0:"Escape",1:"F1",2:"F2",3:"F3",4:"F4",5:"F5",6:"F6",7:"F7",8:"F8",9:"F9",10:"F10",11:"F11",12:"F12",13:"F13",14:"F14",15:"F15",16:"F16",17:"F17",18:"F18",19:"F19",20:"F20",21:"F21",22:"F22",23:"F23",24:"F24",25:"Print",26:"ScrollLock",27:"Pause",28:"Grave",29:"Num1",30:"Num2",31:"Num3",32:"Num4",33:"Num5",34:"Num6",35:"Num7",36:"Num8",37:"Num9",38:"Num0",39:"Minus",40:"Equal",41:"Backspace",42:"Insert",43:"Home",44:"PageUp",45:"NumLock",46:"NumPadEqual",47:"Divide",48:"Multiply",49:"Subtract",50:"Tab",51:"Q",52:"W",53:"E",54:"R",55:"T",56:"Y",57:"U",58:"I",59:"O",60:"P",61:"LeftBracket",62:"RightBracket",63:"Backslash",64:"Delete",65:"End",66:"PageDown",67:"NumPad7",68:"NumPad8",69:"NumPad9",70:"Add",71:"CapsLock",72:"A",73:"S",74:"D",75:"F",76:"G",77:"H",78:"J",79:"K",80:"L",81:"Semicolon",82:"Quote",83:"Return",84:"NumPad4",85:"NumPad5",86:"NumPad6",87:"LeftShift",88:"Z",89:"X",90:"C",91:"V",92:"B",93:"N",94:"M",95:"Comma",96:"Period",97:"Slash",98:"RightShift",99:"Up",100:"NumPad1",101:"NumPad2",102:"NumPad3",103:"Enter",104:"LeftControl",105:"LeftSuper",106:"LeftWin",107:"LeftCmd",108:"LeftAlt",109:"LeftMeta",110:"RightControl",111:"RightSuper",112:"RightWin",113:"RightAlt",114:"RightCmd",115:"RightMeta",116:"Space",117:"Menu",118:"Fn",119:"Left",120:"Down",121:"Right",122:"NumPad0",123:"Decimal",124:"Clear",125:"AudioMute",126:"AudioVolDown",127:"AudioVolUp",128:"AudioPlay",129:"AudioStop",130:"AudioPause",131:"AudioPrev",132:"AudioNext",133:"AudioRewind",134:"AudioForward",135:"AudioRepeat",136:"AudioRandom"}),ot=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Xy={class:"shortcut-picker"},Jy={class:"selected-keys"},Qy=["onClick"],Zy={key:0,class:"key-picker-modal"},eb={class:"key-list"},tb=["onClick"],nb={__name:"ShortcutPicker",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:t}){const n={...nt},r=e,s=t,i=z(!1),o=z([...r.modelValue]),l=ae(()=>Object.entries(n).filter(([p,y])=>typeof y=="number").map(([p,y])=>({name:p,code:y}))),a=ae({get:()=>r.modelValue,set:p=>s("update:modelValue",p)}),d=p=>n[p]||"Unknown",c=p=>{const y=o.value.indexOf(p);y>-1?o.value.splice(y,1):o.value.length<3&&o.value.push(p)},u=p=>{a.value=a.value.filter(y=>y!==p)},f=()=>{a.value=[...o.value],i.value=!1},m=p=>o.value.includes(p);return(p,y)=>($(),j("div",Xy,[I("div",Jy,[($(!0),j(Se,null,st(a.value,E=>($(),j("div",{key:E,class:"key-item"},[Ue(pe(d(E))+" ",1),I("span",{class:"remove-btn",onClick:_=>u(E)},"×",8,Qy)]))),128)),I("button",{onClick:y[0]||(y[0]=E=>i.value=!0),class:"select-btn"},pe(a.value.length?"编辑":"添加快捷键"),1)]),i.value?($(),j("div",Zy,[I("div",{class:"modal-header"},[y[1]||(y[1]=I("h3",null,"选择组合键",-1)),I("button",{onClick:f},"完成")]),I("div",eb,[($(!0),j(Se,null,st(l.value,E=>($(),j("button",{key:E.code,class:xe(["key-btn",{active:m(E.code)}]),onClick:_=>c(E.code)},pe(E.name),11,tb))),128))])])):fe("",!0)]))}},rb=ot(nb,[["__scopeId","data-v-3008e259"]]),sb={class:"form-group"},ib={class:"form-group"},ob={class:"color-picker"},ab={class:"color-value"},lb={class:"event-list"},ub={class:"form-group"},cb={class:"input-label"},fb=["onUpdate:modelValue"],db=["value"],hb=["value"],pb=["value"],_b=["value"],mb=["value"],vb=["value"],gb=["value"],yb=["value"],bb={key:0,class:"form-group"},Eb={class:"input-row"},xb={key:1,class:"form-group"},Sb={class:"input-row"},wb=["onUpdate:modelValue"],Cb={class:"input-row"},Ob={class:"checkbox-label"},Lb=["onUpdate:modelValue"],Ab={key:2,class:"form-group"},Tb={class:"input-row"},Rb=["onUpdate:modelValue"],Pb={key:3,class:"form-group"},kb={key:4,class:"form-group"},Db={key:5,class:"form-group"},Ib={class:"input-row"},Mb=["onUpdate:modelValue"],Nb=["onUpdate:modelValue"],$b={key:6,class:"form-group"},Bb={class:"input-row"},Fb=["onUpdate:modelValue"],Ub={class:"input-row"},jb={class:"checkbox-label"},Vb=["onUpdate:modelValue"],Hb={class:"form-group"},Wb=["onUpdate:modelValue"],Kb=["onClick"],zb={__name:"EventModal",props:{event:{type:Object,required:!0},ok:{type:Function,required:!0}},setup(e){const t=lt(),n=e,r=z({x:0,y:0}),s=z(null),i=()=>{n.event.events.push({event:te.SYS_POINTER_MOVE,eventData:{x:0,y:0},delay:0})},o=a=>{n.event.events.splice(a,1)},l=()=>{n.ok()};return Xe(()=>{t.emit(te.SYS_POINTER_POS),t.on(te.SYS_POINTER_POS,a=>{r.value=a,setTimeout(()=>{t.emit(te.SYS_POINTER_POS)},100)})}),On(()=>{t.off(te.SYS_POINTER_POS)}),(a,d)=>{const c=qt,u=dm,f=Zs;return $(),j("div",{class:"event-list",ref_key:"container",ref:s},[I("div",sb,[d[2]||(d[2]=I("label",{class:"input-label"},"事件名称",-1)),Je(I("input",{"onUpdate:modelValue":d[0]||(d[0]=m=>e.event.name=m),type:"text",placeholder:"输入事件名称",class:"ios-input"},null,512),[[en,e.event.name]])]),I("div",ib,[d[3]||(d[3]=I("label",{class:"input-label"},"选择颜色",-1)),I("div",ob,[Je(I("input",{"onUpdate:modelValue":d[1]||(d[1]=m=>e.event.color=m),type:"color",class:"color-input"},null,512),[[en,e.event.color]]),I("span",ab,pe(e.event.color),1)])]),oe(f,{top:"80"},{default:Ee(()=>[oe(u,null,{default:Ee(()=>[oe(c,{type:"primary",size:"small",onClick:l},{default:Ee(()=>[Ue(" 完成配置（共"+pe(e.event.events.length)+"项） ",1)]),_:1}),oe(c,{type:"default",size:"small",onClick:i},{default:Ee(()=>d[4]||(d[4]=[Ue(" 新增事件 ")])),_:1}),Ue(" x:"+pe(r.value.x)+" y:"+pe(r.value.y),1)]),_:1})]),_:1}),I("div",lb,[($(!0),j(Se,null,st(e.event.events,(m,p)=>($(),j("div",{key:p,class:"event-item"},[I("div",ub,[I("label",cb,"["+pe(p+1)+"]事件类型",1),Je(I("select",{"onUpdate:modelValue":y=>m.event=y,class:"ios-select"},[I("option",{value:ee(te).SYS_POINTER_MOVE},"指针移动",8,db),I("option",{value:ee(te).SYS_MOUSE_CLICK},"鼠标点击",8,hb),I("option",{value:ee(te).KEYPRESS},"快捷键",8,pb),I("option",{value:ee(te).SYS_SHELL},"执行命令行",8,_b),I("option",{value:ee(te).TYPING},"输入文本",8,mb),I("option",{value:ee(te).OPEN_URL},"打开网址",8,vb),I("option",{value:ee(te).OPEN_APP},"打开应用",8,gb),I("option",{value:ee(te).SYS_SHUTDOWN},"关机",8,yb)],8,fb),[[Xi,m.event]])]),m.event===ee(te).KEYPRESS?($(),j("div",bb,[d[5]||(d[5]=I("label",{class:"input-label"},"快捷键",-1)),I("div",Eb,[oe(rb,{modelValue:m.eventData.key,"onUpdate:modelValue":y=>m.eventData.key=y},null,8,["modelValue","onUpdate:modelValue"])])])):fe("",!0),m.event===ee(te).TYPING?($(),j("div",xb,[d[7]||(d[7]=I("label",{class:"input-label"},"输入文本",-1)),I("div",Sb,[Je(I("input",{"onUpdate:modelValue":y=>m.eventData.val=y,placeholder:"文本内容",class:"ios-input"},null,8,wb),[[en,m.eventData.val]])]),I("div",Cb,[I("label",Ob,[Je(I("input",{type:"checkbox","onUpdate:modelValue":y=>m.eventData.enter=y,class:"ios-checkbox"},null,8,Lb),[[Ma,m.eventData.enter]]),d[6]||(d[6]=Ue(" 自动回车 "))])])])):fe("",!0),m.event===ee(te).OPEN_URL?($(),j("div",Ab,[d[8]||(d[8]=I("label",{class:"input-label"},"输入网址",-1)),I("div",Tb,[Je(I("input",{"onUpdate:modelValue":y=>m.eventData.url=y,placeholder:"文本内容",class:"ios-input"},null,8,Rb),[[en,m.eventData.url]])])])):fe("",!0),m.event===ee(te).OPEN_APP?($(),j("div",Pb," 暂不支持打开应用 ")):fe("",!0),m.event===ee(te).SYS_SHELL?($(),j("div",kb," 功能完善中 ")):fe("",!0),m.event===ee(te).SYS_POINTER_MOVE?($(),j("div",Db,[d[9]||(d[9]=I("label",{class:"input-label"},"坐标设置",-1)),I("div",Ib,[Je(I("input",{type:"number","onUpdate:modelValue":y=>m.eventData.x=y,placeholder:"X坐标",class:"ios-input"},null,8,Mb),[[en,m.eventData.x]]),Je(I("input",{type:"number","onUpdate:modelValue":y=>m.eventData.y=y,placeholder:"Y坐标",class:"ios-input"},null,8,Nb),[[en,m.eventData.y]])])])):fe("",!0),m.event===ee(te).SYS_MOUSE_CLICK?($(),j("div",$b,[d[12]||(d[12]=I("label",{class:"input-label"},"点击设置",-1)),I("div",Bb,[Je(I("select",{"onUpdate:modelValue":y=>m.eventData.button=y,class:"ios-select"},d[10]||(d[10]=[I("option",{value:0},"左键",-1),I("option",{value:1},"中键",-1),I("option",{value:2},"右键",-1)]),8,Fb),[[Xi,m.eventData.button]])]),I("div",Ub,[I("label",jb,[Je(I("input",{type:"checkbox","onUpdate:modelValue":y=>m.eventData.double=y,class:"checkbox"},null,8,Vb),[[Ma,m.eventData.double]]),d[11]||(d[11]=Ue(" 双击 "))])])])):fe("",!0),I("div",Hb,[d[13]||(d[13]=I("label",{class:"input-label"},"延迟时间（ms）",-1)),Je(I("input",{type:"number","onUpdate:modelValue":y=>m.delay=y,min:"0",class:"ios-input"},null,8,Wb),[[en,m.delay]])]),I("button",{class:"ios-button danger",onClick:y=>ee(jo)({title:"温馨提示",content:"确认移除该事件吗？",onOk:()=>{o(p)}})}," 删除事件 ",8,Kb)]))),128))])],512)}}},Yf=ot(zb,[["__scopeId","data-v-fad522dc"]]),ui=Zr("LocalEventStore",()=>{const e=lt();return{customEvents:z([]),defaultEvent:()=>({name:"控制键鼠",color:"#3069e5",events:[]}),defaultSchedule:()=>({name:"计划任务",color:"#3069e5",cron:"",events:[],runOnCreate:!0,runOnStart:!1}),putEvent:o=>{e.emit(te.EVENTS_PUT,o)},delEvent:o=>{e.emit(te.EVENTS_DELETE,o)}}}),Gb={key:0,class:"modal-header"},Yb={class:"scroll-content"},qb={key:1,class:"modal-actions"},Xb={__name:"Modal",props:{modelValue:{type:Boolean,required:!0},title:{type:String,default:"默认标题"},width:{type:[String,Number],default:"90%"},maxHeight:{type:[String,Number],default:"80vh"},showHeader:{type:Boolean,default:!0},backgroundNone:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=t,r=()=>{n("update:modelValue",!1)};return(s,i)=>($(),Pe(qs,{name:"modal"},{default:Ee(()=>[e.modelValue?($(),j("div",{key:0,class:"modal-overlay",onClick:er(r,["self"]),style:_e({backdropFilter:e.backgroundNone?"none":"blur(2px)",background:e.backgroundNone?"none":"rgba(0, 0, 0, 0.5)"})},[I("div",{class:"modal",style:_e({height:typeof e.maxHeight=="number"?`${e.width}px`:e.maxHeight,width:typeof e.width=="number"?`${e.width}px`:e.width,background:e.backgroundNone?"none":"#fff"})},[e.showHeader?($(),j("div",Gb,[I("h3",null,pe(e.title),1),I("button",{class:"close-button",onClick:r},"×")])):fe("",!0),I("div",Yb,[Re(s.$slots,"default",{},void 0,!0)]),s.$slots.actions?($(),j("div",qb,[Re(s.$slots,"actions",{},void 0,!0)])):fe("",!0)],4)],4)):fe("",!0)]),_:3}))}},es=ot(Xb,[["__scopeId","data-v-f6833826"]]),Jb={class:"mobile-list"},Qb={key:0,class:"item-content"},Zb={class:"item-info"},eE={class:"item-actions"},tE=["onClick"],nE=["onClick"],rE=["onClick"],sE={__name:"index",setup(e){const t=lt(),n=ui(),r=z(!1),s=z(null),{copy:i,isSupported:o}=P1();Xe(()=>{t.emit(te.EVENTS_GET)});const l=u=>{s.value=u,r.value=!0},a=u=>{jo({title:"温馨提示",content:`确定删除${u.name}吗？`,onOk:()=>{t.emit(te.EVENTS_DELETE,u.id)}})},d=()=>{r.value=!1,t.emit(te.EVENTS_PUT,s.value),s.value={}},c=u=>{i(JSON.stringify(u)),Xn.text(`${u.name}指令已复制到剪贴板`)};return(u,f)=>{const m=qt,p=Zs;return $(),j(Se,null,[oe(es,{modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=y=>r.value=y),title:"编辑指令"},{default:Ee(()=>[oe(Yf,{event:s.value,ok:d},null,8,["event"])]),_:1},8,["modelValue"]),I("div",Jb,[($(!0),j(Se,null,st(ee(n).customEvents,(y,E)=>($(),j("div",{key:E,class:"list-item"},[y?($(),j("div",Qb,[I("div",{class:"color-block",style:_e({backgroundColor:y.color})},null,4),I("div",Zb,[I("h3",null,pe(y.name),1),I("p",null,pe(y.events.length)+" 个事件",1)])])):fe("",!0),I("div",eE,[I("button",{class:"btn edit",onClick:_=>l(y)},"编辑",8,tE),I("button",{class:"btn delete",onClick:_=>a(y)},"删除",8,nE),ee(o)?($(),j("button",{key:0,class:"btn edit",onClick:_=>c(y)},"分享",8,rE)):fe("",!0)])]))),128))]),oe(p,{position:"bottom"},{default:Ee(()=>[oe(m,{block:"",type:"primary",onClick:f[1]||(f[1]=y=>{s.value=ee(n).defaultEvent(),r.value=!0})},{default:Ee(()=>f[2]||(f[2]=[Ue("自定义指令")])),_:1})]),_:1})],64)}}},iE=ot(sE,[["__scopeId","data-v-b77ffabc"]]),oE={__name:"index",setup(e){const t=lt(),n=z(""),r=()=>{const s=H1(n.value);s&&s.name?(s.id=vf(),t.emit(te.EVENTS_PUT,s)):Dn.warn("指令格式错误，请检查！")};return(s,i)=>{const o=nf,l=qt;return $(),j(Se,null,[oe(o,{placeholder:"请粘贴指令",rows:10,autosize:"",autofocus:"",modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=a=>n.value=a)},null,8,["modelValue"]),oe(l,{block:"",type:"primary",onClick:r},{default:Ee(()=>i[1]||(i[1]=[Ue("创建指令")])),_:1})],64)}}},aE="data:image/svg+xml,%3csvg%20t='1740557693381'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6337'%20width='200'%20height='200'%3e%3cpath%20d='M377.66%20952.17L76.04%20134.51l-0.07-0.17-11.28-30.09%200.29%200.26-8.48-22.99-12.14-32.17%2034.42%2012.84%2011.06%203.79h-0.48l35.93%2011.98%200.51%200.35%20830.9%20284.63%2063.02%2018.56-77.36%2022.52-408.54%20111.65-106.8%20406.7-26.57%2090.55-22.79-60.75z%20m17.3-135.13l80.95-329.76%200.13%200.03%206.18-24.41%20341.82-78.82L150.1%20153.22l244.86%20663.82z'%20p-id='6338'%20fill='%231296db'%20data-spm-anchor-id='a313x.search_index.0.i9.71ae3a81VTIHvF'%20class='selected'%3e%3c/path%3e%3cpath%20d='M45.21%2050.21l12.88%204.8%2020.54%207.66%208.14%202.79h-0.57l5.99%202%2016.5%205.5%2016.37%205.46%200.14%200.1%200.26%200.17%200.11%200.07%200.13%200.04%20830.89%20284.63%2061.36%2018.07-36.22%2010.55-39.48%2011.5-204.15%2055.77-204.14%2055.79-0.56%200.15-0.15%200.56-53.35%20203.21-53.36%20203.18-13.5%2046-12.66%2043.13-10.6-28.27L378.13%20952%20235.15%20564.39%2092.17%20176.78l-7.83-21.22-7.85-21.27-0.04-0.09-0.02-0.05-6-16L65.88%20106l0.27%200.25-1.41-3.82-7.78-21.09-11.75-31.13m349.84%20768.53l0.78-3.17%2080.44-327.68%200.12%200.03%200.25-0.97%205.98-23.63%20339.82-78.36%203.41-0.79-3.31-1.13-671.29-229.95-1.99-0.68%200.73%201.97%20243.93%20661.3%201.13%203.06M43.5%2048.5c4.18%2011.06%208.35%2022.13%2012.53%2033.19l7.78%2021.09-0.31-0.28c4%2010.67%208%2021.33%2012%2032%200.03%200.06%200.05%200.12%200.08%200.18l15.66%2042.45c95.32%20258.41%20190.64%20516.82%20285.96%20775.22%207.77%2020.72%2015.54%2041.43%2023.31%2062.15l27-92c35.58-135.47%2071.15-270.95%20106.73-406.42%20136.09-37.19%20272.18-74.38%20408.27-111.58%2026.33-7.67%2052.67-15.33%2079-23-21.54-6.34-43.09-12.69-64.64-19.03L126.01%2077.85c-0.17-0.12-0.34-0.23-0.51-0.35-11-3.67-22-7.33-33-11h0.4l-13.95-4.78c-11.82-4.4-23.63-8.81-35.45-13.22z%20m351.36%20766.83l-243.93-661.3%20671.29%20229.96-340.41%2078.49-6.13%2024.22-0.13-0.03-80.69%20328.66z'%20p-id='6339'%20fill='%23ffffff'%3e%3c/path%3e%3c/svg%3e",ps="data:image/svg+xml,%3csvg%20t='1741319513600'%20class='icon'%20viewBox='0%200%201536%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='29883'%20width='128'%20height='128'%3e%3cpath%20d='M109.348571%2063.926857l657.700572%20739.913143L1424.676571%2063.926857l109.348572%2097.206857L767.049143%201024%200%20161.133714%20109.348571%2063.853714z%20m667.574858%20288.475429L554.276571%2085.284571h445.220572l-222.573714%20267.117715z'%20fill='%23bfbfbf'%20p-id='29884'%20data-spm-anchor-id='a313x.search_index.0.i66.1cc13a81NGOjbW'%20class='selected'%3e%3c/path%3e%3c/svg%3e",lE="data:image/svg+xml,%3csvg%20t='1741254401830'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2648'%20width='200'%20height='200'%3e%3cpath%20d='M908.544%20156.16H141.056c-30.6944%200-57.6512%2011.0592-79.5648%2032.6144-22.016%2021.6576-33.3312%2048.384-33.3312%2078.848v488.7808c0%2030.464%2011.3152%2057.1648%2033.3312%2078.8224A110.2848%20110.2848%200%200%200%20141.056%20867.84h767.488c30.72%200%2057.6512-11.0592%2079.5648-32.6144%2022.016-21.6576%2033.3312-48.3584%2033.3312-78.8224V267.6224c0-30.464-11.3152-57.1904-33.3312-78.848A110.208%20110.208%200%200%200%20908.5696%20156.16zM141.056%20202.24h767.488c18.6112%200%2033.9456%206.2976%2047.2576%2019.4048%2013.2352%2013.0048%2019.5584%2027.904%2019.5584%2045.9776v488.7808c0%2018.048-6.3232%2032.9216-19.5584%2045.952-13.312%2013.1072-28.672%2019.4048-47.232%2019.4048H141.056a64.256%2064.256%200%200%201-47.2832-19.4048c-13.2352-13.0304-19.5584-27.904-19.5584-45.952V267.6224c0-18.048%206.3232-32.9728%2019.5584-45.9776A64.256%2064.256%200%200%201%20141.056%20202.24z'%20fill='%231296db'%20p-id='2649'%20data-spm-anchor-id='a313x.search_index.0.i0.6e983a817cjpDN'%20class=''%3e%3c/path%3e%3cpath%20d='M281.6%20476.16a23.04%2023.04%200%200%201%202.8928%2045.9008L281.6%20522.24H204.8a23.04%2023.04%200%200%201-2.8928-45.9008L204.8%20476.16h76.8z'%20fill='%231afa29'%20p-id='2650'%20data-spm-anchor-id='a313x.search_index.0.i2.6e983a817cjpDN'%20class=''%3e%3c/path%3e%3cpath%20d='M460.8%20476.16a23.04%2023.04%200%200%201%202.8928%2045.9008L460.8%20522.24h-76.8a23.04%2023.04%200%200%201-2.8928-45.9008L384%20476.16h76.8z'%20fill='%23FF6D00'%20p-id='2651'%3e%3c/path%3e%3cpath%20d='M640%20476.16a23.04%2023.04%200%200%201%202.8928%2045.9008L640%20522.24h-76.8a23.04%2023.04%200%200%201-2.8928-45.9008L563.2%20476.16h76.8zM844.8%20629.76a23.04%2023.04%200%200%201%202.8928%2045.9008L844.8%20675.84H204.8a23.04%2023.04%200%200%201-2.8928-45.9008L204.8%20629.76h640zM819.2%20476.16a23.04%2023.04%200%200%201%202.8928%2045.9008L819.2%20522.24h-76.8a23.04%2023.04%200%200%201-2.8928-45.9008L742.4%20476.16h76.8zM281.6%20348.16a23.04%2023.04%200%200%201%202.8928%2045.9008L281.6%20394.24H204.8a23.04%2023.04%200%200%201-2.8928-45.9008L204.8%20348.16h76.8zM460.8%20348.16a23.04%2023.04%200%200%201%202.8928%2045.9008L460.8%20394.24h-76.8a23.04%2023.04%200%200%201-2.8928-45.9008L384%20348.16h76.8z'%20fill='%23f4ea2a'%20p-id='2652'%20data-spm-anchor-id='a313x.search_index.0.i1.6e983a817cjpDN'%20class=''%3e%3c/path%3e%3cpath%20d='M640%20348.16a23.04%2023.04%200%200%201%202.8928%2045.9008L640%20394.24h-76.8a23.04%2023.04%200%200%201-2.8928-45.9008L563.2%20348.16h76.8z'%20fill='%23FF6D00'%20p-id='2653'%3e%3c/path%3e%3cpath%20d='M819.2%20348.16a23.04%2023.04%200%200%201%202.8928%2045.9008L819.2%20394.24h-76.8a23.04%2023.04%200%200%201-2.8928-45.9008L742.4%20348.16h76.8z'%20fill='%231afa29'%20p-id='2654'%20data-spm-anchor-id='a313x.search_index.0.i3.6e983a817cjpDN'%20class='selected'%3e%3c/path%3e%3c/svg%3e",uE="data:image/svg+xml,%3csvg%20t='1740573911880'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2226'%20width='200'%20height='200'%3e%3cpath%20d='M997.882%20187.118C980.074%20169.308%20957.392%20160%20931.75%20160L336%20160c-48.606%200-87.434%2018.804-115.412%2056.882L0%20511.876l220.8%20293.056%200.36%200.462%200.368%200.464c13.808%2017.71%2028.848%2031.402%2045.98%2040.834C287.766%20857.848%20310.81%20864%20336%20864l596%200c52.382%200%2092-44.514%2092-98L1024%20254C1024%20228.358%201015.692%20204.926%20997.882%20187.118zM826.884%20664.614c3.056%203.02%204.744%207.124%204.744%2011.42%200%204.302-1.688%208.406-4.744%2011.414l-43.646%2043.81c-3.15%203.172-7.25%204.742-11.382%204.742-4.142%200-8.276-1.57-11.39-4.742l-152.46-152.922-152.46%20152.922c-3.116%203.172-7.25%204.742-11.39%204.742-4.132%200-8.234-1.57-11.384-4.742l-43.648-43.81c-3.054-3.008-4.746-7.112-4.746-11.414%200-4.296%201.692-8.4%204.746-11.42L542.196%20512l-153.476-152.594c-6.292-6.306-6.292-16.546%200-22.854l43.614-43.838c3.032-3.022%207.104-4.714%2011.392-4.714%204.304%200%208.378%201.694%2011.382%204.714l152.896%20151.066%20152.894-151.066c3.008-3.022%207.082-4.714%2011.386-4.714%204.286%200%208.358%201.694%2011.39%204.714l43.614%2043.838c6.292%206.306%206.292%2016.546%200%2022.854L673.808%20512%20826.884%20664.614z'%20p-id='2227'%20data-spm-anchor-id='a313x.search_index.0.i6.12c23a81vfvDUZ'%20class='selected'%20fill='%231296db'%3e%3c/path%3e%3c/svg%3e",cE="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1740408336778'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='3665'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M512%200c282.7776%200%20512%20229.2224%20512%20512s-229.2224%20512-512%20512S0%20794.7776%200%20512%20229.2224%200%20512%200z%20m223.872%20361.2672c-23.7312%200-42.9568%2019.2256-42.9568%2042.9568v86.5792h-243.4048v-99.84a28.8512%2028.8512%200%200%200-50.0224-19.5584l-132.352%20143.232a28.8512%2028.8512%200%200%200%200%2039.168l132.352%20143.2064a28.8512%2028.8512%200%200%200%2050.0224-19.584v-99.84h286.3616c23.7056%200%2042.9568-19.2%2042.9568-42.9312V404.224c0-23.7312-19.2512-42.9568-42.9568-42.9568z'%20fill='%23297EFF'%20p-id='3666'%3e%3c/path%3e%3c/svg%3e",fE={__name:"TextInput",setup(e){const{textarea:t,input:n}=F1(),r=z(null),s=lt(),i=o=>{window.scrollTo(0,0),n.value.trim()?(s.emit(te.TYPING,{val:n.value,enter:o}),n.value=""):o&&s.emit(te.KEYPRESS,{key:"enter"})};return(o,l)=>($(),j("div",{class:"input-container",ref_key:"inputContainer",ref:r},[Je(I("textarea",{ref_key:"textarea",ref:t,"onUpdate:modelValue":l[0]||(l[0]=a=>qe(n)?n.value=a:null),class:"input-text",placeholder:"请输入内容"},null,512),[[en,ee(n)]]),I("img",{src:cE,style:{width:"40px"},alt:"回车按键",onClick:l[1]||(l[1]=a=>i(!0))}),I("button",{class:"send-btn",onClick:l[2]||(l[2]=a=>i(!1))}," 发送 ")],512))}},dE=ot(fE,[["__scopeId","data-v-bc96e6a0"]]),hE="data:image/svg+xml,%3csvg%20t='1740573974983'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='5253'%20width='200'%20height='200'%3e%3cpath%20d='M810.666667%20682.666667a42.666667%2042.666667%200%200%200%2042.368-37.674667L853.333333%20640V213.333333a42.666667%2042.666667%200%200%200-37.674666-42.368L810.666667%20170.666667H213.333333a42.666667%2042.666667%200%200%200-42.368%2037.674666L170.666667%20213.333333v426.666667a42.666667%2042.666667%200%200%200%2037.674666%2042.368L213.333333%20682.666667h213.333334a42.666667%2042.666667%200%200%201%200%2085.333333H213.333333a128%20128%200%200%201-128-128V213.333333a128%20128%200%200%201%20128-128h597.333334a128%20128%200%200%201%20128%20128v426.666667a128%20128%200%200%201-128%20128h-213.333334a42.666667%2042.666667%200%200%201%200-85.333333h213.333334zM341.333333%20853.333333h341.333334a42.666667%2042.666667%200%200%201%200%2085.333334H341.333333a42.666667%2042.666667%200%200%201%200-85.333334z'%20fill='%231296db'%20p-id='5254'%20data-spm-anchor-id='a313x.search_index.0.i11.12c23a81vfvDUZ'%20class='selected'%3e%3c/path%3e%3cpath%20d='M514.858667%20256c10.197333%200.426667%2020.266667%204.394667%2028.288%2011.904l100.778666%2094.293333a41.216%2041.216%200%200%201%200.981334%2059.264%2044.074667%2044.074667%200%200%201-61.226667%201.024l-29.184-27.306666v159.914666a42.624%2042.624%200%200%201-84.949333%204.992l-0.298667-4.992V395.264l-29.013333%2027.221333c-17.408%2016.213333-44.501333%2015.786667-61.312-1.024a41.216%2041.216%200%200%201%200.981333-59.264l100.821333-94.293333A43.946667%2043.946667%200%200%201%20511.957333%20256z'%20fill='%231AB370'%20p-id='5255'%3e%3c/path%3e%3c/svg%3e",pE="data:image/svg+xml,%3csvg%20t='1740582651397'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='8587'%20width='200'%20height='200'%3e%3cpath%20d='M810.666667%20682.666667a42.666667%2042.666667%200%200%200%2042.368-37.674667L853.333333%20640V213.333333a42.666667%2042.666667%200%200%200-37.674666-42.368L810.666667%20170.666667H213.333333a42.666667%2042.666667%200%200%200-42.368%2037.674666L170.666667%20213.333333v426.666667a42.666667%2042.666667%200%200%200%2037.674666%2042.368L213.333333%20682.666667h213.333334a42.666667%2042.666667%200%200%201%200%2085.333333H213.333333a128%20128%200%200%201-128-128V213.333333a128%20128%200%200%201%20128-128h597.333334a128%20128%200%200%201%20128%20128v426.666667a128%20128%200%200%201-128%20128h-213.333334a42.666667%2042.666667%200%200%201%200-85.333333h213.333334zM341.333333%20853.333333h341.333334a42.666667%2042.666667%200%200%201%200%2085.333334H341.333333a42.666667%2042.666667%200%200%201%200-85.333334z'%20fill='%23333333'%20p-id='8588'%3e%3c/path%3e%3cpath%20d='M514.858667%20256c10.197333%200.426667%2020.266667%204.394667%2028.288%2011.904l100.778666%2094.293333a41.216%2041.216%200%200%201%200.981334%2059.264%2044.074667%2044.074667%200%200%201-61.226667%201.024l-29.184-27.306666v159.914666a42.624%2042.624%200%200%201-84.949333%204.992l-0.298667-4.992V395.264l-29.013333%2027.221333c-17.408%2016.213333-44.501333%2015.786667-61.312-1.024a41.216%2041.216%200%200%201%200.981333-59.264l100.821333-94.293333A43.946667%2043.946667%200%200%201%20511.957333%20256z'%20fill='%231AB370'%20p-id='8589'%3e%3c/path%3e%3c/svg%3e",_E="data:image/svg+xml,%3csvg%20t='1742262606497'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20790'%20width='200'%20height='200'%3e%3cpath%20d='M182.464%20131.2a51.2%2051.2%200%200%200-51.2%2051.2v659.2a51.2%2051.2%200%200%200%2051.2%2051.2h659.2a51.2%2051.2%200%200%200%2051.2-51.2V182.4a51.2%2051.2%200%200%200-51.2-51.2h-659.2m0-76.8h659.2a128%20128%200%200%201%20128%20128v659.2a128%20128%200%200%201-128%20128h-659.2a128%20128%200%200%201-128-128V182.4a128%20128%200%200%201%20128-128z'%20p-id='20791'%20data-spm-anchor-id='a313x.search_index.0.i12.54323a81uK2R1q'%20class='selected'%20fill='%231296db'%3e%3c/path%3e%3cpath%20d='M438.4%2054.4h403.2a128%20128%200%200%201%20128%20128v403.2h-403.2a128%20128%200%200%201-128-128V54.4z'%20p-id='20792'%20data-spm-anchor-id='a313x.search_index.0.si11.54323a81uK2R1q'%20class=''%20fill='%2317abe3'%3e%3c/path%3e%3c/svg%3e",mE="data:image/svg+xml,%3csvg%20t='1742262606497'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20790'%20width='200'%20height='200'%20data-spm-anchor-id='a313x.search_index.0.i20.54323a81uK2R1q'%3e%3cpath%20d='M182.464%20131.2a51.2%2051.2%200%200%200-51.2%2051.2v659.2a51.2%2051.2%200%200%200%2051.2%2051.2h659.2a51.2%2051.2%200%200%200%2051.2-51.2V182.4a51.2%2051.2%200%200%200-51.2-51.2h-659.2m0-76.8h659.2a128%20128%200%200%201%20128%20128v659.2a128%20128%200%200%201-128%20128h-659.2a128%20128%200%200%201-128-128V182.4a128%20128%200%200%201%20128-128z'%20p-id='20791'%20data-spm-anchor-id='a313x.search_index.0.i12.54323a81uK2R1q'%20class='selected'%20fill='%23cdcdcd'%3e%3c/path%3e%3cpath%20d='M438.4%2054.4h403.2a128%20128%200%200%201%20128%20128v403.2h-403.2a128%20128%200%200%201-128-128V54.4z'%20p-id='20792'%20data-spm-anchor-id='a313x.search_index.0.i11.54323a81uK2R1q'%20class='selected'%20fill='%2317abe3'%3e%3c/path%3e%3c/svg%3e",vE={},gE={t:"1741334038677",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9033",width:"16",height:"16"};function yE(e,t){return $(),j("svg",gE,t[0]||(t[0]=[I("path",{d:"M874.119618 149.859922A510.816461 510.816461 0 0 0 511.997 0.00208a509.910462 509.910462 0 0 0-362.119618 149.857842c-199.817789 199.679789-199.817789 524.581447 0 724.260236a509.969462 509.969462 0 0 0 362.119618 149.857842A508.872463 508.872463 0 0 0 874.119618 874.120158c199.836789-199.679789 199.836789-524.581447 0-724.260236zM814.94268 378.210681L470.999043 744.132295a15.359984 15.359984 0 0 1-5.887994 4.095996c-1.751998 1.180999-2.913997 2.362998-5.276994 2.913997a34.499964 34.499964 0 0 1-13.469986 2.914997 45.547952 45.547952 0 0 1-12.897986-2.303998l-4.095996-2.363997a45.291952 45.291952 0 0 1-7.009992-4.095996l-196.902793-193.789796a34.126964 34.126964 0 0 1-10.555989-25.186973c0-9.37399 3.583996-18.74698 9.98399-25.186974a36.429962 36.429962 0 0 1 50.372947 0l169.98382 167.423824L763.389735 330.220732a37.059961 37.059961 0 0 1 50.371947-1.732998 33.647965 33.647965 0 0 1 11.165988 25.186973 35.544963 35.544963 0 0 1-9.98399 24.575974v-0.04z m0 0",fill:"#52C41A","p-id":"9034"},null,-1)]))}const bE=ot(vE,[["render",yE]]),EE={},xE={t:"1741334006399",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7619",width:"16",height:"16"};function SE(e,t){return $(),j("svg",xE,t[0]||(t[0]=[I("path",{d:"M85.333 512a426.667 426.667 0 1 0 853.334 0 426.667 426.667 0 1 0-853.334 0z",fill:"#FFFFFF","p-id":"7620"},null,-1),I("path",{d:"M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m-59.733-827.733l17.066 435.2H550.4l21.333-435.2H452.267zM512 695.467c-21.333 0-38.4 8.533-55.467 21.333S435.2 750.933 435.2 772.267s8.533 42.666 21.333 55.466c12.8 17.067 34.134 25.6 55.467 25.6S554.667 844.8 567.467 832c12.8-12.8 21.333-34.133 21.333-55.467s-8.533-42.666-21.333-55.466c-12.8-17.067-34.134-25.6-55.467-25.6z",fill:"#FF9802","p-id":"7621"},null,-1)]))}const wE=ot(EE,[["render",SE]]),CE={},OE={t:"1741333909619",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2327",width:"16",height:"16"};function LE(e,t){return $(),j("svg",OE,t[0]||(t[0]=[I("path",{d:"M512 981.333333C252.8 981.333333 42.666667 771.2 42.666667 512S252.8 42.666667 512 42.666667s469.333333 210.133333 469.333333 469.333333-210.133333 469.333333-469.333333 469.333333z m44.245333-469.333333l159.914667-159.914667a31.274667 31.274667 0 1 0-44.245333-44.245333L512 467.754667 352.085333 307.84a31.274667 31.274667 0 1 0-44.245333 44.245333L467.754667 512l-159.914667 159.914667a31.274667 31.274667 0 1 0 44.245333 44.245333L512 556.245333l159.914667 159.914667a31.274667 31.274667 0 1 0 44.245333-44.245333L556.245333 512z",fill:"#F5222D","p-id":"2328"},null,-1)]))}const AE=ot(CE,[["render",LE]]),TE=["id"],RE={class:"icon"},PE={class:"text"},kE={__name:"index",setup(e,{expose:t}){const n=z([]);let r=0;const s=l=>{const a={id:r++,type:l.type||"success",text:l.text,top:0};n.value=[...n.value,a].slice(-5),o(),setTimeout(()=>{i(a)},l.duration||1e3)},i=l=>{n.value=n.value.filter(a=>a.id!==l.id),o()},o=()=>{n.value.forEach((l,a)=>{l.top=50*a})};return t({addMessage:s}),(l,a)=>($(),Pe(u0,{name:"message"},{default:Ee(()=>[($(!0),j(Se,null,st(n.value,d=>($(),j("div",{key:d.id,id:`message-${d.id}`,class:xe(["message-item",[d.type]]),style:_e({top:d.top+"px"})},[I("span",RE,[d.type==="success"?($(),Pe(bE,{key:0})):fe("",!0),d.type==="warning"?($(),Pe(wE,{key:1})):fe("",!0),d.type==="error"?($(),Pe(AE,{key:2})):fe("",!0)]),I("div",PE,pe(d.text),1)],14,TE))),128))]),_:1}))}},DE=ot(kE,[["__scopeId","data-v-3b5a9712"]]);let _s=null;const IE=()=>{if(_s)return _s;const e=Bo(DE),t=document.createElement("div");return document.body.appendChild(t),_s=e.mount(t),_s},Ns=e=>{const{addMessage:t}=IE();t(e)},ME=["success","warning","error"];ME.forEach(e=>{Ns[e]=(t,n=1e3)=>{Ns({type:e,text:t,duration:n})}});const NE={class:"aerial-view"},$E={__name:"ScreenShow",props:["isPaused","showAirView"],setup(e){const t=lt(),n=e,r=z(null),s=z({});let i;const o=z({bgWidth:0,bgHeight:0,boxWidth:0,boxHeight:0,boxLeft:0,boxTop:0}),l=a=>{if(n.isPaused)return;const d=new Blob([a.image]);if(createImageBitmap(d).then(c=>{r.value.width=c.width,r.value.height=c.height,i.clearRect(0,0,c.width,c.height),i.drawImage(c,0,0)}).catch(c=>{Ns.error(`图片加载失败${c}`)}),s.value={width:`${a.width}px`,height:`${a.height}px`,left:`${a.left}px`,right:`${a.right}px`,top:`${a.top}px`,bottom:`${a.bottom}px`},n.showAirView){const c=a.screenWidth/a.width;o.value={bgHeight:a.screenHeight/c+"px",boxWidth:a.width/c+"px",boxHeight:a.height/c+"px",boxLeft:a.x/c+"px",boxTop:a.y/c+"px"}}};return Xe(()=>{i=r.value.getContext("2d"),t.on("screen-data",a=>{l(a)})}),On(()=>{t.off("screen-data")}),(a,d)=>($(),j("div",{class:"screen-bg",style:_e({width:s.value.width,height:s.value.height})},[Je(I("div",NE,[I("div",{class:"aerial-view-bg",style:_e({height:o.value.bgHeight})},null,4),I("div",{class:"aerial-view-box",style:_e({width:o.value.boxWidth,height:o.value.boxHeight,left:o.value.boxLeft,top:o.value.boxTop})},null,4)],512),[[rn,n.showAirView]]),I("div",{class:"screen-show",style:_e(s.value)},[I("canvas",{ref_key:"showScreenRef",ref:r},null,512)],4)],4))}},BE=ot($E,[["__scopeId","data-v-5c4f274d"]]),FE={class:"music-controls"},UE={class:"volume-control"},jE={class:"volume-icon"},VE={__name:"VolumeControl",setup(e){const t=lt(),n=z(0),r=z(!1);Xe(()=>{t.emit(te.SYS_GET_VOLUME,null),t.on(te.SYS_VOLUME,df(o=>{n.value=o.data.volume/100,r.value=o.data.mute}),500)});const s=()=>{t.emit(te.SYS_TOGGLE_MUTE)},i=()=>{t.emit(te.SYS_SET_VOLUME,n.value*100)};return(o,l)=>($(),j("div",FE,[I("div",UE,[I("div",{class:"volume-icon",onClick:s},pe(r.value?"🔇":"🔊"),1),Je(I("input",{type:"range",class:"ios-slider",onInput:i,min:"0",max:"1",step:"0.02","onUpdate:modelValue":l[0]||(l[0]=a=>n.value=a)},null,544),[[en,n.value]]),I("div",jE,pe((n.value*100).toFixed(0)),1)])]))}},HE=ot(VE,[["__scopeId","data-v-fe82c15f"]]),WE={class:"home-screen"},KE={class:"app-area"},zE={class:"area-title"},GE={class:"app-area"},YE={__name:"QuickMenu",setup(e){const t=ui();li();const n=lt(),r=z([{categoryName:"系统",modules:[{name:"回桌面",color:"#4CAF50",events:[{event:te.KEYPRESS,eventData:{key:[nt.LeftWin,nt.D]}}]},{name:"复制",color:"#2196F3",events:[{event:te.KEYPRESS,eventData:{key:[nt.LeftControl,nt.C]}}]},{name:"粘贴",color:"#2196F3",events:[{event:te.KEYPRESS,eventData:{key:[nt.LeftControl,nt.V]}}]},{name:"撤回",color:"#FF5722",events:[{event:te.KEYPRESS,eventData:{key:[nt.LeftControl,nt.Z]}}]}],showSysVolume:!0},{categoryName:"放大镜",modules:[{name:"开启",color:"#4CAF50",events:[{event:te.KEYPRESS,eventData:{key:[nt.LeftWin,nt.Add]}}]},{name:"关闭",color:"#FF5722",events:[{event:te.KEYPRESS,eventData:{key:[nt.LeftWin,nt.Escape]}}]},{name:"放大",color:"#2196F3",events:[{event:te.KEYPRESS,eventData:{key:[nt.LeftWin,nt.Add]}}]},{name:"缩小",color:"#2196F3",events:[{event:te.KEYPRESS,eventData:{key:[nt.LeftWin,nt.Subtract]}}]}]}]),s=o=>{o.currentTarget.style.transform="scale(0.9)"},i=o=>{o.currentTarget.style.transform="scale(1)"};return(o,l)=>{const a=zc,d=Xc,c=Yc;return $(),j("div",WE,[($(!0),j(Se,null,st(r.value,u=>($(),j("div",KE,[I("div",zE,pe(u.categoryName),1),oe(c,{"column-num":4,border:!1},{default:Ee(()=>[($(!0),j(Se,null,st(u.modules,f=>($(),Pe(d,{text:f.name,onTouchstart:s,onTouchend:i,onClick:m=>ee(n).eventHandler(f)},{default:Ee(()=>[oe(a,{class:"text-icon",style:_e({backgroundColor:f.color})},{default:Ee(()=>[Ue(pe(f.name),1)]),_:2},1032,["style"])]),_:2},1032,["text","onClick"]))),256))]),_:2},1024),u.showSysVolume?($(),Pe(HE,{key:0})):fe("",!0)]))),256)),I("div",GE,[l[0]||(l[0]=I("div",{class:"area-title"},"我的",-1)),oe(c,{"column-num":4,border:!1},{default:Ee(()=>[($(!0),j(Se,null,st(ee(t).customEvents,u=>($(),Pe(d,{text:u.name,onTouchstart:s,onTouchend:i,onClick:f=>ee(n).eventHandler(u)},{default:Ee(()=>[oe(a,{class:"text-icon",style:_e({backgroundColor:u.color})},{default:Ee(()=>[Ue(pe(u.name),1)]),_:2},1032,["style"])]),_:2},1032,["text","onClick"]))),256))]),_:1})])])}}},qE=ot(YE,[["__scopeId","data-v-4725478a"]]),XE={class:"touchpad-container"},JE={src:aE,class:"pointer",alt:"鼠标指针"},QE={class:"nut-fixed-nav__list"},ZE={class:"nut-fixed-nav__list"},e3=["src"],t3={class:"span"},n3=["src"],r3={class:"span"},s3={__name:"index",setup(e){const t=lt(),n=Xf(),r=z(!1),s=z(!1),i=z(null),o=z({x:0,y:0,time:0}),l=z({x:0,y:0}),a=z({x:0,y:0}),d=z(!1),c=z(!1),u=z(!1),f=z(Date.now()),m=z(null),p=z(0),[y,E]=Ti(!1),[_,h]=Ti(!1),[g,b]=Ti(!1),v=z(!1),x=z("disconnected");mf(i,L=>{const A=L[0],{width:M,height:D}=A.contentRect;t.emit(te.MOBILE_SCREEN_SIZE,{screenSize:{width:M,height:D}})});const S=L=>{r.value=!1,s.value=!1;const A=L.touches[0];o.value={x:A.clientX,y:A.clientY,time:Date.now()},d.value=!0,c.value=!1,u.value=!1,t.emit(te.SYS_POINTER_START)},O=L=>{if(!d.value)return;const A=L.touches[0],M=y.value&&!u.value?o.value.x-A.clientX:A.clientX-o.value.x,D=y.value&&!u.value?o.value.y-A.clientY:A.clientY-o.value.y;a.value.x=u.value?M*2.5:M*3,a.value.y=u.value?D*1.5:D*2,T()},T=()=>{!(t!=null&&t.isConnected)||a.value.x===0&&a.value.y===0||(!c.value&&V1(a.value.x,a.value.y,10)&&(c.value=!0,!u.value&&Date.now()-o.value.time>300&&(t.emit(te.SYS_MOUSE_TOGGLE,{isPress:!0,button:0}),u.value=!0)),t.emit(te.SYS_POINTER_MOVE,{x:a.value.x,y:a.value.y,touchMove:!0,timestamp:Date.now()}))},P=()=>{if(u.value&&(t.emit(te.SYS_MOUSE_TOGGLE,{isPress:!1,button:0}),u.value=!1),!c.value&&!u.value){const L=Date.now(),A=L-o.value.time;A>500?t.emit(te.SYS_MOUSE_CLICK,{button:2,double:!1}):A<300&&(L-f.value<300?(clearTimeout(m.value),p.value=0,t.emit(te.SYS_MOUSE_CLICK,{button:0,double:!0})):(C(),p.value=1,m.value=setTimeout(()=>{p.value===1&&t.emit(te.SYS_MOUSE_CLICK,{button:0,double:!1}),p.value=0},300)),f.value=L)}d.value=!1,c.value=!1,a.value={x:0,y:0},t.emit(te.SYS_POINTER_END)},C=()=>{if(y.value&&!_.value){h(),t.emit(te.SYS_POINTER_MOVE,{x:o.value.x-i.value.offsetWidth/2+l.value.x,y:o.value.y-i.value.offsetHeight/2+l.value.y});const L={x:l.value.x,y:l.value.y};setTimeout(()=>{t.emit(te.SYS_POINTER_MOVE,{x:L.x,y:L.y}),setTimeout(()=>{h()},100)},500)}};ae(()=>(x.value=t.isConnected?"connected":"disconnected",{disconnected:"未连接",connected:"已连接"}[x.value])),Xe(()=>{t.on(te.SYS_POINTER_POS,L=>{_.value||(l.value=L)})});const w=z({background:"#e3e2e2"});return Me(y,L=>{t.emit(L?te.JOIN_ROOM:te.LEAVE_ROOM,{roomName:"screen"}),w.value={background:L?"none":"#e3e2e2"}}),On(()=>{y.value=!1,t.off(te.SYS_POINTER_POS)}),(L,A)=>{const M=Vm,D=Dg;return $(),j(Se,null,[Je(oe(BE,{"is-paused":ee(_),"show-air-view":ee(g)},null,8,["is-paused","show-air-view"]),[[rn,ee(y)]]),I("div",XE,[I("div",{ref_key:"padRef",ref:i,class:"touch-surface",onTouchstart:S,onTouchmove:er(O,["prevent"]),onTouchend:P,style:_e(w.value)},[Je(I("img",JE,null,512),[[rn,ee(y)&&d.value]]),Ue(" "+pe(l.value.x)+","+pe(l.value.y),1)],36),I("div",{class:"status",style:{left:"10px",top:"20px"},onClick:A[0]||(A[0]=N=>L.$router.push("/"))}," 返回 "),oe(D,{direction:"y",style:{left:"0px",bottom:"80px"}},{default:Ee(()=>[oe(M,{visible:r.value,"onUpdate:visible":A[5]||(A[5]=N=>r.value=N),type:"left","un-active-text":"控滚动条","active-text":"收起功能",overlay:!1},{list:Ee(()=>[I("ul",QE,[I("li",{class:"nut-fixed-nav__list-item",onTouchstartPassive:A[1]||(A[1]=N=>ee(n).startIntervalPress({event:ee(te).SYS_SCROLL_VERTICAL,eventData:!0}))},A[12]||(A[12]=[I("img",{src:ps,alt:"上",style:{transform:"rotate(180deg)"}},null,-1),I("span",{class:"span"},"向上",-1)]),32),I("li",{class:"nut-fixed-nav__list-item",onTouchstartPassive:A[2]||(A[2]=N=>ee(n).startIntervalPress({event:ee(te).SYS_SCROLL_VERTICAL,eventData:!1}))},A[13]||(A[13]=[I("img",{src:ps,alt:"下"},null,-1),I("span",{class:"span"},"向下",-1)]),32),I("li",{class:"nut-fixed-nav__list-item",onTouchstartPassive:A[3]||(A[3]=N=>ee(n).startIntervalPress({event:ee(te).SYS_SCROLL_HORIZONTAL,eventData:!1}))},A[14]||(A[14]=[I("img",{src:ps,alt:"左",style:{transform:"rotate(90deg)"}},null,-1),I("span",{class:"span"},"向左",-1)]),32),I("li",{class:"nut-fixed-nav__list-item",onTouchstartPassive:A[4]||(A[4]=N=>ee(n).startIntervalPress({event:ee(te).SYS_SCROLL_HORIZONTAL,eventData:!0}))},A[15]||(A[15]=[I("img",{src:ps,alt:"右",style:{transform:"rotate(270deg)"}},null,-1),I("span",{class:"span"},"向右",-1)]),32)])]),_:1},8,["visible"])]),_:1}),oe(D,{direction:"y",style:{right:"0px",bottom:"120px"}},{default:Ee(()=>[oe(M,{visible:s.value,"onUpdate:visible":A[10]||(A[10]=N=>s.value=N),"un-active-text":"快捷功能","active-text":"收起功能",overlay:!1},{list:Ee(()=>[I("ul",ZE,[I("li",{class:"nut-fixed-nav__list-item",onClick:A[6]||(A[6]=N=>v.value=!0)},A[16]||(A[16]=[I("img",{src:lE,alt:"快捷操作"},null,-1),I("span",{class:"span"},"快捷功能",-1)])),I("li",{class:"nut-fixed-nav__list-item",onClick:A[7]||(A[7]=N=>ee(E)())},[I("img",{src:ee(y)?ee(hE):ee(pE),alt:"显示屏幕"},null,8,e3),I("span",t3,pe(ee(y)?"隐藏屏幕":"显示屏幕"),1)]),Je(I("li",{class:"nut-fixed-nav__list-item",onClick:A[8]||(A[8]=N=>ee(b)())},[I("img",{src:ee(g)?ee(_E):ee(mE),alt:"预览位置"},null,8,n3),I("span",r3,pe(ee(g)?"隐藏轮廓":"显示轮廓"),1)],512),[[rn,ee(y)]]),I("li",{class:"nut-fixed-nav__list-item",onTouchstartPassive:A[9]||(A[9]=N=>ee(n).startIntervalPress({event:ee(te).KEYPRESS,eventData:{key:[ee(nt).Backspace]}}))},A[17]||(A[17]=[I("img",{src:uE,alt:"删除"},null,-1),I("span",{class:"span"},"删除",-1)]),32)])]),_:1},8,["visible"])]),_:1}),oe(dE)]),oe(es,{modelValue:v.value,"onUpdate:modelValue":A[11]||(A[11]=N=>v.value=N),title:"快捷功能",showHeader:!0,showClose:!0,"max-height":"80vh"},{default:Ee(()=>[oe(qE)]),_:1},8,["modelValue"])],64)}}},i3=ot(s3,[["__scopeId","data-v-06f6db0c"]]);function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $i={exports:{}},ou;function o3(){return ou||(ou=1,function(e,t){(function(r,s){e.exports=s()})(self,function(){return function(){var n={"./node_modules/es6-promise/dist/es6-promise.js":function(o,l,a){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(d,c){o.exports=c()})(this,function(){function d(V){var X=typeof V;return V!==null&&(X==="object"||X==="function")}function c(V){return typeof V=="function"}var u=void 0;Array.isArray?u=Array.isArray:u=function(V){return Object.prototype.toString.call(V)==="[object Array]"};var f=u,m=0,p=void 0,y=void 0,E=function(X,Q){L[m]=X,L[m+1]=Q,m+=2,m===2&&(y?y(A):D())};function _(V){y=V}function h(V){E=V}var g=typeof window<"u"?window:void 0,b=g||{},v=b.MutationObserver||b.WebKitMutationObserver,x=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",S=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function O(){return function(){return process.nextTick(A)}}function T(){return typeof p<"u"?function(){p(A)}:w()}function P(){var V=0,X=new v(A),Q=document.createTextNode("");return X.observe(Q,{characterData:!0}),function(){Q.data=V=++V%2}}function C(){var V=new MessageChannel;return V.port1.onmessage=A,function(){return V.port2.postMessage(0)}}function w(){var V=setTimeout;return function(){return V(A,1)}}var L=new Array(1e3);function A(){for(var V=0;V<m;V+=2){var X=L[V],Q=L[V+1];X(Q),L[V]=void 0,L[V+1]=void 0}m=0}function M(){try{var V=Function("return this")().require("vertx");return p=V.runOnLoop||V.runOnContext,T()}catch{return w()}}var D=void 0;x?D=O():v?D=P():S?D=C():g===void 0?D=M():D=w();function N(V,X){var Q=this,me=new this.constructor(q);me[J]===void 0&&Z(me);var Te=Q._state;if(Te){var be=arguments[Te-1];E(function(){return K(Te,me,be,Q._result)})}else B(Q,me,V,X);return me}function U(V){var X=this;if(V&&typeof V=="object"&&V.constructor===X)return V;var Q=new X(q);return ne(Q,V),Q}var J=Math.random().toString(36).substring(2);function q(){}var le=void 0,de=1,ce=2;function ve(){return new TypeError("You cannot resolve a promise with itself")}function je(){return new TypeError("A promises callback cannot return that same promise.")}function Ce(V,X,Q,me){try{V.call(X,Q,me)}catch(Te){return Te}}function F(V,X,Q){E(function(me){var Te=!1,be=Ce(Q,X,function(Fe){Te||(Te=!0,X!==Fe?ne(me,Fe):k(me,Fe))},function(Fe){Te||(Te=!0,R(me,Fe))},"Settle: "+(me._label||" unknown promise"));!Te&&be&&(Te=!0,R(me,be))},V)}function re(V,X){X._state===de?k(V,X._result):X._state===ce?R(V,X._result):B(X,void 0,function(Q){return ne(V,Q)},function(Q){return R(V,Q)})}function Y(V,X,Q){X.constructor===V.constructor&&Q===N&&X.constructor.resolve===U?re(V,X):Q===void 0?k(V,X):c(Q)?F(V,X,Q):k(V,X)}function ne(V,X){if(V===X)R(V,ve());else if(d(X)){var Q=void 0;try{Q=X.then}catch(me){R(V,me);return}Y(V,X,Q)}else k(V,X)}function Oe(V){V._onerror&&V._onerror(V._result),H(V)}function k(V,X){V._state===le&&(V._result=X,V._state=de,V._subscribers.length!==0&&E(H,V))}function R(V,X){V._state===le&&(V._state=ce,V._result=X,E(Oe,V))}function B(V,X,Q,me){var Te=V._subscribers,be=Te.length;V._onerror=null,Te[be]=X,Te[be+de]=Q,Te[be+ce]=me,be===0&&V._state&&E(H,V)}function H(V){var X=V._subscribers,Q=V._state;if(X.length!==0){for(var me=void 0,Te=void 0,be=V._result,Fe=0;Fe<X.length;Fe+=3)me=X[Fe],Te=X[Fe+Q],me?K(Q,me,Te,be):Te(be);V._subscribers.length=0}}function K(V,X,Q,me){var Te=c(Q),be=void 0,Fe=void 0,Xt=!0;if(Te){try{be=Q(me)}catch(ts){Xt=!1,Fe=ts}if(X===be){R(X,je());return}}else be=me;X._state!==le||(Te&&Xt?ne(X,be):Xt===!1?R(X,Fe):V===de?k(X,be):V===ce&&R(X,be))}function W(V,X){try{X(function(me){ne(V,me)},function(me){R(V,me)})}catch(Q){R(V,Q)}}var ie=0;function se(){return ie++}function Z(V){V[J]=ie++,V._state=void 0,V._result=void 0,V._subscribers=[]}function G(){return new Error("Array Methods must be provided an Array")}var he=function(){function V(X,Q){this._instanceConstructor=X,this.promise=new X(q),this.promise[J]||Z(this.promise),f(Q)?(this.length=Q.length,this._remaining=Q.length,this._result=new Array(this.length),this.length===0?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(Q),this._remaining===0&&k(this.promise,this._result))):R(this.promise,G())}return V.prototype._enumerate=function(Q){for(var me=0;this._state===le&&me<Q.length;me++)this._eachEntry(Q[me],me)},V.prototype._eachEntry=function(Q,me){var Te=this._instanceConstructor,be=Te.resolve;if(be===U){var Fe=void 0,Xt=void 0,ts=!1;try{Fe=Q.then}catch(fi){ts=!0,Xt=fi}if(Fe===N&&Q._state!==le)this._settledAt(Q._state,me,Q._result);else if(typeof Fe!="function")this._remaining--,this._result[me]=Q;else if(Te===Ae){var ci=new Te(q);ts?R(ci,Xt):Y(ci,Q,Fe),this._willSettleAt(ci,me)}else this._willSettleAt(new Te(function(fi){return fi(Q)}),me)}else this._willSettleAt(be(Q),me)},V.prototype._settledAt=function(Q,me,Te){var be=this.promise;be._state===le&&(this._remaining--,Q===ce?R(be,Te):this._result[me]=Te),this._remaining===0&&k(be,this._result)},V.prototype._willSettleAt=function(Q,me){var Te=this;B(Q,void 0,function(be){return Te._settledAt(de,me,be)},function(be){return Te._settledAt(ce,me,be)})},V}();function ue(V){return new he(this,V).promise}function ge(V){var X=this;return f(V)?new X(function(Q,me){for(var Te=V.length,be=0;be<Te;be++)X.resolve(V[be]).then(Q,me)}):new X(function(Q,me){return me(new TypeError("You must pass an array to race."))})}function we(V){var X=this,Q=new X(q);return R(Q,V),Q}function ke(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ve(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ae=function(){function V(X){this[J]=se(),this._result=this._state=void 0,this._subscribers=[],q!==X&&(typeof X!="function"&&ke(),this instanceof V?W(this,X):Ve())}return V.prototype.catch=function(Q){return this.then(null,Q)},V.prototype.finally=function(Q){var me=this,Te=me.constructor;return c(Q)?me.then(function(be){return Te.resolve(Q()).then(function(){return be})},function(be){return Te.resolve(Q()).then(function(){throw be})}):me.then(Q,Q)},V}();Ae.prototype.then=N,Ae.all=ue,Ae.race=ge,Ae.resolve=U,Ae.reject=we,Ae._setScheduler=_,Ae._setAsap=h,Ae._asap=E;function pt(){var V=void 0;if(typeof a.g<"u")V=a.g;else if(typeof self<"u")V=self;else try{V=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var X=V.Promise;if(X){var Q=null;try{Q=Object.prototype.toString.call(X.resolve())}catch{}if(Q==="[object Promise]"&&!X.cast)return}V.Promise=Ae}return Ae.polyfill=pt,Ae.Promise=Ae,Ae})},"./node_modules/events/events.js":function(o){var l=typeof Reflect=="object"?Reflect:null,a=l&&typeof l.apply=="function"?l.apply:function(w,L,A){return Function.prototype.apply.call(w,L,A)},d;l&&typeof l.ownKeys=="function"?d=l.ownKeys:Object.getOwnPropertySymbols?d=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:d=function(w){return Object.getOwnPropertyNames(w)};function c(C){console&&console.warn&&console.warn(C)}var u=Number.isNaN||function(w){return w!==w};function f(){f.init.call(this)}o.exports=f,o.exports.once=O,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var m=10;function p(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(C){if(typeof C!="number"||C<0||u(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");m=C}}),f.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||u(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function y(C){return C._maxListeners===void 0?f.defaultMaxListeners:C._maxListeners}f.prototype.getMaxListeners=function(){return y(this)},f.prototype.emit=function(w){for(var L=[],A=1;A<arguments.length;A++)L.push(arguments[A]);var M=w==="error",D=this._events;if(D!==void 0)M=M&&D.error===void 0;else if(!M)return!1;if(M){var N;if(L.length>0&&(N=L[0]),N instanceof Error)throw N;var U=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw U.context=N,U}var J=D[w];if(J===void 0)return!1;if(typeof J=="function")a(J,this,L);else for(var q=J.length,le=v(J,q),A=0;A<q;++A)a(le[A],this,L);return!0};function E(C,w,L,A){var M,D,N;if(p(L),D=C._events,D===void 0?(D=C._events=Object.create(null),C._eventsCount=0):(D.newListener!==void 0&&(C.emit("newListener",w,L.listener?L.listener:L),D=C._events),N=D[w]),N===void 0)N=D[w]=L,++C._eventsCount;else if(typeof N=="function"?N=D[w]=A?[L,N]:[N,L]:A?N.unshift(L):N.push(L),M=y(C),M>0&&N.length>M&&!N.warned){N.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=C,U.type=w,U.count=N.length,c(U)}return C}f.prototype.addListener=function(w,L){return E(this,w,L,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(w,L){return E(this,w,L,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(C,w,L){var A={fired:!1,wrapFn:void 0,target:C,type:w,listener:L},M=_.bind(A);return M.listener=L,A.wrapFn=M,M}f.prototype.once=function(w,L){return p(L),this.on(w,h(this,w,L)),this},f.prototype.prependOnceListener=function(w,L){return p(L),this.prependListener(w,h(this,w,L)),this},f.prototype.removeListener=function(w,L){var A,M,D,N,U;if(p(L),M=this._events,M===void 0)return this;if(A=M[w],A===void 0)return this;if(A===L||A.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete M[w],M.removeListener&&this.emit("removeListener",w,A.listener||L));else if(typeof A!="function"){for(D=-1,N=A.length-1;N>=0;N--)if(A[N]===L||A[N].listener===L){U=A[N].listener,D=N;break}if(D<0)return this;D===0?A.shift():x(A,D),A.length===1&&(M[w]=A[0]),M.removeListener!==void 0&&this.emit("removeListener",w,U||L)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(w){var L,A,M;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[w]),this;if(arguments.length===0){var D=Object.keys(A),N;for(M=0;M<D.length;++M)N=D[M],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=A[w],typeof L=="function")this.removeListener(w,L);else if(L!==void 0)for(M=L.length-1;M>=0;M--)this.removeListener(w,L[M]);return this};function g(C,w,L){var A=C._events;if(A===void 0)return[];var M=A[w];return M===void 0?[]:typeof M=="function"?L?[M.listener||M]:[M]:L?S(M):v(M,M.length)}f.prototype.listeners=function(w){return g(this,w,!0)},f.prototype.rawListeners=function(w){return g(this,w,!1)},f.listenerCount=function(C,w){return typeof C.listenerCount=="function"?C.listenerCount(w):b.call(C,w)},f.prototype.listenerCount=b;function b(C){var w=this._events;if(w!==void 0){var L=w[C];if(typeof L=="function")return 1;if(L!==void 0)return L.length}return 0}f.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};function v(C,w){for(var L=new Array(w),A=0;A<w;++A)L[A]=C[A];return L}function x(C,w){for(;w+1<C.length;w++)C[w]=C[w+1];C.pop()}function S(C){for(var w=new Array(C.length),L=0;L<w.length;++L)w[L]=C[L].listener||C[L];return w}function O(C,w){return new Promise(function(L,A){function M(N){C.removeListener(w,D),A(N)}function D(){typeof C.removeListener=="function"&&C.removeListener("error",M),L([].slice.call(arguments))}P(C,w,D,{once:!0}),w!=="error"&&T(C,M,{once:!0})})}function T(C,w,L){typeof C.on=="function"&&P(C,"error",w,L)}function P(C,w,L,A){if(typeof C.on=="function")A.once?C.once(w,L):C.on(w,L);else if(typeof C.addEventListener=="function")C.addEventListener(w,function M(D){A.once&&C.removeEventListener(w,M),L(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}},"./node_modules/webworkify-webpack/index.js":function(o,l,a){function d(_){var h={};function g(v){if(h[v])return h[v].exports;var x=h[v]={i:v,l:!1,exports:{}};return _[v].call(x.exports,x,x.exports,g),x.l=!0,x.exports}g.m=_,g.c=h,g.i=function(v){return v},g.d=function(v,x,S){g.o(v,x)||Object.defineProperty(v,x,{configurable:!1,enumerable:!0,get:S})},g.r=function(v){Object.defineProperty(v,"__esModule",{value:!0})},g.n=function(v){var x=v&&v.__esModule?function(){return v.default}:function(){return v};return g.d(x,"a",x),x},g.o=function(v,x){return Object.prototype.hasOwnProperty.call(v,x)},g.p="/",g.oe=function(v){throw console.error(v),v};var b=g(g.s=ENTRY_MODULE);return b.default||b}var c="[\\.|\\-|\\+|\\w|/|@]+",u="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+c+").*?\\)";function f(_){return(_+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function m(_){return!isNaN(1*_)}function p(_,h,g){var b={};b[g]=[];var v=h.toString(),x=v.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!x)return b;for(var S=x[1],O=new RegExp("(\\\\n|\\W)"+f(S)+u,"g"),T;T=O.exec(v);)T[3]!=="dll-reference"&&b[g].push(T[3]);for(O=new RegExp("\\("+f(S)+'\\("(dll-reference\\s('+c+'))"\\)\\)'+u,"g");T=O.exec(v);)_[T[2]]||(b[g].push(T[1]),_[T[2]]=a(T[1]).m),b[T[2]]=b[T[2]]||[],b[T[2]].push(T[4]);for(var P=Object.keys(b),C=0;C<P.length;C++)for(var w=0;w<b[P[C]].length;w++)m(b[P[C]][w])&&(b[P[C]][w]=1*b[P[C]][w]);return b}function y(_){var h=Object.keys(_);return h.reduce(function(g,b){return g||_[b].length>0},!1)}function E(_,h){for(var g={main:[h]},b={main:[]},v={main:{}};y(g);)for(var x=Object.keys(g),S=0;S<x.length;S++){var O=x[S],T=g[O],P=T.pop();if(v[O]=v[O]||{},!(v[O][P]||!_[O][P])){v[O][P]=!0,b[O]=b[O]||[],b[O].push(P);for(var C=p(_,_[O][P],O),w=Object.keys(C),L=0;L<w.length;L++)g[w[L]]=g[w[L]]||[],g[w[L]]=g[w[L]].concat(C[w[L]])}}return b}o.exports=function(_,h){h=h||{};var g={main:a.m},b=h.all?{main:Object.keys(g.main)}:E(g,_),v="";Object.keys(b).filter(function(P){return P!=="main"}).forEach(function(P){for(var C=0;b[P][C];)C++;b[P].push(C),g[P][C]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",v=v+"var "+P+" = ("+d.toString().replace("ENTRY_MODULE",JSON.stringify(C))+")({"+b[P].map(function(w){return""+JSON.stringify(w)+": "+g[P][w].toString()}).join(",")+`});
`}),v=v+"new (("+d.toString().replace("ENTRY_MODULE",JSON.stringify(_))+")({"+b.main.map(function(P){return""+JSON.stringify(P)+": "+g.main[P].toString()}).join(",")+"}))(self);";var x=new window.Blob([v],{type:"text/javascript"});if(h.bare)return x;var S=window.URL||window.webkitURL||window.mozURL||window.msURL,O=S.createObjectURL(x),T=new window.Worker(O);return T.objectURL=O,T}},"./src/config.js":function(o,l,a){a.r(l),a.d(l,{defaultConfig:function(){return d},createDefaultConfig:function(){return c}});var d={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:3*60,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:3*60,autoCleanupMinBackwardDuration:2*60,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function c(){return Object.assign({},d)}},"./src/core/features.js":function(o,l,a){a.r(l);var d=a("./src/io/io-controller.js"),c=a("./src/config.js"),u=function(){function f(){}return f.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},f.supportNetworkStreamIO=function(){var m=new d.default({},(0,c.createDefaultConfig)()),p=m.loaderType;return m.destroy(),p=="fetch-stream-loader"||p=="xhr-moz-chunked-loader"},f.getNetworkLoaderTypeName=function(){var m=new d.default({},(0,c.createDefaultConfig)()),p=m.loaderType;return m.destroy(),p},f.supportNativeMediaPlayback=function(m){f.videoElement==null&&(f.videoElement=window.document.createElement("video"));var p=f.videoElement.canPlayType(m);return p==="probably"||p=="maybe"},f.getFeatureList=function(){var m={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return m.mseFlvPlayback=f.supportMSEH264Playback(),m.networkStreamIO=f.supportNetworkStreamIO(),m.networkLoaderName=f.getNetworkLoaderTypeName(),m.mseLiveFlvPlayback=m.mseFlvPlayback&&m.networkStreamIO,m.nativeMP4H264Playback=f.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),m.nativeWebmVP8Playback=f.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),m.nativeWebmVP9Playback=f.supportNativeMediaPlayback('video/webm; codecs="vp9"'),m},f}();l.default=u},"./src/core/media-info.js":function(o,l,a){a.r(l);var d=function(){function c(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return c.prototype.isComplete=function(){var u=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,f=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&this.duration!=null&&this.metadata!=null&&this.hasKeyframesIndex!=null&&u&&f},c.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},c.prototype.getNearestKeyframe=function(u){if(this.keyframesIndex==null)return null;var f=this.keyframesIndex,m=this._search(f.times,u);return{index:m,milliseconds:f.times[m],fileposition:f.filepositions[m]}},c.prototype._search=function(u,f){var m=0,p=u.length-1,y=0,E=0,_=p;for(f<u[0]&&(m=0,E=_+1);E<=_;)if(y=E+Math.floor((_-E)/2),y===p||f>=u[y]&&f<u[y+1]){m=y;break}else u[y]<f?E=y+1:_=y-1;return m},c}();l.default=d},"./src/core/media-segment-info.js":function(o,l,a){a.r(l),a.d(l,{SampleInfo:function(){return d},MediaSegmentInfo:function(){return c},IDRSampleList:function(){return u},MediaSegmentInfoList:function(){return f}});var d=function(){function m(p,y,E,_,h){this.dts=p,this.pts=y,this.duration=E,this.originalDts=_,this.isSyncPoint=h,this.fileposition=null}return m}(),c=function(){function m(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return m.prototype.appendSyncPoint=function(p){p.isSyncPoint=!0,this.syncPoints.push(p)},m}(),u=function(){function m(){this._list=[]}return m.prototype.clear=function(){this._list=[]},m.prototype.appendArray=function(p){var y=this._list;p.length!==0&&(y.length>0&&p[0].originalDts<y[y.length-1].originalDts&&this.clear(),Array.prototype.push.apply(y,p))},m.prototype.getLastSyncPointBeforeDts=function(p){if(this._list.length==0)return null;var y=this._list,E=0,_=y.length-1,h=0,g=0,b=_;for(p<y[0].dts&&(E=0,g=b+1);g<=b;)if(h=g+Math.floor((b-g)/2),h===_||p>=y[h].dts&&p<y[h+1].dts){E=h;break}else y[h].dts<p?g=h+1:b=h-1;return this._list[E]},m}(),f=function(){function m(p){this._type=p,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),m.prototype.isEmpty=function(){return this._list.length===0},m.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},m.prototype._searchNearestSegmentBefore=function(p){var y=this._list;if(y.length===0)return-2;var E=y.length-1,_=0,h=0,g=E,b=0;if(p<y[0].originalBeginDts)return b=-1,b;for(;h<=g;)if(_=h+Math.floor((g-h)/2),_===E||p>y[_].lastSample.originalDts&&p<y[_+1].originalBeginDts){b=_;break}else y[_].originalBeginDts<p?h=_+1:g=_-1;return b},m.prototype._searchNearestSegmentAfter=function(p){return this._searchNearestSegmentBefore(p)+1},m.prototype.append=function(p){var y=this._list,E=p,_=this._lastAppendLocation,h=0;_!==-1&&_<y.length&&E.originalBeginDts>=y[_].lastSample.originalDts&&(_===y.length-1||_<y.length-1&&E.originalBeginDts<y[_+1].originalBeginDts)?h=_+1:y.length>0&&(h=this._searchNearestSegmentBefore(E.originalBeginDts)+1),this._lastAppendLocation=h,this._list.splice(h,0,E)},m.prototype.getLastSegmentBefore=function(p){var y=this._searchNearestSegmentBefore(p);return y>=0?this._list[y]:null},m.prototype.getLastSampleBefore=function(p){var y=this.getLastSegmentBefore(p);return y!=null?y.lastSample:null},m.prototype.getLastSyncPointBefore=function(p){for(var y=this._searchNearestSegmentBefore(p),E=this._list[y].syncPoints;E.length===0&&y>0;)y--,E=this._list[y].syncPoints;return E.length>0?E[E.length-1]:null},m}()},"./src/core/mse-controller.js":function(o,l,a){a.r(l);var d=a("./node_modules/events/events.js"),c=a.n(d),u=a("./src/utils/logger.js"),f=a("./src/utils/browser.js"),m=a("./src/core/mse-events.js"),p=a("./src/core/media-segment-info.js"),y=a("./src/utils/exception.js"),E=function(){function _(h){this.TAG="MSEController",this._config=h,this._emitter=new(c()),this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new p.IDRSampleList}return _.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},_.prototype.on=function(h,g){this._emitter.addListener(h,g)},_.prototype.off=function(h,g){this._emitter.removeListener(h,g)},_.prototype.attachMediaElement=function(h){if(this._mediaSource)throw new y.IllegalStateException("MediaSource has been attached to an HTMLMediaElement!");var g=this._mediaSource=new window.MediaSource;g.addEventListener("sourceopen",this.e.onSourceOpen),g.addEventListener("sourceended",this.e.onSourceEnded),g.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=h,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),h.src=this._mediaSourceObjectURL},_.prototype.detachMediaElement=function(){if(this._mediaSource){var h=this._mediaSource;for(var g in this._sourceBuffers){var b=this._pendingSegments[g];b.splice(0,b.length),this._pendingSegments[g]=null,this._pendingRemoveRanges[g]=null,this._lastInitSegments[g]=null;var v=this._sourceBuffers[g];if(v){if(h.readyState!=="closed"){try{h.removeSourceBuffer(v)}catch(x){u.default.e(this.TAG,x.message)}v.removeEventListener("error",this.e.onSourceBufferError),v.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[g]=null,this._sourceBuffers[g]=null}}if(h.readyState==="open")try{h.endOfStream()}catch(x){u.default.e(this.TAG,x.message)}h.removeEventListener("sourceopen",this.e.onSourceOpen),h.removeEventListener("sourceended",this.e.onSourceEnded),h.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},_.prototype.appendInitSegment=function(h,g){if(!this._mediaSource||this._mediaSource.readyState!=="open"){this._pendingSourceBufferInit.push(h),this._pendingSegments[h.type].push(h);return}var b=h,v=""+b.container;b.codec&&b.codec.length>0&&(v+=";codecs="+b.codec);var x=!1;if(u.default.v(this.TAG,"Received Initialization Segment, mimeType: "+v),this._lastInitSegments[b.type]=b,v!==this._mimeTypes[b.type]){if(this._mimeTypes[b.type])u.default.v(this.TAG,"Notice: "+b.type+" mimeType changed, origin: "+this._mimeTypes[b.type]+", target: "+v);else{x=!0;try{var S=this._sourceBuffers[b.type]=this._mediaSource.addSourceBuffer(v);S.addEventListener("error",this.e.onSourceBufferError),S.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(O){u.default.e(this.TAG,O.message),this._emitter.emit(m.default.ERROR,{code:O.code,msg:O.message});return}}this._mimeTypes[b.type]=v}g||this._pendingSegments[b.type].push(b),x||this._sourceBuffers[b.type]&&!this._sourceBuffers[b.type].updating&&this._doAppendSegments(),f.default.safari&&b.container==="audio/mpeg"&&b.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=b.mediaDuration/1e3,this._updateMediaSourceDuration())},_.prototype.appendMediaSegment=function(h){var g=h;this._pendingSegments[g.type].push(g),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var b=this._sourceBuffers[g.type];b&&!b.updating&&!this._hasPendingRemoveRanges()&&this._doAppendSegments()},_.prototype.seek=function(h){for(var g in this._sourceBuffers)if(this._sourceBuffers[g]){var b=this._sourceBuffers[g];if(this._mediaSource.readyState==="open")try{b.abort()}catch(P){u.default.e(this.TAG,P.message)}this._idrList.clear();var v=this._pendingSegments[g];if(v.splice(0,v.length),this._mediaSource.readyState!=="closed"){for(var x=0;x<b.buffered.length;x++){var S=b.buffered.start(x),O=b.buffered.end(x);this._pendingRemoveRanges[g].push({start:S,end:O})}if(b.updating||this._doRemoveRanges(),f.default.safari){var T=this._lastInitSegments[g];T&&(this._pendingSegments[g].push(T),b.updating||this._doAppendSegments())}}}},_.prototype.endOfStream=function(){var h=this._mediaSource,g=this._sourceBuffers;if(!h||h.readyState!=="open"){h&&h.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0);return}g.video&&g.video.updating||g.audio&&g.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,h.endOfStream())},_.prototype.getNearestKeyframe=function(h){return this._idrList.getLastSyncPointBeforeDts(h)},_.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var h=this._mediaElement.currentTime;for(var g in this._sourceBuffers){var b=this._sourceBuffers[g];if(b){var v=b.buffered;if(v.length>=1&&h-v.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},_.prototype._doCleanupSourceBuffer=function(){var h=this._mediaElement.currentTime;for(var g in this._sourceBuffers){var b=this._sourceBuffers[g];if(b){for(var v=b.buffered,x=!1,S=0;S<v.length;S++){var O=v.start(S),T=v.end(S);if(O<=h&&h<T+3){if(h-O>=this._config.autoCleanupMaxBackwardDuration){x=!0;var P=h-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[g].push({start:O,end:P})}}else T<h&&(x=!0,this._pendingRemoveRanges[g].push({start:O,end:T}))}x&&!b.updating&&this._doRemoveRanges()}}},_.prototype._updateMediaSourceDuration=function(){var h=this._sourceBuffers;if(!(this._mediaElement.readyState===0||this._mediaSource.readyState!=="open")&&!(h.video&&h.video.updating||h.audio&&h.audio.updating)){var g=this._mediaSource.duration,b=this._pendingMediaDuration;b>0&&(isNaN(g)||b>g)&&(u.default.v(this.TAG,"Update MediaSource duration from "+g+" to "+b),this._mediaSource.duration=b),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},_.prototype._doRemoveRanges=function(){for(var h in this._pendingRemoveRanges)if(!(!this._sourceBuffers[h]||this._sourceBuffers[h].updating))for(var g=this._sourceBuffers[h],b=this._pendingRemoveRanges[h];b.length&&!g.updating;){var v=b.shift();g.remove(v.start,v.end)}},_.prototype._doAppendSegments=function(){var h=this._pendingSegments;for(var g in h)if(!(!this._sourceBuffers[g]||this._sourceBuffers[g].updating)&&h[g].length>0){var b=h[g].shift();if(b.timestampOffset){var v=this._sourceBuffers[g].timestampOffset,x=b.timestampOffset/1e3,S=Math.abs(v-x);S>.1&&(u.default.v(this.TAG,"Update MPEG audio timestampOffset from "+v+" to "+x),this._sourceBuffers[g].timestampOffset=x),delete b.timestampOffset}if(!b.data||b.data.byteLength===0)continue;try{this._sourceBuffers[g].appendBuffer(b.data),this._isBufferFull=!1,g==="video"&&b.hasOwnProperty("info")&&this._idrList.appendArray(b.info.syncPoints)}catch(O){this._pendingSegments[g].unshift(b),O.code===22?(this._isBufferFull||this._emitter.emit(m.default.BUFFER_FULL),this._isBufferFull=!0):(u.default.e(this.TAG,O.message),this._emitter.emit(m.default.ERROR,{code:O.code,msg:O.message}))}}},_.prototype._onSourceOpen=function(){if(u.default.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var h=this._pendingSourceBufferInit;h.length;){var g=h.shift();this.appendInitSegment(g,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(m.default.SOURCE_OPEN)},_.prototype._onSourceEnded=function(){u.default.v(this.TAG,"MediaSource onSourceEnded")},_.prototype._onSourceClose=function(){u.default.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},_.prototype._hasPendingSegments=function(){var h=this._pendingSegments;return h.video.length>0||h.audio.length>0},_.prototype._hasPendingRemoveRanges=function(){var h=this._pendingRemoveRanges;return h.video.length>0||h.audio.length>0},_.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(m.default.UPDATE_END)},_.prototype._onSourceBufferError=function(h){u.default.e(this.TAG,"SourceBuffer Error: "+h)},_}();l.default=E},"./src/core/mse-events.js":function(o,l,a){a.r(l);var d={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};l.default=d},"./src/core/transmuxer.js":function(o,l,a){a.r(l);var d=a("./node_modules/events/events.js"),c=a.n(d),u=a("./node_modules/webworkify-webpack/index.js"),f=a.n(u),m=a("./src/utils/logger.js"),p=a("./src/utils/logging-control.js"),y=a("./src/core/transmuxing-controller.js"),E=a("./src/core/transmuxing-events.js"),_=a("./src/core/media-info.js"),h=function(){function g(b,v){if(this.TAG="Transmuxer",this._emitter=new(c()),v.enableWorker&&typeof Worker<"u")try{this._worker=f()("./src/core/transmuxing-worker.js"),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[b,v]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},p.default.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:p.default.getConfig()})}catch{m.default.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new y.default(b,v)}else this._controller=new y.default(b,v);if(this._controller){var x=this._controller;x.on(E.default.IO_ERROR,this._onIOError.bind(this)),x.on(E.default.DEMUX_ERROR,this._onDemuxError.bind(this)),x.on(E.default.INIT_SEGMENT,this._onInitSegment.bind(this)),x.on(E.default.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),x.on(E.default.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),x.on(E.default.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),x.on(E.default.MEDIA_INFO,this._onMediaInfo.bind(this)),x.on(E.default.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),x.on(E.default.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),x.on(E.default.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),x.on(E.default.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return g.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),p.default.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},g.prototype.on=function(b,v){this._emitter.addListener(b,v)},g.prototype.off=function(b,v){this._emitter.removeListener(b,v)},g.prototype.hasWorker=function(){return this._worker!=null},g.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},g.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},g.prototype.seek=function(b){this._worker?this._worker.postMessage({cmd:"seek",param:b}):this._controller.seek(b)},g.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},g.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},g.prototype._onInitSegment=function(b,v){var x=this;Promise.resolve().then(function(){x._emitter.emit(E.default.INIT_SEGMENT,b,v)})},g.prototype._onMediaSegment=function(b,v){var x=this;Promise.resolve().then(function(){x._emitter.emit(E.default.MEDIA_SEGMENT,b,v)})},g.prototype._onLoadingComplete=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(E.default.LOADING_COMPLETE)})},g.prototype._onRecoveredEarlyEof=function(){var b=this;Promise.resolve().then(function(){b._emitter.emit(E.default.RECOVERED_EARLY_EOF)})},g.prototype._onMediaInfo=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(E.default.MEDIA_INFO,b)})},g.prototype._onMetaDataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(E.default.METADATA_ARRIVED,b)})},g.prototype._onScriptDataArrived=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(E.default.SCRIPTDATA_ARRIVED,b)})},g.prototype._onStatisticsInfo=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(E.default.STATISTICS_INFO,b)})},g.prototype._onIOError=function(b,v){var x=this;Promise.resolve().then(function(){x._emitter.emit(E.default.IO_ERROR,b,v)})},g.prototype._onDemuxError=function(b,v){var x=this;Promise.resolve().then(function(){x._emitter.emit(E.default.DEMUX_ERROR,b,v)})},g.prototype._onRecommendSeekpoint=function(b){var v=this;Promise.resolve().then(function(){v._emitter.emit(E.default.RECOMMEND_SEEKPOINT,b)})},g.prototype._onLoggingConfigChanged=function(b){this._worker&&this._worker.postMessage({cmd:"logging_config",param:b})},g.prototype._onWorkerMessage=function(b){var v=b.data,x=v.data;if(v.msg==="destroyed"||this._workerDestroying){this._workerDestroying=!1,this._worker.terminate(),this._worker=null;return}switch(v.msg){case E.default.INIT_SEGMENT:case E.default.MEDIA_SEGMENT:this._emitter.emit(v.msg,x.type,x.data);break;case E.default.LOADING_COMPLETE:case E.default.RECOVERED_EARLY_EOF:this._emitter.emit(v.msg);break;case E.default.MEDIA_INFO:Object.setPrototypeOf(x,_.default.prototype),this._emitter.emit(v.msg,x);break;case E.default.METADATA_ARRIVED:case E.default.SCRIPTDATA_ARRIVED:case E.default.STATISTICS_INFO:this._emitter.emit(v.msg,x);break;case E.default.IO_ERROR:case E.default.DEMUX_ERROR:this._emitter.emit(v.msg,x.type,x.info);break;case E.default.RECOMMEND_SEEKPOINT:this._emitter.emit(v.msg,x);break;case"logcat_callback":m.default.emitter.emit("log",x.type,x.logcat);break}},g}();l.default=h},"./src/core/transmuxing-controller.js":function(o,l,a){a.r(l);var d=a("./node_modules/events/events.js"),c=a.n(d),u=a("./src/utils/logger.js"),f=a("./src/utils/browser.js"),m=a("./src/core/media-info.js"),p=a("./src/demux/flv-demuxer.js"),y=a("./src/remux/mp4-remuxer.js"),E=a("./src/demux/demux-errors.js"),_=a("./src/io/io-controller.js"),h=a("./src/core/transmuxing-events.js"),g=function(){function b(v,x){this.TAG="TransmuxingController",this._emitter=new(c()),this._config=x,v.segments||(v.segments=[{duration:v.duration,filesize:v.filesize,url:v.url}]),typeof v.cors!="boolean"&&(v.cors=!0),typeof v.withCredentials!="boolean"&&(v.withCredentials=!1),this._mediaDataSource=v,this._currentSegmentIndex=0;var S=0;this._mediaDataSource.segments.forEach(function(O){O.timestampBase=S,S+=O.duration,O.cors=v.cors,O.withCredentials=v.withCredentials,x.referrerPolicy&&(O.referrerPolicy=x.referrerPolicy)}),!isNaN(S)&&this._mediaDataSource.duration!==S&&(this._mediaDataSource.duration=S),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return b.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},b.prototype.on=function(v,x){this._emitter.addListener(v,x)},b.prototype.off=function(v,x){this._emitter.removeListener(v,x)},b.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},b.prototype._loadSegment=function(v,x){this._currentSegmentIndex=v;var S=this._mediaDataSource.segments[v],O=this._ioctl=new _.default(S,this._config,v);O.onError=this._onIOException.bind(this),O.onSeeked=this._onIOSeeked.bind(this),O.onComplete=this._onIOComplete.bind(this),O.onRedirect=this._onIORedirect.bind(this),O.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),x?this._demuxer.bindDataSource(this._ioctl):O.onDataArrival=this._onInitChunkArrival.bind(this),O.open(x)},b.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},b.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},b.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},b.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},b.prototype.seek=function(v){if(!(this._mediaInfo==null||!this._mediaInfo.isSeekable())){var x=this._searchSegmentIndexContains(v);if(x===this._currentSegmentIndex){var S=this._mediaInfo.segments[x];if(S==null)this._pendingSeekTime=v;else{var O=S.getNearestKeyframe(v);this._remuxer.seek(O.milliseconds),this._ioctl.seek(O.fileposition),this._pendingResolveSeekPoint=O.milliseconds}}else{var T=this._mediaInfo.segments[x];if(T==null)this._pendingSeekTime=v,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(x);else{var O=T.getNearestKeyframe(v);this._internalAbort(),this._remuxer.seek(v),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[x].timestampBase,this._loadSegment(x,O.fileposition),this._pendingResolveSeekPoint=O.milliseconds,this._reportSegmentMediaInfo(x)}}this._enableStatisticsReporter()}},b.prototype._searchSegmentIndexContains=function(v){for(var x=this._mediaDataSource.segments,S=x.length-1,O=0;O<x.length;O++)if(v<x[O].timestampBase){S=O-1;break}return S},b.prototype._onInitChunkArrival=function(v,x){var S=this,O=null,T=0;if(x>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,T=this._demuxer.parseChunks(v,x);else if((O=p.default.probe(v)).match){this._demuxer=new p.default(O,this._config),this._remuxer||(this._remuxer=new y.default(this._config));var P=this._mediaDataSource;P.duration!=null&&!isNaN(P.duration)&&(this._demuxer.overridedDuration=P.duration),typeof P.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=P.hasAudio),typeof P.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=P.hasVideo),this._demuxer.timestampBase=P.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),T=this._demuxer.parseChunks(v,x)}else O=null,u.default.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(function(){S._internalAbort()}),this._emitter.emit(h.default.DEMUX_ERROR,E.default.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),T=0;return T},b.prototype._onMediaInfo=function(v){var x=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},v),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,m.default.prototype));var S=Object.assign({},v);Object.setPrototypeOf(S,m.default.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=S,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var O=x._pendingSeekTime;x._pendingSeekTime=null,x.seek(O)})},b.prototype._onMetaDataArrived=function(v){this._emitter.emit(h.default.METADATA_ARRIVED,v)},b.prototype._onScriptDataArrived=function(v){this._emitter.emit(h.default.SCRIPTDATA_ARRIVED,v)},b.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},b.prototype._onIOComplete=function(v){var x=v,S=x+1;S<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(S)):(this._remuxer.flushStashedSamples(),this._emitter.emit(h.default.LOADING_COMPLETE),this._disableStatisticsReporter())},b.prototype._onIORedirect=function(v){var x=this._ioctl.extraData;this._mediaDataSource.segments[x].redirectedURL=v},b.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(h.default.RECOVERED_EARLY_EOF)},b.prototype._onIOException=function(v,x){u.default.e(this.TAG,"IOException: type = "+v+", code = "+x.code+", msg = "+x.msg),this._emitter.emit(h.default.IO_ERROR,v,x),this._disableStatisticsReporter()},b.prototype._onDemuxException=function(v,x){u.default.e(this.TAG,"DemuxException: type = "+v+", info = "+x),this._emitter.emit(h.default.DEMUX_ERROR,v,x)},b.prototype._onRemuxerInitSegmentArrival=function(v,x){this._emitter.emit(h.default.INIT_SEGMENT,v,x)},b.prototype._onRemuxerMediaSegmentArrival=function(v,x){if(this._pendingSeekTime==null&&(this._emitter.emit(h.default.MEDIA_SEGMENT,v,x),this._pendingResolveSeekPoint!=null&&v==="video")){var S=x.info.syncPoints,O=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,f.default.safari&&S.length>0&&S[0].originalDts===O&&(O=S[0].pts),this._emitter.emit(h.default.RECOMMEND_SEEKPOINT,O)}},b.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},b.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},b.prototype._reportSegmentMediaInfo=function(v){var x=this._mediaInfo.segments[v],S=Object.assign({},x);S.duration=this._mediaInfo.duration,S.segmentCount=this._mediaInfo.segmentCount,delete S.segments,delete S.keyframesIndex,this._emitter.emit(h.default.MEDIA_INFO,S)},b.prototype._reportStatisticsInfo=function(){var v={};v.url=this._ioctl.currentURL,v.hasRedirect=this._ioctl.hasRedirect,v.hasRedirect&&(v.redirectedURL=this._ioctl.currentRedirectedURL),v.speed=this._ioctl.currentSpeed,v.loaderType=this._ioctl.loaderType,v.currentSegmentIndex=this._currentSegmentIndex,v.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(h.default.STATISTICS_INFO,v)},b}();l.default=g},"./src/core/transmuxing-events.js":function(o,l,a){a.r(l);var d={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};l.default=d},"./src/core/transmuxing-worker.js":function(o,l,a){a.r(l);var d=a("./src/utils/logging-control.js"),c=a("./src/utils/polyfill.js"),u=a("./src/core/transmuxing-controller.js"),f=a("./src/core/transmuxing-events.js"),m=function(p){var y=null,E=w.bind(this);c.default.install(),p.addEventListener("message",function(L){switch(L.data.cmd){case"init":y=new u.default(L.data.param[0],L.data.param[1]),y.on(f.default.IO_ERROR,T.bind(this)),y.on(f.default.DEMUX_ERROR,P.bind(this)),y.on(f.default.INIT_SEGMENT,_.bind(this)),y.on(f.default.MEDIA_SEGMENT,h.bind(this)),y.on(f.default.LOADING_COMPLETE,g.bind(this)),y.on(f.default.RECOVERED_EARLY_EOF,b.bind(this)),y.on(f.default.MEDIA_INFO,v.bind(this)),y.on(f.default.METADATA_ARRIVED,x.bind(this)),y.on(f.default.SCRIPTDATA_ARRIVED,S.bind(this)),y.on(f.default.STATISTICS_INFO,O.bind(this)),y.on(f.default.RECOMMEND_SEEKPOINT,C.bind(this));break;case"destroy":y&&(y.destroy(),y=null),p.postMessage({msg:"destroyed"});break;case"start":y.start();break;case"stop":y.stop();break;case"seek":y.seek(L.data.param);break;case"pause":y.pause();break;case"resume":y.resume();break;case"logging_config":{var A=L.data.param;d.default.applyConfig(A),A.enableCallback===!0?d.default.addLogListener(E):d.default.removeLogListener(E);break}}});function _(L,A){var M={msg:f.default.INIT_SEGMENT,data:{type:L,data:A}};p.postMessage(M,[A.data])}function h(L,A){var M={msg:f.default.MEDIA_SEGMENT,data:{type:L,data:A}};p.postMessage(M,[A.data])}function g(){var L={msg:f.default.LOADING_COMPLETE};p.postMessage(L)}function b(){var L={msg:f.default.RECOVERED_EARLY_EOF};p.postMessage(L)}function v(L){var A={msg:f.default.MEDIA_INFO,data:L};p.postMessage(A)}function x(L){var A={msg:f.default.METADATA_ARRIVED,data:L};p.postMessage(A)}function S(L){var A={msg:f.default.SCRIPTDATA_ARRIVED,data:L};p.postMessage(A)}function O(L){var A={msg:f.default.STATISTICS_INFO,data:L};p.postMessage(A)}function T(L,A){p.postMessage({msg:f.default.IO_ERROR,data:{type:L,info:A}})}function P(L,A){p.postMessage({msg:f.default.DEMUX_ERROR,data:{type:L,info:A}})}function C(L){p.postMessage({msg:f.default.RECOMMEND_SEEKPOINT,data:L})}function w(L,A){p.postMessage({msg:"logcat_callback",data:{type:L,logcat:A}})}};l.default=m},"./src/demux/amf-parser.js":function(o,l,a){a.r(l);var d=a("./src/utils/logger.js"),c=a("./src/utils/utf8-conv.js"),u=a("./src/utils/exception.js"),f=function(){var p=new ArrayBuffer(2);return new DataView(p).setInt16(0,256,!0),new Int16Array(p)[0]===256}(),m=function(){function p(){}return p.parseScriptData=function(y,E,_){var h={};try{var g=p.parseValue(y,E,_),b=p.parseValue(y,E+g.size,_-g.size);h[g.data]=b.data}catch(v){d.default.e("AMF",v.toString())}return h},p.parseObject=function(y,E,_){if(_<3)throw new u.IllegalStateException("Data not enough when parse ScriptDataObject");var h=p.parseString(y,E,_),g=p.parseValue(y,E+h.size,_-h.size),b=g.objectEnd;return{data:{name:h.data,value:g.data},size:h.size+g.size,objectEnd:b}},p.parseVariable=function(y,E,_){return p.parseObject(y,E,_)},p.parseString=function(y,E,_){if(_<2)throw new u.IllegalStateException("Data not enough when parse String");var h=new DataView(y,E,_),g=h.getUint16(0,!f),b;return g>0?b=(0,c.default)(new Uint8Array(y,E+2,g)):b="",{data:b,size:2+g}},p.parseLongString=function(y,E,_){if(_<4)throw new u.IllegalStateException("Data not enough when parse LongString");var h=new DataView(y,E,_),g=h.getUint32(0,!f),b;return g>0?b=(0,c.default)(new Uint8Array(y,E+4,g)):b="",{data:b,size:4+g}},p.parseDate=function(y,E,_){if(_<10)throw new u.IllegalStateException("Data size invalid when parse Date");var h=new DataView(y,E,_),g=h.getFloat64(0,!f),b=h.getInt16(8,!f);return g+=b*60*1e3,{data:new Date(g),size:10}},p.parseValue=function(y,E,_){if(_<1)throw new u.IllegalStateException("Data not enough when parse Value");var h=new DataView(y,E,_),g=1,b=h.getUint8(0),v,x=!1;try{switch(b){case 0:v=h.getFloat64(1,!f),g+=8;break;case 1:{var S=h.getUint8(1);v=!!S,g+=1;break}case 2:{var O=p.parseString(y,E+1,_-1);v=O.data,g+=O.size;break}case 3:{v={};var T=0;for((h.getUint32(_-4,!f)&16777215)===9&&(T=3);g<_-4;){var P=p.parseObject(y,E+g,_-g-T);if(P.objectEnd)break;v[P.data.name]=P.data.value,g+=P.size}if(g<=_-3){var C=h.getUint32(g-1,!f)&16777215;C===9&&(g+=3)}break}case 8:{v={},g+=4;var T=0;for((h.getUint32(_-4,!f)&16777215)===9&&(T=3);g<_-8;){var w=p.parseVariable(y,E+g,_-g-T);if(w.objectEnd)break;v[w.data.name]=w.data.value,g+=w.size}if(g<=_-3){var C=h.getUint32(g-1,!f)&16777215;C===9&&(g+=3)}break}case 9:v=void 0,g=1,x=!0;break;case 10:{v=[];var L=h.getUint32(1,!f);g+=4;for(var A=0;A<L;A++){var M=p.parseValue(y,E+g,_-g);v.push(M.data),g+=M.size}break}case 11:{var D=p.parseDate(y,E+1,_-1);v=D.data,g+=D.size;break}case 12:{var N=p.parseString(y,E+1,_-1);v=N.data,g+=N.size;break}default:g=_,d.default.w("AMF","Unsupported AMF value type "+b)}}catch(U){d.default.e("AMF",U.toString())}return{data:v,size:g,objectEnd:x}},p}();l.default=m},"./src/demux/demux-errors.js":function(o,l,a){a.r(l);var d={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};l.default=d},"./src/demux/exp-golomb.js":function(o,l,a){a.r(l);var d=a("./src/utils/exception.js"),c=function(){function u(f){this.TAG="ExpGolomb",this._buffer=f,this._buffer_index=0,this._total_bytes=f.byteLength,this._total_bits=f.byteLength*8,this._current_word=0,this._current_word_bits_left=0}return u.prototype.destroy=function(){this._buffer=null},u.prototype._fillCurrentWord=function(){var f=this._total_bytes-this._buffer_index;if(f<=0)throw new d.IllegalStateException("ExpGolomb: _fillCurrentWord() but no bytes available");var m=Math.min(4,f),p=new Uint8Array(4);p.set(this._buffer.subarray(this._buffer_index,this._buffer_index+m)),this._current_word=new DataView(p.buffer).getUint32(0,!1),this._buffer_index+=m,this._current_word_bits_left=m*8},u.prototype.readBits=function(f){if(f>32)throw new d.InvalidArgumentException("ExpGolomb: readBits() bits exceeded max 32bits!");if(f<=this._current_word_bits_left){var m=this._current_word>>>32-f;return this._current_word<<=f,this._current_word_bits_left-=f,m}var p=this._current_word_bits_left?this._current_word:0;p=p>>>32-this._current_word_bits_left;var y=f-this._current_word_bits_left;this._fillCurrentWord();var E=Math.min(y,this._current_word_bits_left),_=this._current_word>>>32-E;return this._current_word<<=E,this._current_word_bits_left-=E,p=p<<E|_,p},u.prototype.readBool=function(){return this.readBits(1)===1},u.prototype.readByte=function(){return this.readBits(8)},u.prototype._skipLeadingZero=function(){var f;for(f=0;f<this._current_word_bits_left;f++)if(this._current_word&2147483648>>>f)return this._current_word<<=f,this._current_word_bits_left-=f,f;return this._fillCurrentWord(),f+this._skipLeadingZero()},u.prototype.readUEG=function(){var f=this._skipLeadingZero();return this.readBits(f+1)-1},u.prototype.readSEG=function(){var f=this.readUEG();return f&1?f+1>>>1:-1*(f>>>1)},u}();l.default=c},"./src/demux/flv-demuxer.js":function(o,l,a){a.r(l);var d=a("./src/utils/logger.js"),c=a("./src/demux/amf-parser.js"),u=a("./src/demux/sps-parser.js"),f=a("./src/demux/demux-errors.js"),m=a("./src/core/media-info.js"),p=a("./src/utils/exception.js");function y(_,h){return _[h]<<24|_[h+1]<<16|_[h+2]<<8|_[h+3]}var E=function(){function _(h,g){this.TAG="FLVDemuxer",this._config=g,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=h.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=h.hasAudioTrack,this._hasVideo=h.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new m.default,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var b=new ArrayBuffer(2);return new DataView(b).setInt16(0,256,!0),new Int16Array(b)[0]===256}()}return _.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},_.probe=function(h){var g=new Uint8Array(h),b={match:!1};if(g[0]!==70||g[1]!==76||g[2]!==86||g[3]!==1)return b;var v=(g[4]&4)>>>2!==0,x=(g[4]&1)!==0,S=y(g,5);return S<9?b:{match:!0,consumed:S,dataOffset:S,hasAudioTrack:v,hasVideoTrack:x}},_.prototype.bindDataSource=function(h){return h.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(_.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(h){this._onTrackMetadata=h},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(h){this._onMediaInfo=h},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(h){this._onMetaDataArrived=h},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(h){this._onScriptDataArrived=h},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onError",{get:function(){return this._onError},set:function(h){this._onError=h},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(h){this._onDataAvailable=h},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(h){this._timestampBase=h},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"overridedDuration",{get:function(){return this._duration},set:function(h){this._durationOverrided=!0,this._duration=h,this._mediaInfo.duration=h},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"overridedHasAudio",{set:function(h){this._hasAudioFlagOverrided=!0,this._hasAudio=h,this._mediaInfo.hasAudio=h},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"overridedHasVideo",{set:function(h){this._hasVideoFlagOverrided=!0,this._hasVideo=h,this._mediaInfo.hasVideo=h},enumerable:!1,configurable:!0}),_.prototype.resetMediaInfo=function(){this._mediaInfo=new m.default},_.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!this._hasAudio&&this._hasVideo?this._videoInitialMetadataDispatched:!1},_.prototype.parseChunks=function(h,g){if(!this._onError||!this._onMediaInfo||!this._onTrackMetadata||!this._onDataAvailable)throw new p.IllegalStateException("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var b=0,v=this._littleEndian;if(g===0)if(h.byteLength>13){var x=_.probe(h);b=x.dataOffset}else return 0;if(this._firstParse){this._firstParse=!1,g+b!==this._dataOffset&&d.default.w(this.TAG,"First time parsing but chunk byteStart invalid!");var S=new DataView(h,b),O=S.getUint32(0,!v);O!==0&&d.default.w(this.TAG,"PrevTagSize0 !== 0 !!!"),b+=4}for(;b<h.byteLength;){this._dispatch=!0;var S=new DataView(h,b);if(b+11+4>h.byteLength)break;var T=S.getUint8(0),P=S.getUint32(0,!v)&16777215;if(b+11+P+4>h.byteLength)break;if(T!==8&&T!==9&&T!==18){d.default.w(this.TAG,"Unsupported tag type "+T+", skipped"),b+=11+P+4;continue}var C=S.getUint8(4),w=S.getUint8(5),L=S.getUint8(6),A=S.getUint8(7),M=L|w<<8|C<<16|A<<24,D=S.getUint32(7,!v)&16777215;D!==0&&d.default.w(this.TAG,"Meet tag which has StreamID != 0!");var N=b+11;switch(T){case 8:this._parseAudioData(h,N,P,M);break;case 9:this._parseVideoData(h,N,P,M,g+b);break;case 18:this._parseScriptData(h,N,P);break}var U=S.getUint32(11+P,!v);U!==11+P&&d.default.w(this.TAG,"Invalid PrevTagSize "+U),b+=11+P+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),b},_.prototype._parseScriptData=function(h,g,b){var v=c.default.parseScriptData(h,g,b);if(v.hasOwnProperty("onMetaData")){if(v.onMetaData==null||typeof v.onMetaData!="object"){d.default.w(this.TAG,"Invalid onMetaData structure!");return}this._metadata&&d.default.w(this.TAG,"Found another onMetaData tag!"),this._metadata=v;var x=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},x)),typeof x.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=x.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof x.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=x.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof x.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=x.audiodatarate),typeof x.videodatarate=="number"&&(this._mediaInfo.videoDataRate=x.videodatarate),typeof x.width=="number"&&(this._mediaInfo.width=x.width),typeof x.height=="number"&&(this._mediaInfo.height=x.height),typeof x.duration=="number"){if(!this._durationOverrided){var S=Math.floor(x.duration*this._timescale);this._duration=S,this._mediaInfo.duration=S}}else this._mediaInfo.duration=0;if(typeof x.framerate=="number"){var O=Math.floor(x.framerate*1e3);if(O>0){var T=O/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=T,this._referenceFrameRate.fps_num=O,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=T}}if(typeof x.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var P=x.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(P),x.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=x,d.default.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(v).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},v))},_.prototype._parseKeyframesIndex=function(h){for(var g=[],b=[],v=1;v<h.times.length;v++){var x=this._timestampBase+Math.floor(h.times[v]*1e3);g.push(x),b.push(h.filepositions[v])}return{times:g,filepositions:b}},_.prototype._parseAudioData=function(h,g,b,v){if(b<=1){d.default.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");return}if(!(this._hasAudioFlagOverrided===!0&&this._hasAudio===!1)){this._littleEndian;var x=new DataView(h,g,b),S=x.getUint8(0),O=S>>>4;if(O!==2&&O!==10){this._onError(f.default.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+O);return}var T=0,P=(S&12)>>>2;if(P>=0&&P<=4)T=this._flvSoundRateTable[P];else{this._onError(f.default.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+P);return}var C=S&1,w=this._audioMetadata,L=this._audioTrack;if(w||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),w=this._audioMetadata={},w.type="audio",w.id=L.id,w.timescale=this._timescale,w.duration=this._duration,w.audioSampleRate=T,w.channelCount=C===0?1:2),O===10){var A=this._parseAACAudioData(h,g+1,b-1);if(A==null)return;if(A.packetType===0){w.config&&d.default.w(this.TAG,"Found another AudioSpecificConfig!");var M=A.data;w.audioSampleRate=M.samplingRate,w.channelCount=M.channelCount,w.codec=M.codec,w.originalCodec=M.originalCodec,w.config=M.config,w.refSampleDuration=1024/w.audioSampleRate*w.timescale,d.default.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",w);var D=this._mediaInfo;D.audioCodec=w.originalCodec,D.audioSampleRate=w.audioSampleRate,D.audioChannelCount=w.channelCount,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}else if(A.packetType===1){var N=this._timestampBase+v,U={unit:A.data,length:A.data.byteLength,dts:N,pts:N};L.samples.push(U),L.length+=A.data.length}else d.default.e(this.TAG,"Flv: Unsupported AAC data type "+A.packetType)}else if(O===2){if(!w.codec){var M=this._parseMP3AudioData(h,g+1,b-1,!0);if(M==null)return;w.audioSampleRate=M.samplingRate,w.channelCount=M.channelCount,w.codec=M.codec,w.originalCodec=M.originalCodec,w.refSampleDuration=1152/w.audioSampleRate*w.timescale,d.default.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",w);var D=this._mediaInfo;D.audioCodec=w.codec,D.audioSampleRate=w.audioSampleRate,D.audioChannelCount=w.channelCount,D.audioDataRate=M.bitRate,D.hasVideo?D.videoCodec!=null&&(D.mimeType='video/x-flv; codecs="'+D.videoCodec+","+D.audioCodec+'"'):D.mimeType='video/x-flv; codecs="'+D.audioCodec+'"',D.isComplete()&&this._onMediaInfo(D)}var J=this._parseMP3AudioData(h,g+1,b-1,!1);if(J==null)return;var N=this._timestampBase+v,q={unit:J,length:J.byteLength,dts:N,pts:N};L.samples.push(q),L.length+=J.length}}},_.prototype._parseAACAudioData=function(h,g,b){if(b<=1){d.default.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");return}var v={},x=new Uint8Array(h,g,b);return v.packetType=x[0],x[0]===0?v.data=this._parseAACAudioSpecificConfig(h,g+1,b-1):v.data=x.subarray(1),v},_.prototype._parseAACAudioSpecificConfig=function(h,g,b){var v=new Uint8Array(h,g,b),x=null,S=0,O=0,T=0,P=null;if(S=O=v[0]>>>3,T=(v[0]&7)<<1|v[1]>>>7,T<0||T>=this._mpegSamplingRates.length){this._onError(f.default.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");return}var C=this._mpegSamplingRates[T],w=(v[1]&120)>>>3;if(w<0||w>=8){this._onError(f.default.FORMAT_ERROR,"Flv: AAC invalid channel configuration");return}S===5&&(P=(v[1]&7)<<1|v[2]>>>7,(v[2]&124)>>>2);var L=self.navigator.userAgent.toLowerCase();return L.indexOf("firefox")!==-1?T>=6?(S=5,x=new Array(4),P=T-3):(S=2,x=new Array(2),P=T):L.indexOf("android")!==-1?(S=2,x=new Array(2),P=T):(S=5,P=T,x=new Array(4),T>=6?P=T-3:w===1&&(S=2,x=new Array(2),P=T)),x[0]=S<<3,x[0]|=(T&15)>>>1,x[1]=(T&15)<<7,x[1]|=(w&15)<<3,S===5&&(x[1]|=(P&15)>>>1,x[2]=(P&1)<<7,x[2]|=8,x[3]=0),{config:x,samplingRate:C,channelCount:w,codec:"mp4a.40."+S,originalCodec:"mp4a.40."+O}},_.prototype._parseMP3AudioData=function(h,g,b,v){if(b<4){d.default.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");return}this._littleEndian;var x=new Uint8Array(h,g,b),S=null;if(v){if(x[0]!==255)return;var O=x[1]>>>3&3,T=(x[1]&6)>>1,P=(x[2]&240)>>>4,C=(x[2]&12)>>>2,w=x[3]>>>6&3,L=w!==3?2:1,A=0,M=0,D="mp3";switch(O){case 0:A=this._mpegAudioV25SampleRateTable[C];break;case 2:A=this._mpegAudioV20SampleRateTable[C];break;case 3:A=this._mpegAudioV10SampleRateTable[C];break}switch(T){case 1:P<this._mpegAudioL3BitRateTable.length&&(M=this._mpegAudioL3BitRateTable[P]);break;case 2:P<this._mpegAudioL2BitRateTable.length&&(M=this._mpegAudioL2BitRateTable[P]);break;case 3:P<this._mpegAudioL1BitRateTable.length&&(M=this._mpegAudioL1BitRateTable[P]);break}S={bitRate:M,samplingRate:A,channelCount:L,codec:D,originalCodec:D}}else S=x;return S},_.prototype._parseVideoData=function(h,g,b,v,x){if(b<=1){d.default.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");return}if(!(this._hasVideoFlagOverrided===!0&&this._hasVideo===!1)){var S=new Uint8Array(h,g,b)[0],O=(S&240)>>>4,T=S&15;if(T!==7){this._onError(f.default.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+T);return}this._parseAVCVideoPacket(h,g+1,b-1,v,x,O)}},_.prototype._parseAVCVideoPacket=function(h,g,b,v,x,S){if(b<4){d.default.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");return}var O=this._littleEndian,T=new DataView(h,g,b),P=T.getUint8(0),C=T.getUint32(0,!O)&16777215,w=C<<8>>8;if(P===0)this._parseAVCDecoderConfigurationRecord(h,g+4,b-4);else if(P===1)this._parseAVCVideoData(h,g+4,b-4,v,x,S,w);else if(P!==2){this._onError(f.default.FORMAT_ERROR,"Flv: Invalid video packet type "+P);return}},_.prototype._parseAVCDecoderConfigurationRecord=function(h,g,b){if(b<7){d.default.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");return}var v=this._videoMetadata,x=this._videoTrack,S=this._littleEndian,O=new DataView(h,g,b);v?typeof v.avcc<"u"&&d.default.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),v=this._videoMetadata={},v.type="video",v.id=x.id,v.timescale=this._timescale,v.duration=this._duration);var T=O.getUint8(0),P=O.getUint8(1);if(O.getUint8(2),O.getUint8(3),T!==1||P===0){this._onError(f.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");return}if(this._naluLengthSize=(O.getUint8(4)&3)+1,this._naluLengthSize!==3&&this._naluLengthSize!==4){this._onError(f.default.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));return}var C=O.getUint8(5)&31;if(C===0){this._onError(f.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");return}else C>1&&d.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+C);for(var w=6,L=0;L<C;L++){var A=O.getUint16(w,!S);if(w+=2,A!==0){var M=new Uint8Array(h,g+w,A);w+=A;var D=u.default.parseSPS(M);if(L===0){v.codecWidth=D.codec_size.width,v.codecHeight=D.codec_size.height,v.presentWidth=D.present_size.width,v.presentHeight=D.present_size.height,v.profile=D.profile_string,v.level=D.level_string,v.bitDepth=D.bit_depth,v.chromaFormat=D.chroma_format,v.sarRatio=D.sar_ratio,v.frameRate=D.frame_rate,(D.frame_rate.fixed===!1||D.frame_rate.fps_num===0||D.frame_rate.fps_den===0)&&(v.frameRate=this._referenceFrameRate);var N=v.frameRate.fps_den,U=v.frameRate.fps_num;v.refSampleDuration=v.timescale*(N/U);for(var J=M.subarray(1,4),q="avc1.",le=0;le<3;le++){var de=J[le].toString(16);de.length<2&&(de="0"+de),q+=de}v.codec=q;var ce=this._mediaInfo;ce.width=v.codecWidth,ce.height=v.codecHeight,ce.fps=v.frameRate.fps,ce.profile=v.profile,ce.level=v.level,ce.refFrames=D.ref_frames,ce.chromaFormat=D.chroma_format_string,ce.sarNum=v.sarRatio.width,ce.sarDen=v.sarRatio.height,ce.videoCodec=q,ce.hasAudio?ce.audioCodec!=null&&(ce.mimeType='video/x-flv; codecs="'+ce.videoCodec+","+ce.audioCodec+'"'):ce.mimeType='video/x-flv; codecs="'+ce.videoCodec+'"',ce.isComplete()&&this._onMediaInfo(ce)}}}var ve=O.getUint8(w);if(ve===0){this._onError(f.default.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS");return}else ve>1&&d.default.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+ve);w++;for(var L=0;L<ve;L++){var A=O.getUint16(w,!S);w+=2,A!==0&&(w+=A)}v.avcc=new Uint8Array(b),v.avcc.set(new Uint8Array(h,g,b),0),d.default.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",v)},_.prototype._parseAVCVideoData=function(h,g,b,v,x,S,O){for(var T=this._littleEndian,P=new DataView(h,g,b),C=[],w=0,L=0,A=this._naluLengthSize,M=this._timestampBase+v,D=S===1;L<b;){if(L+4>=b){d.default.w(this.TAG,"Malformed Nalu near timestamp "+M+", offset = "+L+", dataSize = "+b);break}var N=P.getUint32(L,!T);if(A===3&&(N>>>=8),N>b-A){d.default.w(this.TAG,"Malformed Nalus near timestamp "+M+", NaluSize > DataSize!");return}var U=P.getUint8(L+A)&31;U===5&&(D=!0);var J=new Uint8Array(h,g+L,A+N),q={type:U,data:J};C.push(q),w+=J.byteLength,L+=A+N}if(C.length){var le=this._videoTrack,de={units:C,length:w,isKeyframe:D,dts:M,cts:O,pts:M+O};D&&(de.fileposition=x),le.samples.push(de),le.length+=w}},_}();l.default=E},"./src/demux/sps-parser.js":function(o,l,a){a.r(l);var d=a("./src/demux/exp-golomb.js"),c=function(){function u(){}return u._ebsp2rbsp=function(f){for(var m=f,p=m.byteLength,y=new Uint8Array(p),E=0,_=0;_<p;_++)_>=2&&m[_]===3&&m[_-1]===0&&m[_-2]===0||(y[E]=m[_],E++);return new Uint8Array(y.buffer,0,E)},u.parseSPS=function(f){var m=u._ebsp2rbsp(f),p=new d.default(m);p.readByte();var y=p.readByte();p.readByte();var E=p.readByte();p.readUEG();var _=u.getProfileString(y),h=u.getLevelString(E),g=1,b=420,v=[0,420,422,444],x=8;if((y===100||y===110||y===122||y===244||y===44||y===83||y===86||y===118||y===128||y===138||y===144)&&(g=p.readUEG(),g===3&&p.readBits(1),g<=3&&(b=v[g]),x=p.readUEG()+8,p.readUEG(),p.readBits(1),p.readBool()))for(var S=g!==3?8:12,O=0;O<S;O++)p.readBool()&&(O<6?u._skipScalingList(p,16):u._skipScalingList(p,64));p.readUEG();var T=p.readUEG();if(T===0)p.readUEG();else if(T===1){p.readBits(1),p.readSEG(),p.readSEG();for(var P=p.readUEG(),O=0;O<P;O++)p.readSEG()}var C=p.readUEG();p.readBits(1);var w=p.readUEG(),L=p.readUEG(),A=p.readBits(1);A===0&&p.readBits(1),p.readBits(1);var M=0,D=0,N=0,U=0,J=p.readBool();J&&(M=p.readUEG(),D=p.readUEG(),N=p.readUEG(),U=p.readUEG());var q=1,le=1,de=0,ce=!0,ve=0,je=0,Ce=p.readBool();if(Ce){if(p.readBool()){var F=p.readByte(),re=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],Y=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];F>0&&F<16?(q=re[F-1],le=Y[F-1]):F===255&&(q=p.readByte()<<8|p.readByte(),le=p.readByte()<<8|p.readByte())}if(p.readBool()&&p.readBool(),p.readBool()&&(p.readBits(4),p.readBool()&&p.readBits(24)),p.readBool()&&(p.readUEG(),p.readUEG()),p.readBool()){var ne=p.readBits(32),Oe=p.readBits(32);ce=p.readBool(),ve=Oe,je=ne*2,de=ve/je}}var k=1;(q!==1||le!==1)&&(k=q/le);var R=0,B=0;if(g===0)R=1,B=2-A;else{var H=g===3?1:2,K=g===1?2:1;R=H,B=K*(2-A)}var W=(w+1)*16,ie=(2-A)*((L+1)*16);W-=(M+D)*R,ie-=(N+U)*B;var se=Math.ceil(W*k);return p.destroy(),p=null,{profile_string:_,level_string:h,bit_depth:x,ref_frames:C,chroma_format:b,chroma_format_string:u.getChromaFormatString(b),frame_rate:{fixed:ce,fps:de,fps_den:je,fps_num:ve},sar_ratio:{width:q,height:le},codec_size:{width:W,height:ie},present_size:{width:se,height:ie}}},u._skipScalingList=function(f,m){for(var p=8,y=8,E=0,_=0;_<m;_++)y!==0&&(E=f.readSEG(),y=(p+E+256)%256),p=y===0?p:y},u.getProfileString=function(f){switch(f){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},u.getLevelString=function(f){return(f/10).toFixed(1)},u.getChromaFormatString=function(f){switch(f){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},u}();l.default=c},"./src/flv.js":function(o,l,a){a.r(l);var d=a("./src/utils/polyfill.js"),c=a("./src/core/features.js"),u=a("./src/io/loader.js"),f=a("./src/player/flv-player.js"),m=a("./src/player/native-player.js"),p=a("./src/player/player-events.js"),y=a("./src/player/player-errors.js"),E=a("./src/utils/logging-control.js"),_=a("./src/utils/exception.js");d.default.install();function h(x,S){var O=x;if(O==null||typeof O!="object")throw new _.InvalidArgumentException("MediaDataSource must be an javascript object!");if(!O.hasOwnProperty("type"))throw new _.InvalidArgumentException("MediaDataSource must has type field to indicate video file type!");switch(O.type){case"flv":return new f.default(O,S);default:return new m.default(O,S)}}function g(){return c.default.supportMSEH264Playback()}function b(){return c.default.getFeatureList()}var v={};v.createPlayer=h,v.isSupported=g,v.getFeatureList=b,v.BaseLoader=u.BaseLoader,v.LoaderStatus=u.LoaderStatus,v.LoaderErrors=u.LoaderErrors,v.Events=p.default,v.ErrorTypes=y.ErrorTypes,v.ErrorDetails=y.ErrorDetails,v.FlvPlayer=f.default,v.NativePlayer=m.default,v.LoggingControl=E.default,Object.defineProperty(v,"version",{enumerable:!0,get:function(){return"1.6.2"}}),l.default=v},"./src/index.js":function(o,l,a){o.exports=a("./src/flv.js").default},"./src/io/fetch-stream-loader.js":function(o,l,a){a.r(l);var d=a("./src/utils/browser.js"),c=a("./src/io/loader.js"),u=a("./src/utils/exception.js"),f=function(){var p=function(y,E){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,h){_.__proto__=h}||function(_,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(_[g]=h[g])},p(y,E)};return function(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");p(y,E);function _(){this.constructor=y}y.prototype=E===null?Object.create(E):(_.prototype=E.prototype,new _)}}(),m=function(p){f(y,p);function y(E,_){var h=p.call(this,"fetch-stream-loader")||this;return h.TAG="FetchStreamLoader",h._seekHandler=E,h._config=_,h._needStash=!0,h._requestAbort=!1,h._contentLength=null,h._receivedLength=0,h}return y.isSupported=function(){try{var E=d.default.msedge&&d.default.version.minor>=15048,_=d.default.msedge?E:!0;return self.fetch&&self.ReadableStream&&_}catch{return!1}},y.prototype.destroy=function(){this.isWorking()&&this.abort(),p.prototype.destroy.call(this)},y.prototype.open=function(E,_){var h=this;this._dataSource=E,this._range=_;var g=E.url;this._config.reuseRedirectedURL&&E.redirectedURL!=null&&(g=E.redirectedURL);var b=this._seekHandler.getConfig(g,_),v=new self.Headers;if(typeof b.headers=="object"){var x=b.headers;for(var S in x)x.hasOwnProperty(S)&&v.append(S,x[S])}var O={method:"GET",headers:v,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var S in this._config.headers)v.append(S,this._config.headers[S]);E.cors===!1&&(O.mode="same-origin"),E.withCredentials&&(O.credentials="include"),E.referrerPolicy&&(O.referrerPolicy=E.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,O.signal=this._abortController.signal),this._status=c.LoaderStatus.kConnecting,self.fetch(b.url,O).then(function(T){if(h._requestAbort){h._status=c.LoaderStatus.kIdle,T.body.cancel();return}if(T.ok&&T.status>=200&&T.status<=299){if(T.url!==b.url&&h._onURLRedirect){var P=h._seekHandler.removeURLParameters(T.url);h._onURLRedirect(P)}var C=T.headers.get("Content-Length");return C!=null&&(h._contentLength=parseInt(C),h._contentLength!==0&&h._onContentLengthKnown&&h._onContentLengthKnown(h._contentLength)),h._pump.call(h,T.body.getReader())}else if(h._status=c.LoaderStatus.kError,h._onError)h._onError(c.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:T.status,msg:T.statusText});else throw new u.RuntimeException("FetchStreamLoader: Http code invalid, "+T.status+" "+T.statusText)}).catch(function(T){if(!(h._abortController&&h._abortController.signal.aborted))if(h._status=c.LoaderStatus.kError,h._onError)h._onError(c.LoaderErrors.EXCEPTION,{code:-1,msg:T.message});else throw T})},y.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==c.LoaderStatus.kBuffering||!d.default.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},y.prototype._pump=function(E){var _=this;return E.read().then(function(h){if(h.done)if(_._contentLength!==null&&_._receivedLength<_._contentLength){_._status=c.LoaderStatus.kError;var g=c.LoaderErrors.EARLY_EOF,b={code:-1,msg:"Fetch stream meet Early-EOF"};if(_._onError)_._onError(g,b);else throw new u.RuntimeException(b.msg)}else _._status=c.LoaderStatus.kComplete,_._onComplete&&_._onComplete(_._range.from,_._range.from+_._receivedLength-1);else{if(_._abortController&&_._abortController.signal.aborted){_._status=c.LoaderStatus.kComplete;return}else if(_._requestAbort===!0)return _._status=c.LoaderStatus.kComplete,E.cancel();_._status=c.LoaderStatus.kBuffering;var v=h.value.buffer,x=_._range.from+_._receivedLength;_._receivedLength+=v.byteLength,_._onDataArrival&&_._onDataArrival(v,x,_._receivedLength),_._pump(E)}}).catch(function(h){if(_._abortController&&_._abortController.signal.aborted){_._status=c.LoaderStatus.kComplete;return}if(!(h.code===11&&d.default.msedge)){_._status=c.LoaderStatus.kError;var g=0,b=null;if((h.code===19||h.message==="network error")&&(_._contentLength===null||_._contentLength!==null&&_._receivedLength<_._contentLength)?(g=c.LoaderErrors.EARLY_EOF,b={code:h.code,msg:"Fetch stream meet Early-EOF"}):(g=c.LoaderErrors.EXCEPTION,b={code:h.code,msg:h.message}),_._onError)_._onError(g,b);else throw new u.RuntimeException(b.msg)}})},y}(c.BaseLoader);l.default=m},"./src/io/io-controller.js":function(o,l,a){a.r(l);var d=a("./src/utils/logger.js"),c=a("./src/io/speed-sampler.js"),u=a("./src/io/loader.js"),f=a("./src/io/fetch-stream-loader.js"),m=a("./src/io/xhr-moz-chunked-loader.js"),p=a("./src/io/xhr-range-loader.js"),y=a("./src/io/websocket-loader.js"),E=a("./src/io/range-seek-handler.js"),_=a("./src/io/param-seek-handler.js"),h=a("./src/utils/exception.js"),g=function(){function b(v,x,S){this.TAG="IOController",this._config=x,this._extraData=S,this._stashInitialSize=1024*384,x.stashInitialSize!=null&&x.stashInitialSize>0&&(this._stashInitialSize=x.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=1024*1024*3,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,x.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=v,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(v.url),this._refTotalLength=v.filesize?v.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new c.default,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return b.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},b.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},b.prototype.isPaused=function(){return this._paused},Object.defineProperty(b.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"extraData",{get:function(){return this._extraData},set:function(v){this._extraData=v},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(v){this._onDataArrival=v},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(v){this._onSeeked=v},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onError",{get:function(){return this._onError},set:function(v){this._onError=v},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onComplete",{get:function(){return this._onComplete},set:function(v){this._onComplete=v},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(v){this._onRedirect=v},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(v){this._onRecoveredEarlyEof=v},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentSpeed",{get:function(){return this._loaderClass===p.default?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),b.prototype._selectSeekHandler=function(){var v=this._config;if(v.seekType==="range")this._seekHandler=new E.default(this._config.rangeLoadZeroStart);else if(v.seekType==="param"){var x=v.seekParamStart||"bstart",S=v.seekParamEnd||"bend";this._seekHandler=new _.default(x,S)}else if(v.seekType==="custom"){if(typeof v.customSeekHandler!="function")throw new h.InvalidArgumentException("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new v.customSeekHandler}else throw new h.InvalidArgumentException("Invalid seekType in config: "+v.seekType)},b.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=y.default;else if(f.default.isSupported())this._loaderClass=f.default;else if(m.default.isSupported())this._loaderClass=m.default;else if(p.default.isSupported())this._loaderClass=p.default;else throw new h.RuntimeException("Your browser doesn't support xhr with arraybuffer responseType!")},b.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},b.prototype.open=function(v){this._currentRange={from:0,to:-1},v&&(this._currentRange.from=v),this._speedSampler.reset(),v||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},b.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},b.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},b.prototype.resume=function(){if(this._paused){this._paused=!1;var v=this._resumeFrom;this._resumeFrom=0,this._internalSeek(v,!0)}},b.prototype.seek=function(v){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(v,!0)},b.prototype._internalSeek=function(v,x){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(x),this._loader.destroy(),this._loader=null;var S={from:v,to:-1};this._currentRange={from:S.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,S),this._onSeeked&&this._onSeeked()},b.prototype.updateUrl=function(v){if(!v||typeof v!="string"||v.length===0)throw new h.InvalidArgumentException("Url must be a non-empty string!");this._dataSource.url=v},b.prototype._expandBuffer=function(v){for(var x=this._stashSize;x+1024*1024*1<v;)x*=2;if(x+=1024*1024*1,x!==this._bufferSize){var S=new ArrayBuffer(x);if(this._stashUsed>0){var O=new Uint8Array(this._stashBuffer,0,this._stashUsed),T=new Uint8Array(S,0,x);T.set(O,0)}this._stashBuffer=S,this._bufferSize=x}},b.prototype._normalizeSpeed=function(v){var x=this._speedNormalizeList,S=x.length-1,O=0,T=0,P=S;if(v<x[0])return x[0];for(;T<=P;){if(O=T+Math.floor((P-T)/2),O===S||v>=x[O]&&v<x[O+1])return x[O];x[O]<v?T=O+1:P=O-1}},b.prototype._adjustStashSize=function(v){var x=0;this._config.isLive||v<512?x=v:v>=512&&v<=1024?x=Math.floor(v*1.5):x=v*2,x>8192&&(x=8192);var S=x*1024+1024*1024*1;this._bufferSize<S&&this._expandBuffer(S),this._stashSize=x*1024},b.prototype._dispatchChunks=function(v,x){return this._currentRange.to=x+v.byteLength-1,this._onDataArrival(v,x)},b.prototype._onURLRedirect=function(v){this._redirectedURL=v,this._onRedirect&&this._onRedirect(v)},b.prototype._onContentLengthKnown=function(v){v&&this._fullRequestFlag&&(this._totalLength=v,this._fullRequestFlag=!1)},b.prototype._onLoaderChunkArrival=function(v,x,S){if(!this._onDataArrival)throw new h.IllegalStateException("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(v.byteLength);var O=this._speedSampler.lastSecondKBps;if(O!==0){var T=this._normalizeSpeed(O);this._speedNormalized!==T&&(this._speedNormalized=T,this._adjustStashSize(T))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=x),this._stashUsed+v.byteLength<=this._stashSize){var w=new Uint8Array(this._stashBuffer,0,this._stashSize);w.set(new Uint8Array(v),this._stashUsed),this._stashUsed+=v.byteLength}else{var w=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var A=this._stashBuffer.slice(0,this._stashUsed),P=this._dispatchChunks(A,this._stashByteStart);if(P<A.byteLength){if(P>0){var L=new Uint8Array(A,P);w.set(L,0),this._stashUsed=L.byteLength,this._stashByteStart+=P}}else this._stashUsed=0,this._stashByteStart+=P;this._stashUsed+v.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+v.byteLength),w=new Uint8Array(this._stashBuffer,0,this._bufferSize)),w.set(new Uint8Array(v),this._stashUsed),this._stashUsed+=v.byteLength}else{var P=this._dispatchChunks(v,x);if(P<v.byteLength){var C=v.byteLength-P;C>this._bufferSize&&(this._expandBuffer(C),w=new Uint8Array(this._stashBuffer,0,this._bufferSize)),w.set(new Uint8Array(v,P),0),this._stashUsed+=C,this._stashByteStart=x+P}}}else if(this._stashUsed===0){var P=this._dispatchChunks(v,x);if(P<v.byteLength){var C=v.byteLength-P;C>this._bufferSize&&this._expandBuffer(C);var w=new Uint8Array(this._stashBuffer,0,this._bufferSize);w.set(new Uint8Array(v,P),0),this._stashUsed+=C,this._stashByteStart=x+P}}else{this._stashUsed+v.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+v.byteLength);var w=new Uint8Array(this._stashBuffer,0,this._bufferSize);w.set(new Uint8Array(v),this._stashUsed),this._stashUsed+=v.byteLength;var P=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(P<this._stashUsed&&P>0){var L=new Uint8Array(this._stashBuffer,P);w.set(L,0)}this._stashUsed-=P,this._stashByteStart+=P}}},b.prototype._flushStashBuffer=function(v){if(this._stashUsed>0){var x=this._stashBuffer.slice(0,this._stashUsed),S=this._dispatchChunks(x,this._stashByteStart),O=x.byteLength-S;if(S<x.byteLength)if(v)d.default.w(this.TAG,O+" bytes unconsumed data remain when flush buffer, dropped");else{if(S>0){var T=new Uint8Array(this._stashBuffer,0,this._bufferSize),P=new Uint8Array(x,S);T.set(P,0),this._stashUsed=P.byteLength,this._stashByteStart+=S}return 0}return this._stashUsed=0,this._stashByteStart=0,O}return 0},b.prototype._onLoaderComplete=function(v,x){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},b.prototype._onLoaderError=function(v,x){switch(d.default.e(this.TAG,"Loader error, code = "+x.code+", msg = "+x.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,v=u.LoaderErrors.UNRECOVERABLE_EARLY_EOF),v){case u.LoaderErrors.EARLY_EOF:{if(!this._config.isLive&&this._totalLength){var S=this._currentRange.to+1;S<this._totalLength&&(d.default.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(S,!1));return}v=u.LoaderErrors.UNRECOVERABLE_EARLY_EOF;break}case u.LoaderErrors.UNRECOVERABLE_EARLY_EOF:case u.LoaderErrors.CONNECTING_TIMEOUT:case u.LoaderErrors.HTTP_STATUS_CODE_INVALID:case u.LoaderErrors.EXCEPTION:break}if(this._onError)this._onError(v,x);else throw new h.RuntimeException("IOException: "+x.msg)},b}();l.default=g},"./src/io/loader.js":function(o,l,a){a.r(l),a.d(l,{LoaderStatus:function(){return c},LoaderErrors:function(){return u},BaseLoader:function(){return f}});var d=a("./src/utils/exception.js"),c={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},u={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},f=function(){function m(p){this._type=p||"undefined",this._status=c.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return m.prototype.destroy=function(){this._status=c.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},m.prototype.isWorking=function(){return this._status===c.kConnecting||this._status===c.kBuffering},Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(p){this._onContentLengthKnown=p},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(p){this._onURLRedirect=p},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(p){this._onDataArrival=p},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onError",{get:function(){return this._onError},set:function(p){this._onError=p},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"onComplete",{get:function(){return this._onComplete},set:function(p){this._onComplete=p},enumerable:!1,configurable:!0}),m.prototype.open=function(p,y){throw new d.NotImplementedException("Unimplemented abstract function!")},m.prototype.abort=function(){throw new d.NotImplementedException("Unimplemented abstract function!")},m}()},"./src/io/param-seek-handler.js":function(o,l,a){a.r(l);var d=function(){function c(u,f){this._startName=u,this._endName=f}return c.prototype.getConfig=function(u,f){var m=u;if(f.from!==0||f.to!==-1){var p=!0;m.indexOf("?")===-1&&(m+="?",p=!1),p&&(m+="&"),m+=this._startName+"="+f.from.toString(),f.to!==-1&&(m+="&"+this._endName+"="+f.to.toString())}return{url:m,headers:{}}},c.prototype.removeURLParameters=function(u){var f=u.split("?")[0],m=void 0,p=u.indexOf("?");p!==-1&&(m=u.substring(p+1));var y="";if(m!=null&&m.length>0)for(var E=m.split("&"),_=0;_<E.length;_++){var h=E[_].split("="),g=_>0;h[0]!==this._startName&&h[0]!==this._endName&&(g&&(y+="&"),y+=E[_])}return y.length===0?f:f+"?"+y},c}();l.default=d},"./src/io/range-seek-handler.js":function(o,l,a){a.r(l);var d=function(){function c(u){this._zeroStart=u||!1}return c.prototype.getConfig=function(u,f){var m={};if(f.from!==0||f.to!==-1){var p=void 0;f.to!==-1?p="bytes="+f.from.toString()+"-"+f.to.toString():p="bytes="+f.from.toString()+"-",m.Range=p}else this._zeroStart&&(m.Range="bytes=0-");return{url:u,headers:m}},c.prototype.removeURLParameters=function(u){return u},c}();l.default=d},"./src/io/speed-sampler.js":function(o,l,a){a.r(l);var d=function(){function c(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return c.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},c.prototype.addBytes=function(u){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=u,this._totalBytes+=u):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=u,this._totalBytes+=u):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=u,this._totalBytes+=u,this._lastCheckpoint=this._now())},Object.defineProperty(c.prototype,"currentKBps",{get:function(){this.addBytes(0);var u=(this._now()-this._lastCheckpoint)/1e3;return u==0&&(u=1),this._intervalBytes/u/1024},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"averageKBps",{get:function(){var u=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/u/1024},enumerable:!1,configurable:!0}),c}();l.default=d},"./src/io/websocket-loader.js":function(o,l,a){a.r(l);var d=a("./src/io/loader.js"),c=a("./src/utils/exception.js"),u=function(){var m=function(p,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,_){E.__proto__=_}||function(E,_){for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(E[h]=_[h])},m(p,y)};return function(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(p,y);function E(){this.constructor=p}p.prototype=y===null?Object.create(y):(E.prototype=y.prototype,new E)}}(),f=function(m){u(p,m);function p(){var y=m.call(this,"websocket-loader")||this;return y.TAG="WebSocketLoader",y._needStash=!0,y._ws=null,y._requestAbort=!1,y._receivedLength=0,y}return p.isSupported=function(){try{return typeof self.WebSocket<"u"}catch{return!1}},p.prototype.destroy=function(){this._ws&&this.abort(),m.prototype.destroy.call(this)},p.prototype.open=function(y){try{var E=this._ws=new self.WebSocket(y.url);E.binaryType="arraybuffer",E.onopen=this._onWebSocketOpen.bind(this),E.onclose=this._onWebSocketClose.bind(this),E.onmessage=this._onWebSocketMessage.bind(this),E.onerror=this._onWebSocketError.bind(this),this._status=d.LoaderStatus.kConnecting}catch(h){this._status=d.LoaderStatus.kError;var _={code:h.code,msg:h.message};if(this._onError)this._onError(d.LoaderErrors.EXCEPTION,_);else throw new c.RuntimeException(_.msg)}},p.prototype.abort=function(){var y=this._ws;y&&(y.readyState===0||y.readyState===1)&&(this._requestAbort=!0,y.close()),this._ws=null,this._status=d.LoaderStatus.kComplete},p.prototype._onWebSocketOpen=function(y){this._status=d.LoaderStatus.kBuffering},p.prototype._onWebSocketClose=function(y){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=d.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)},p.prototype._onWebSocketMessage=function(y){var E=this;if(y.data instanceof ArrayBuffer)this._dispatchArrayBuffer(y.data);else if(y.data instanceof Blob){var _=new FileReader;_.onload=function(){E._dispatchArrayBuffer(_.result)},_.readAsArrayBuffer(y.data)}else{this._status=d.LoaderStatus.kError;var h={code:-1,msg:"Unsupported WebSocket message type: "+y.data.constructor.name};if(this._onError)this._onError(d.LoaderErrors.EXCEPTION,h);else throw new c.RuntimeException(h.msg)}},p.prototype._dispatchArrayBuffer=function(y){var E=y,_=this._receivedLength;this._receivedLength+=E.byteLength,this._onDataArrival&&this._onDataArrival(E,_,this._receivedLength)},p.prototype._onWebSocketError=function(y){this._status=d.LoaderStatus.kError;var E={code:y.code,msg:y.message};if(this._onError)this._onError(d.LoaderErrors.EXCEPTION,E);else throw new c.RuntimeException(E.msg)},p}(d.BaseLoader);l.default=f},"./src/io/xhr-moz-chunked-loader.js":function(o,l,a){a.r(l);var d=a("./src/utils/logger.js"),c=a("./src/io/loader.js"),u=a("./src/utils/exception.js"),f=function(){var p=function(y,E){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,h){_.__proto__=h}||function(_,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(_[g]=h[g])},p(y,E)};return function(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");p(y,E);function _(){this.constructor=y}y.prototype=E===null?Object.create(E):(_.prototype=E.prototype,new _)}}(),m=function(p){f(y,p);function y(E,_){var h=p.call(this,"xhr-moz-chunked-loader")||this;return h.TAG="MozChunkedLoader",h._seekHandler=E,h._config=_,h._needStash=!0,h._xhr=null,h._requestAbort=!1,h._contentLength=null,h._receivedLength=0,h}return y.isSupported=function(){try{var E=new XMLHttpRequest;return E.open("GET","https://example.com",!0),E.responseType="moz-chunked-arraybuffer",E.responseType==="moz-chunked-arraybuffer"}catch(_){return d.default.w("MozChunkedLoader",_.message),!1}},y.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),p.prototype.destroy.call(this)},y.prototype.open=function(E,_){this._dataSource=E,this._range=_;var h=E.url;this._config.reuseRedirectedURL&&E.redirectedURL!=null&&(h=E.redirectedURL);var g=this._seekHandler.getConfig(h,_);this._requestURL=g.url;var b=this._xhr=new XMLHttpRequest;if(b.open("GET",g.url,!0),b.responseType="moz-chunked-arraybuffer",b.onreadystatechange=this._onReadyStateChange.bind(this),b.onprogress=this._onProgress.bind(this),b.onloadend=this._onLoadEnd.bind(this),b.onerror=this._onXhrError.bind(this),E.withCredentials&&(b.withCredentials=!0),typeof g.headers=="object"){var v=g.headers;for(var x in v)v.hasOwnProperty(x)&&b.setRequestHeader(x,v[x])}if(typeof this._config.headers=="object"){var v=this._config.headers;for(var x in v)v.hasOwnProperty(x)&&b.setRequestHeader(x,v[x])}this._status=c.LoaderStatus.kConnecting,b.send()},y.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=c.LoaderStatus.kComplete},y.prototype._onReadyStateChange=function(E){var _=E.target;if(_.readyState===2){if(_.responseURL!=null&&_.responseURL!==this._requestURL&&this._onURLRedirect){var h=this._seekHandler.removeURLParameters(_.responseURL);this._onURLRedirect(h)}if(_.status!==0&&(_.status<200||_.status>299))if(this._status=c.LoaderStatus.kError,this._onError)this._onError(c.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:_.status,msg:_.statusText});else throw new u.RuntimeException("MozChunkedLoader: Http code invalid, "+_.status+" "+_.statusText);else this._status=c.LoaderStatus.kBuffering}},y.prototype._onProgress=function(E){if(this._status!==c.LoaderStatus.kError){this._contentLength===null&&E.total!==null&&E.total!==0&&(this._contentLength=E.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var _=E.target.response,h=this._range.from+this._receivedLength;this._receivedLength+=_.byteLength,this._onDataArrival&&this._onDataArrival(_,h,this._receivedLength)}},y.prototype._onLoadEnd=function(E){if(this._requestAbort===!0){this._requestAbort=!1;return}else if(this._status===c.LoaderStatus.kError)return;this._status=c.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)},y.prototype._onXhrError=function(E){this._status=c.LoaderStatus.kError;var _=0,h=null;if(this._contentLength&&E.loaded<this._contentLength?(_=c.LoaderErrors.EARLY_EOF,h={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(_=c.LoaderErrors.EXCEPTION,h={code:-1,msg:E.constructor.name+" "+E.type}),this._onError)this._onError(_,h);else throw new u.RuntimeException(h.msg)},y}(c.BaseLoader);l.default=m},"./src/io/xhr-range-loader.js":function(o,l,a){a.r(l);var d=a("./src/utils/logger.js"),c=a("./src/io/speed-sampler.js"),u=a("./src/io/loader.js"),f=a("./src/utils/exception.js"),m=function(){var y=function(E,_){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(h[b]=g[b])},y(E,_)};return function(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");y(E,_);function h(){this.constructor=E}E.prototype=_===null?Object.create(_):(h.prototype=_.prototype,new h)}}(),p=function(y){m(E,y);function E(_,h){var g=y.call(this,"xhr-range-loader")||this;return g.TAG="RangeLoader",g._seekHandler=_,g._config=h,g._needStash=!1,g._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],g._currentChunkSizeKB=384,g._currentSpeedNormalized=0,g._zeroSpeedChunkCount=0,g._xhr=null,g._speedSampler=new c.default,g._requestAbort=!1,g._waitForTotalLength=!1,g._totalLengthReceived=!1,g._currentRequestURL=null,g._currentRedirectedURL=null,g._currentRequestRange=null,g._totalLength=null,g._contentLength=null,g._receivedLength=0,g._lastTimeLoaded=0,g}return E.isSupported=function(){try{var _=new XMLHttpRequest;return _.open("GET","https://example.com",!0),_.responseType="arraybuffer",_.responseType==="arraybuffer"}catch(h){return d.default.w("RangeLoader",h.message),!1}},E.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),y.prototype.destroy.call(this)},Object.defineProperty(E.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),E.prototype.open=function(_,h){this._dataSource=_,this._range=h,this._status=u.LoaderStatus.kConnecting;var g=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(g=!0,this._totalLength=this._dataSource.filesize),!this._totalLengthReceived&&!g?(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1})):this._openSubRange()},E.prototype._openSubRange=function(){var _=this._currentChunkSizeKB*1024,h=this._range.from+this._receivedLength,g=h+_;this._contentLength!=null&&g-this._range.from>=this._contentLength&&(g=this._range.from+this._contentLength-1),this._currentRequestRange={from:h,to:g},this._internalOpen(this._dataSource,this._currentRequestRange)},E.prototype._internalOpen=function(_,h){this._lastTimeLoaded=0;var g=_.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?g=this._currentRedirectedURL:_.redirectedURL!=null&&(g=_.redirectedURL));var b=this._seekHandler.getConfig(g,h);this._currentRequestURL=b.url;var v=this._xhr=new XMLHttpRequest;if(v.open("GET",b.url,!0),v.responseType="arraybuffer",v.onreadystatechange=this._onReadyStateChange.bind(this),v.onprogress=this._onProgress.bind(this),v.onload=this._onLoad.bind(this),v.onerror=this._onXhrError.bind(this),_.withCredentials&&(v.withCredentials=!0),typeof b.headers=="object"){var x=b.headers;for(var S in x)x.hasOwnProperty(S)&&v.setRequestHeader(S,x[S])}if(typeof this._config.headers=="object"){var x=this._config.headers;for(var S in x)x.hasOwnProperty(S)&&v.setRequestHeader(S,x[S])}v.send()},E.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=u.LoaderStatus.kComplete},E.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},E.prototype._onReadyStateChange=function(_){var h=_.target;if(h.readyState===2){if(h.responseURL!=null){var g=this._seekHandler.removeURLParameters(h.responseURL);h.responseURL!==this._currentRequestURL&&g!==this._currentRedirectedURL&&(this._currentRedirectedURL=g,this._onURLRedirect&&this._onURLRedirect(g))}if(h.status>=200&&h.status<=299){if(this._waitForTotalLength)return;this._status=u.LoaderStatus.kBuffering}else if(this._status=u.LoaderStatus.kError,this._onError)this._onError(u.LoaderErrors.HTTP_STATUS_CODE_INVALID,{code:h.status,msg:h.statusText});else throw new f.RuntimeException("RangeLoader: Http code invalid, "+h.status+" "+h.statusText)}},E.prototype._onProgress=function(_){if(this._status!==u.LoaderStatus.kError){if(this._contentLength===null){var h=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,h=!0;var g=_.total;this._internalAbort(),g!=null&g!==0&&(this._totalLength=g)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,h){this._openSubRange();return}this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var b=_.loaded-this._lastTimeLoaded;this._lastTimeLoaded=_.loaded,this._speedSampler.addBytes(b)}},E.prototype._normalizeSpeed=function(_){var h=this._chunkSizeKBList,g=h.length-1,b=0,v=0,x=g;if(_<h[0])return h[0];for(;v<=x;){if(b=v+Math.floor((x-v)/2),b===g||_>=h[b]&&_<h[b+1])return h[b];h[b]<_?v=b+1:x=b-1}},E.prototype._onLoad=function(_){if(this._status!==u.LoaderStatus.kError){if(this._waitForTotalLength){this._waitForTotalLength=!1;return}this._lastTimeLoaded=0;var h=this._speedSampler.lastSecondKBps;if(h===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(h=this._speedSampler.currentKBps)),h!==0){var g=this._normalizeSpeed(h);this._currentSpeedNormalized!==g&&(this._currentSpeedNormalized=g,this._currentChunkSizeKB=g)}var b=_.target.response,v=this._range.from+this._receivedLength;this._receivedLength+=b.byteLength;var x=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():x=!0,this._onDataArrival&&this._onDataArrival(b,v,this._receivedLength),x&&(this._status=u.LoaderStatus.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},E.prototype._onXhrError=function(_){this._status=u.LoaderStatus.kError;var h=0,g=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(h=u.LoaderErrors.EARLY_EOF,g={code:-1,msg:"RangeLoader meet Early-Eof"}):(h=u.LoaderErrors.EXCEPTION,g={code:-1,msg:_.constructor.name+" "+_.type}),this._onError)this._onError(h,g);else throw new f.RuntimeException(g.msg)},E}(u.BaseLoader);l.default=p},"./src/player/flv-player.js":function(o,l,a){a.r(l);var d=a("./node_modules/events/events.js"),c=a.n(d),u=a("./src/utils/logger.js"),f=a("./src/utils/browser.js"),m=a("./src/player/player-events.js"),p=a("./src/core/transmuxer.js"),y=a("./src/core/transmuxing-events.js"),E=a("./src/core/mse-controller.js"),_=a("./src/core/mse-events.js"),h=a("./src/player/player-errors.js"),g=a("./src/config.js"),b=a("./src/utils/exception.js"),v=function(){function x(S,O){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new(c()),this._config=(0,g.createDefaultConfig)(),typeof O=="object"&&Object.assign(this._config,O),S.type.toLowerCase()!=="flv")throw new b.InvalidArgumentException("FlvPlayer requires an flv MediaDataSource input!");S.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=S,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var T=f.default.chrome&&(f.default.version.major<50||f.default.version.major===50&&f.default.version.build<2661);this._alwaysSeekKeyframe=!!(T||f.default.msedge||f.default.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return x.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},x.prototype.on=function(S,O){var T=this;S===m.default.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(m.default.MEDIA_INFO,T.mediaInfo)}):S===m.default.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){T._emitter.emit(m.default.STATISTICS_INFO,T.statisticsInfo)}),this._emitter.addListener(S,O)},x.prototype.off=function(S,O){this._emitter.removeListener(S,O)},x.prototype.attachMediaElement=function(S){var O=this;if(this._mediaElement=S,S.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),S.addEventListener("seeking",this.e.onvSeeking),S.addEventListener("canplay",this.e.onvCanPlay),S.addEventListener("stalled",this.e.onvStalled),S.addEventListener("progress",this.e.onvProgress),this._msectl=new E.default(this._config),this._msectl.on(_.default.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(_.default.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(_.default.SOURCE_OPEN,function(){O._mseSourceOpened=!0,O._hasPendingLoad&&(O._hasPendingLoad=!1,O.load())}),this._msectl.on(_.default.ERROR,function(T){O._emitter.emit(m.default.ERROR,h.ErrorTypes.MEDIA_ERROR,h.ErrorDetails.MEDIA_MSE_ERROR,T)}),this._msectl.attachMediaElement(S),this._pendingSeekTime!=null)try{S.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},x.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},x.prototype.load=function(){var S=this;if(!this._mediaElement)throw new b.IllegalStateException("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new b.IllegalStateException("FlvPlayer.load() has been called, please call unload() first!");if(!this._hasPendingLoad){if(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1){this._hasPendingLoad=!0;return}this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new p.default(this._mediaDataSource,this._config),this._transmuxer.on(y.default.INIT_SEGMENT,function(O,T){S._msectl.appendInitSegment(T)}),this._transmuxer.on(y.default.MEDIA_SEGMENT,function(O,T){if(S._msectl.appendMediaSegment(T),S._config.lazyLoad&&!S._config.isLive){var P=S._mediaElement.currentTime;T.info.endDts>=(P+S._config.lazyLoadMaxDuration)*1e3&&S._progressChecker==null&&(u.default.v(S.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),S._suspendTransmuxer())}}),this._transmuxer.on(y.default.LOADING_COMPLETE,function(){S._msectl.endOfStream(),S._emitter.emit(m.default.LOADING_COMPLETE)}),this._transmuxer.on(y.default.RECOVERED_EARLY_EOF,function(){S._emitter.emit(m.default.RECOVERED_EARLY_EOF)}),this._transmuxer.on(y.default.IO_ERROR,function(O,T){S._emitter.emit(m.default.ERROR,h.ErrorTypes.NETWORK_ERROR,O,T)}),this._transmuxer.on(y.default.DEMUX_ERROR,function(O,T){S._emitter.emit(m.default.ERROR,h.ErrorTypes.MEDIA_ERROR,O,{code:-1,msg:T})}),this._transmuxer.on(y.default.MEDIA_INFO,function(O){S._mediaInfo=O,S._emitter.emit(m.default.MEDIA_INFO,Object.assign({},O))}),this._transmuxer.on(y.default.METADATA_ARRIVED,function(O){S._emitter.emit(m.default.METADATA_ARRIVED,O)}),this._transmuxer.on(y.default.SCRIPTDATA_ARRIVED,function(O){S._emitter.emit(m.default.SCRIPTDATA_ARRIVED,O)}),this._transmuxer.on(y.default.STATISTICS_INFO,function(O){S._statisticsInfo=S._fillStatisticsInfo(O),S._emitter.emit(m.default.STATISTICS_INFO,Object.assign({},S._statisticsInfo))}),this._transmuxer.on(y.default.RECOMMEND_SEEKPOINT,function(O){S._mediaElement&&!S._config.accurateSeek&&(S._requestSetTime=!0,S._mediaElement.currentTime=O/1e3)}),this._transmuxer.open()}},x.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},x.prototype.play=function(){return this._mediaElement.play()},x.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(x.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(S){this._mediaElement.volume=S},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(S){this._mediaElement.muted=S},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(S){this._mediaElement?this._internalSeek(S):this._pendingSeekTime=S},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),x.prototype._fillStatisticsInfo=function(S){if(S.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return S;var O=!0,T=0,P=0;if(this._mediaElement.getVideoPlaybackQuality){var C=this._mediaElement.getVideoPlaybackQuality();T=C.totalVideoFrames,P=C.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(T=this._mediaElement.webkitDecodedFrameCount,P=this._mediaElement.webkitDroppedFrameCount):O=!1;return O&&(S.decodedFrames=T,S.droppedFrames=P),S},x.prototype._onmseUpdateEnd=function(){if(!(!this._config.lazyLoad||this._config.isLive)){for(var S=this._mediaElement.buffered,O=this._mediaElement.currentTime,T=0,P=0;P<S.length;P++){var C=S.start(P),w=S.end(P);if(C<=O&&O<w){T=w;break}}T>=O+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(u.default.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},x.prototype._onmseBufferFull=function(){u.default.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},x.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},x.prototype._checkProgressAndResume=function(){for(var S=this._mediaElement.currentTime,O=this._mediaElement.buffered,T=!1,P=0;P<O.length;P++){var C=O.start(P),w=O.end(P);if(S>=C&&S<w){S>=w-this._config.lazyLoadRecoverDuration&&(T=!0);break}}T&&(window.clearInterval(this._progressChecker),this._progressChecker=null,T&&(u.default.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},x.prototype._isTimepointBuffered=function(S){for(var O=this._mediaElement.buffered,T=0;T<O.length;T++){var P=O.start(T),C=O.end(T);if(S>=P&&S<C)return!0}return!1},x.prototype._internalSeek=function(S){var O=this._isTimepointBuffered(S),T=!1,P=0;if(S<1&&this._mediaElement.buffered.length>0){var C=this._mediaElement.buffered.start(0);(C<1&&S<C||f.default.safari)&&(T=!0,P=f.default.safari?.1:C)}if(T)this._requestSetTime=!0,this._mediaElement.currentTime=P;else if(O){if(!this._alwaysSeekKeyframe)this._requestSetTime=!0,this._mediaElement.currentTime=S;else{var w=this._msectl.getNearestKeyframe(Math.floor(S*1e3));this._requestSetTime=!0,w!=null?this._mediaElement.currentTime=w.dts/1e3:this._mediaElement.currentTime=S}this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(S),this._transmuxer.seek(Math.floor(S*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=S)},x.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var S=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(S)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(S),this._transmuxer.seek(Math.floor(S*1e3)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=S))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},x.prototype._checkAndResumeStuckPlayback=function(S){var O=this._mediaElement;if(S||!this._receivedCanPlay||O.readyState<2){var T=O.buffered;T.length>0&&O.currentTime<T.start(0)&&(u.default.w(this.TAG,"Playback seems stuck at "+O.currentTime+", seek to "+T.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=T.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},x.prototype._onvLoadedMetadata=function(S){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},x.prototype._onvSeeking=function(S){var O=this._mediaElement.currentTime,T=this._mediaElement.buffered;if(this._requestSetTime){this._requestSetTime=!1;return}if(O<1&&T.length>0){var P=T.start(0);if(P<1&&O<P||f.default.safari){this._requestSetTime=!0,this._mediaElement.currentTime=f.default.safari?.1:P;return}}if(this._isTimepointBuffered(O)){if(this._alwaysSeekKeyframe){var C=this._msectl.getNearestKeyframe(Math.floor(O*1e3));C!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=C.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume();return}this._seekpointRecord={seekPoint:O,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},x.prototype._onvCanPlay=function(S){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},x.prototype._onvStalled=function(S){this._checkAndResumeStuckPlayback(!0)},x.prototype._onvProgress=function(S){this._checkAndResumeStuckPlayback()},x}();l.default=v},"./src/player/native-player.js":function(o,l,a){a.r(l);var d=a("./node_modules/events/events.js"),c=a.n(d),u=a("./src/player/player-events.js"),f=a("./src/config.js"),m=a("./src/utils/exception.js"),p=function(){function y(E,_){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new(c()),this._config=(0,f.createDefaultConfig)(),typeof _=="object"&&Object.assign(this._config,_),E.type.toLowerCase()==="flv")throw new m.InvalidArgumentException("NativePlayer does't support flv MediaDataSource input!");if(E.hasOwnProperty("segments"))throw new m.InvalidArgumentException("NativePlayer("+E.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=E,this._mediaElement=null}return y.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},y.prototype.on=function(E,_){var h=this;E===u.default.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){h._emitter.emit(u.default.MEDIA_INFO,h.mediaInfo)}):E===u.default.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){h._emitter.emit(u.default.STATISTICS_INFO,h.statisticsInfo)}),this._emitter.addListener(E,_)},y.prototype.off=function(E,_){this._emitter.removeListener(E,_)},y.prototype.attachMediaElement=function(E){if(this._mediaElement=E,E.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{E.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},y.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},y.prototype.load=function(){if(!this._mediaElement)throw new m.IllegalStateException("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},y.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},y.prototype.play=function(){return this._mediaElement.play()},y.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(y.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(E){this._mediaElement.volume=E},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(E){this._mediaElement.muted=E},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(E){this._mediaElement?this._mediaElement.currentTime=E:this._pendingSeekTime=E},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"mediaInfo",{get:function(){var E=this._mediaElement instanceof HTMLAudioElement?"audio/":"video/",_={mimeType:E+this._mediaDataSource.type};return this._mediaElement&&(_.duration=Math.floor(this._mediaElement.duration*1e3),this._mediaElement instanceof HTMLVideoElement&&(_.width=this._mediaElement.videoWidth,_.height=this._mediaElement.videoHeight)),_},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"statisticsInfo",{get:function(){var E={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return E;var _=!0,h=0,g=0;if(this._mediaElement.getVideoPlaybackQuality){var b=this._mediaElement.getVideoPlaybackQuality();h=b.totalVideoFrames,g=b.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(h=this._mediaElement.webkitDecodedFrameCount,g=this._mediaElement.webkitDroppedFrameCount):_=!1;return _&&(E.decodedFrames=h,E.droppedFrames=g),E},enumerable:!1,configurable:!0}),y.prototype._onvLoadedMetadata=function(E){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(u.default.MEDIA_INFO,this.mediaInfo)},y.prototype._reportStatisticsInfo=function(){this._emitter.emit(u.default.STATISTICS_INFO,this.statisticsInfo)},y}();l.default=p},"./src/player/player-errors.js":function(o,l,a){a.r(l),a.d(l,{ErrorTypes:function(){return u},ErrorDetails:function(){return f}});var d=a("./src/io/loader.js"),c=a("./src/demux/demux-errors.js"),u={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},f={NETWORK_EXCEPTION:d.LoaderErrors.EXCEPTION,NETWORK_STATUS_CODE_INVALID:d.LoaderErrors.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:d.LoaderErrors.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:d.LoaderErrors.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:c.default.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:c.default.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:c.default.CODEC_UNSUPPORTED}},"./src/player/player-events.js":function(o,l,a){a.r(l);var d={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};l.default=d},"./src/remux/aac-silent.js":function(o,l,a){a.r(l);var d=function(){function c(){}return c.getSilentFrame=function(u,f){if(u==="mp4a.40.2"){if(f===1)return new Uint8Array([0,200,0,128,35,128]);if(f===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(f===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(f===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(f===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(f===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(f===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(f===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(f===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},c}();l.default=d},"./src/remux/mp4-generator.js":function(o,l,a){a.r(l);var d=function(){function c(){}return c.init=function(){c.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(var u in c.types)c.types.hasOwnProperty(u)&&(c.types[u]=[u.charCodeAt(0),u.charCodeAt(1),u.charCodeAt(2),u.charCodeAt(3)]);var f=c.constants={};f.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),f.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),f.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),f.STSC=f.STCO=f.STTS,f.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),f.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),f.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),f.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),f.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),f.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},c.box=function(u){for(var f=8,m=null,p=Array.prototype.slice.call(arguments,1),y=p.length,E=0;E<y;E++)f+=p[E].byteLength;m=new Uint8Array(f),m[0]=f>>>24&255,m[1]=f>>>16&255,m[2]=f>>>8&255,m[3]=f&255,m.set(u,4);for(var _=8,E=0;E<y;E++)m.set(p[E],_),_+=p[E].byteLength;return m},c.generateInitSegment=function(u){var f=c.box(c.types.ftyp,c.constants.FTYP),m=c.moov(u),p=new Uint8Array(f.byteLength+m.byteLength);return p.set(f,0),p.set(m,f.byteLength),p},c.moov=function(u){var f=c.mvhd(u.timescale,u.duration),m=c.trak(u),p=c.mvex(u);return c.box(c.types.moov,f,m,p)},c.mvhd=function(u,f){return c.box(c.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,u>>>24&255,u>>>16&255,u>>>8&255,u&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},c.trak=function(u){return c.box(c.types.trak,c.tkhd(u),c.mdia(u))},c.tkhd=function(u){var f=u.id,m=u.duration,p=u.presentWidth,y=u.presentHeight;return c.box(c.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,0,0,0,0,m>>>24&255,m>>>16&255,m>>>8&255,m&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,p>>>8&255,p&255,0,0,y>>>8&255,y&255,0,0]))},c.mdia=function(u){return c.box(c.types.mdia,c.mdhd(u),c.hdlr(u),c.minf(u))},c.mdhd=function(u){var f=u.timescale,m=u.duration;return c.box(c.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,m>>>24&255,m>>>16&255,m>>>8&255,m&255,85,196,0,0]))},c.hdlr=function(u){var f=null;return u.type==="audio"?f=c.constants.HDLR_AUDIO:f=c.constants.HDLR_VIDEO,c.box(c.types.hdlr,f)},c.minf=function(u){var f=null;return u.type==="audio"?f=c.box(c.types.smhd,c.constants.SMHD):f=c.box(c.types.vmhd,c.constants.VMHD),c.box(c.types.minf,f,c.dinf(),c.stbl(u))},c.dinf=function(){var u=c.box(c.types.dinf,c.box(c.types.dref,c.constants.DREF));return u},c.stbl=function(u){var f=c.box(c.types.stbl,c.stsd(u),c.box(c.types.stts,c.constants.STTS),c.box(c.types.stsc,c.constants.STSC),c.box(c.types.stsz,c.constants.STSZ),c.box(c.types.stco,c.constants.STCO));return f},c.stsd=function(u){return u.type==="audio"?u.codec==="mp3"?c.box(c.types.stsd,c.constants.STSD_PREFIX,c.mp3(u)):c.box(c.types.stsd,c.constants.STSD_PREFIX,c.mp4a(u)):c.box(c.types.stsd,c.constants.STSD_PREFIX,c.avc1(u))},c.mp3=function(u){var f=u.channelCount,m=u.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,f,0,16,0,0,0,0,m>>>8&255,m&255,0,0]);return c.box(c.types[".mp3"],p)},c.mp4a=function(u){var f=u.channelCount,m=u.audioSampleRate,p=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,f,0,16,0,0,0,0,m>>>8&255,m&255,0,0]);return c.box(c.types.mp4a,p,c.esds(u))},c.esds=function(u){var f=u.config||[],m=f.length,p=new Uint8Array([0,0,0,0,3,23+m,0,1,0,4,15+m,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([m]).concat(f).concat([6,1,2]));return c.box(c.types.esds,p)},c.avc1=function(u){var f=u.avcc,m=u.codecWidth,p=u.codecHeight,y=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,m>>>8&255,m&255,p>>>8&255,p&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return c.box(c.types.avc1,y,c.box(c.types.avcC,f))},c.mvex=function(u){return c.box(c.types.mvex,c.trex(u))},c.trex=function(u){var f=u.id,m=new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return c.box(c.types.trex,m)},c.moof=function(u,f){return c.box(c.types.moof,c.mfhd(u.sequenceNumber),c.traf(u,f))},c.mfhd=function(u){var f=new Uint8Array([0,0,0,0,u>>>24&255,u>>>16&255,u>>>8&255,u&255]);return c.box(c.types.mfhd,f)},c.traf=function(u,f){var m=u.id,p=c.box(c.types.tfhd,new Uint8Array([0,0,0,0,m>>>24&255,m>>>16&255,m>>>8&255,m&255])),y=c.box(c.types.tfdt,new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255])),E=c.sdtp(u),_=c.trun(u,E.byteLength+16+16+8+16+8+8);return c.box(c.types.traf,p,y,_,E)},c.sdtp=function(u){for(var f=u.samples||[],m=f.length,p=new Uint8Array(4+m),y=0;y<m;y++){var E=f[y].flags;p[y+4]=E.isLeading<<6|E.dependsOn<<4|E.isDependedOn<<2|E.hasRedundancy}return c.box(c.types.sdtp,p)},c.trun=function(u,f){var m=u.samples||[],p=m.length,y=12+16*p,E=new Uint8Array(y);f+=8+y,E.set([0,0,15,1,p>>>24&255,p>>>16&255,p>>>8&255,p&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255],0);for(var _=0;_<p;_++){var h=m[_].duration,g=m[_].size,b=m[_].flags,v=m[_].cts;E.set([h>>>24&255,h>>>16&255,h>>>8&255,h&255,g>>>24&255,g>>>16&255,g>>>8&255,g&255,b.isLeading<<2|b.dependsOn,b.isDependedOn<<6|b.hasRedundancy<<4|b.isNonSync,0,0,v>>>24&255,v>>>16&255,v>>>8&255,v&255],12+16*_)}return c.box(c.types.trun,E)},c.mdat=function(u){return c.box(c.types.mdat,u)},c}();d.init(),l.default=d},"./src/remux/mp4-remuxer.js":function(o,l,a){a.r(l);var d=a("./src/utils/logger.js"),c=a("./src/remux/mp4-generator.js"),u=a("./src/remux/aac-silent.js"),f=a("./src/utils/browser.js"),m=a("./src/core/media-segment-info.js"),p=a("./src/utils/exception.js"),y=function(){function E(_){this.TAG="MP4Remuxer",this._config=_,this._isLive=_.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new m.MediaSegmentInfoList("audio"),this._videoSegmentInfoList=new m.MediaSegmentInfoList("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!!(f.default.chrome&&(f.default.version.major<50||f.default.version.major===50&&f.default.version.build<2661)),this._fillSilentAfterSeek=f.default.msedge||f.default.msie,this._mp3UseMpegAudio=!f.default.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return E.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},E.prototype.bindDataSource=function(_){return _.onDataAvailable=this.remux.bind(this),_.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(E.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(_){this._onInitSegment=_},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(_){this._onMediaSegment=_},enumerable:!1,configurable:!0}),E.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},E.prototype.seek=function(_){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},E.prototype.remux=function(_,h){if(!this._onMediaSegment)throw new p.IllegalStateException("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(_,h),this._remuxVideo(h),this._remuxAudio(_)},E.prototype._onTrackMetadataReceived=function(_,h){var g=null,b="mp4",v=h.codec;if(_==="audio")this._audioMeta=h,h.codec==="mp3"&&this._mp3UseMpegAudio?(b="mpeg",v="",g=new Uint8Array):g=c.default.generateInitSegment(h);else if(_==="video")this._videoMeta=h,g=c.default.generateInitSegment(h);else return;if(!this._onInitSegment)throw new p.IllegalStateException("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(_,{type:_,data:g.buffer,codec:v,container:_+"/"+b,mediaDuration:h.duration})},E.prototype._calculateDtsBase=function(_,h){this._dtsBaseInited||(_.samples&&_.samples.length&&(this._audioDtsBase=_.samples[0].dts),h.samples&&h.samples.length&&(this._videoDtsBase=h.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},E.prototype.flushStashedSamples=function(){var _=this._videoStashedLastSample,h=this._audioStashedLastSample,g={type:"video",id:1,sequenceNumber:0,samples:[],length:0};_!=null&&(g.samples.push(_),g.length=_.length);var b={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};h!=null&&(b.samples.push(h),b.length=h.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(g,!0),this._remuxAudio(b,!0)},E.prototype._remuxAudio=function(_,h){if(this._audioMeta!=null){var g=_,b=g.samples,v=void 0,x=-1,S=-1,O=this._audioMeta.refSampleDuration,T=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,P=this._dtsBaseInited&&this._audioNextDts===void 0,C=!1;if(!(!b||b.length===0)&&!(b.length===1&&!h)){var w=0,L=null,A=0;T?(w=0,A=g.length):(w=8,A=8+g.length);var M=null;if(b.length>1&&(M=b.pop(),A-=M.length),this._audioStashedLastSample!=null){var D=this._audioStashedLastSample;this._audioStashedLastSample=null,b.unshift(D),A+=D.length}M!=null&&(this._audioStashedLastSample=M);var N=b[0].dts-this._dtsBase;if(this._audioNextDts)v=N-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())v=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(C=!0);else{var U=this._audioSegmentInfoList.getLastSampleBefore(N);if(U!=null){var J=N-(U.originalDts+U.duration);J<=3&&(J=0);var q=U.dts+U.duration+J;v=N-q}else v=0}if(C){var le=N-v,de=this._videoSegmentInfoList.getLastSegmentBefore(N);if(de!=null&&de.beginDts<le){var ce=u.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(ce){var ve=de.beginDts,je=le-de.beginDts;d.default.v(this.TAG,"InsertPrefixSilentAudio: dts: "+ve+", duration: "+je),b.unshift({unit:ce,dts:ve,pts:ve}),A+=ce.byteLength}}else C=!1}for(var Ce=[],F=0;F<b.length;F++){var D=b[F],re=D.unit,Y=D.dts-this._dtsBase,ve=Y,ne=!1,Oe=null,k=0;if(!(Y<-.001)){if(this._audioMeta.codec!=="mp3"){var R=Y,B=3;if(this._audioNextDts&&(R=this._audioNextDts),v=Y-R,v<=-B*O){d.default.w(this.TAG,"Dropping 1 audio frame (originalDts: "+Y+" ms ,curRefDts: "+R+" ms)  due to dtsCorrection: "+v+" ms overlap.");continue}else if(v>=B*O&&this._fillAudioTimestampGap&&!f.default.safari){ne=!0;var H=Math.floor(v/O);d.default.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
`+("originalDts: "+Y+" ms, curRefDts: "+R+" ms, ")+("dtsCorrection: "+Math.round(v)+" ms, generate: "+H+" frames")),ve=Math.floor(R),k=Math.floor(R+O)-ve;var ce=u.default.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);ce==null&&(d.default.w(this.TAG,"Unable to generate silent frame for "+(this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame")),ce=re),Oe=[];for(var K=0;K<H;K++){R=R+O;var W=Math.floor(R),ie=Math.floor(R+O)-W,se={dts:W,pts:W,cts:0,unit:ce,size:ce.byteLength,duration:ie,originalDts:Y,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Oe.push(se),A+=se.size}this._audioNextDts=R+O}else ve=Math.floor(R),k=Math.floor(R+O)-ve,this._audioNextDts=R+O}else{if(ve=Y-v,F!==b.length-1){var Z=b[F+1].dts-this._dtsBase-v;k=Z-ve}else if(M!=null){var Z=M.dts-this._dtsBase-v;k=Z-ve}else Ce.length>=1?k=Ce[Ce.length-1].duration:k=Math.floor(O);this._audioNextDts=ve+k}x===-1&&(x=ve),Ce.push({dts:ve,pts:ve,cts:0,unit:D.unit,size:D.unit.byteLength,duration:k,originalDts:Y,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),ne&&Ce.push.apply(Ce,Oe)}}if(Ce.length===0){g.samples=[],g.length=0;return}T?L=new Uint8Array(A):(L=new Uint8Array(A),L[0]=A>>>24&255,L[1]=A>>>16&255,L[2]=A>>>8&255,L[3]=A&255,L.set(c.default.types.mdat,4));for(var F=0;F<Ce.length;F++){var re=Ce[F].unit;L.set(re,w),w+=re.byteLength}var G=Ce[Ce.length-1];S=G.dts+G.duration;var he=new m.MediaSegmentInfo;he.beginDts=x,he.endDts=S,he.beginPts=x,he.endPts=S,he.originalBeginDts=Ce[0].originalDts,he.originalEndDts=G.originalDts+G.duration,he.firstSample=new m.SampleInfo(Ce[0].dts,Ce[0].pts,Ce[0].duration,Ce[0].originalDts,!1),he.lastSample=new m.SampleInfo(G.dts,G.pts,G.duration,G.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(he),g.samples=Ce,g.sequenceNumber++;var ue=null;T?ue=new Uint8Array:ue=c.default.moof(g,x),g.samples=[],g.length=0;var ge={type:"audio",data:this._mergeBoxes(ue,L).buffer,sampleCount:Ce.length,info:he};T&&P&&(ge.timestampOffset=x),this._onMediaSegment("audio",ge)}}},E.prototype._remuxVideo=function(_,h){if(this._videoMeta!=null){var g=_,b=g.samples,v=void 0,x=-1,S=-1,O=-1,T=-1;if(!(!b||b.length===0)&&!(b.length===1&&!h)){var P=8,C=null,w=8+_.length,L=null;if(b.length>1&&(L=b.pop(),w-=L.length),this._videoStashedLastSample!=null){var A=this._videoStashedLastSample;this._videoStashedLastSample=null,b.unshift(A),w+=A.length}L!=null&&(this._videoStashedLastSample=L);var M=b[0].dts-this._dtsBase;if(this._videoNextDts)v=M-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())v=0;else{var D=this._videoSegmentInfoList.getLastSampleBefore(M);if(D!=null){var N=M-(D.originalDts+D.duration);N<=3&&(N=0);var U=D.dts+D.duration+N;v=M-U}else v=0}for(var J=new m.MediaSegmentInfo,q=[],le=0;le<b.length;le++){var A=b[le],de=A.dts-this._dtsBase,ce=A.isKeyframe,ve=de-v,je=A.cts,Ce=ve+je;x===-1&&(x=ve,O=Ce);var F=0;if(le!==b.length-1){var re=b[le+1].dts-this._dtsBase-v;F=re-ve}else if(L!=null){var re=L.dts-this._dtsBase-v;F=re-ve}else q.length>=1?F=q[q.length-1].duration:F=Math.floor(this._videoMeta.refSampleDuration);if(ce){var Y=new m.SampleInfo(ve,Ce,F,A.dts,!0);Y.fileposition=A.fileposition,J.appendSyncPoint(Y)}q.push({dts:ve,pts:Ce,cts:je,units:A.units,size:A.length,isKeyframe:ce,duration:F,originalDts:de,flags:{isLeading:0,dependsOn:ce?2:1,isDependedOn:ce?1:0,hasRedundancy:0,isNonSync:ce?0:1}})}C=new Uint8Array(w),C[0]=w>>>24&255,C[1]=w>>>16&255,C[2]=w>>>8&255,C[3]=w&255,C.set(c.default.types.mdat,4);for(var le=0;le<q.length;le++)for(var ne=q[le].units;ne.length;){var Oe=ne.shift(),k=Oe.data;C.set(k,P),P+=k.byteLength}var R=q[q.length-1];if(S=R.dts+R.duration,T=R.pts+R.duration,this._videoNextDts=S,J.beginDts=x,J.endDts=S,J.beginPts=O,J.endPts=T,J.originalBeginDts=q[0].originalDts,J.originalEndDts=R.originalDts+R.duration,J.firstSample=new m.SampleInfo(q[0].dts,q[0].pts,q[0].duration,q[0].originalDts,q[0].isKeyframe),J.lastSample=new m.SampleInfo(R.dts,R.pts,R.duration,R.originalDts,R.isKeyframe),this._isLive||this._videoSegmentInfoList.append(J),g.samples=q,g.sequenceNumber++,this._forceFirstIDR){var B=q[0].flags;B.dependsOn=2,B.isNonSync=0}var H=c.default.moof(g,x);g.samples=[],g.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(H,C).buffer,sampleCount:q.length,info:J})}}},E.prototype._mergeBoxes=function(_,h){var g=new Uint8Array(_.byteLength+h.byteLength);return g.set(_,0),g.set(h,_.byteLength),g},E}();l.default=y},"./src/utils/browser.js":function(o,l,a){a.r(l);var d={};function c(){var u=self.navigator.userAgent.toLowerCase(),f=/(edge)\/([\w.]+)/.exec(u)||/(opr)[\/]([\w.]+)/.exec(u)||/(chrome)[ \/]([\w.]+)/.exec(u)||/(iemobile)[\/]([\w.]+)/.exec(u)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||u.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(u)||u.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(u)||[],m=/(ipad)/.exec(u)||/(ipod)/.exec(u)||/(windows phone)/.exec(u)||/(iphone)/.exec(u)||/(kindle)/.exec(u)||/(android)/.exec(u)||/(windows)/.exec(u)||/(mac)/.exec(u)||/(linux)/.exec(u)||/(cros)/.exec(u)||[],p={browser:f[5]||f[3]||f[1]||"",version:f[2]||f[4]||"0",majorVersion:f[4]||f[2]||"0",platform:m[0]||""},y={};if(p.browser){y[p.browser]=!0;var E=p.majorVersion.split(".");y.version={major:parseInt(p.majorVersion,10),string:p.version},E.length>1&&(y.version.minor=parseInt(E[1],10)),E.length>2&&(y.version.build=parseInt(E[2],10))}if(p.platform&&(y[p.platform]=!0),(y.chrome||y.opr||y.safari)&&(y.webkit=!0),y.rv||y.iemobile){y.rv&&delete y.rv;var _="msie";p.browser=_,y[_]=!0}if(y.edge){delete y.edge;var h="msedge";p.browser=h,y[h]=!0}if(y.opr){var g="opera";p.browser=g,y[g]=!0}if(y.safari&&y.android){var b="android";p.browser=b,y[b]=!0}y.name=p.browser,y.platform=p.platform;for(var v in d)d.hasOwnProperty(v)&&delete d[v];Object.assign(d,y)}c(),l.default=d},"./src/utils/exception.js":function(o,l,a){a.r(l),a.d(l,{RuntimeException:function(){return c},IllegalStateException:function(){return u},InvalidArgumentException:function(){return f},NotImplementedException:function(){return m}});var d=function(){var p=function(y,E){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,h){_.__proto__=h}||function(_,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(_[g]=h[g])},p(y,E)};return function(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");p(y,E);function _(){this.constructor=y}y.prototype=E===null?Object.create(E):(_.prototype=E.prototype,new _)}}(),c=function(){function p(y){this._message=y}return Object.defineProperty(p.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),p.prototype.toString=function(){return this.name+": "+this.message},p}(),u=function(p){d(y,p);function y(E){return p.call(this,E)||this}return Object.defineProperty(y.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),y}(c),f=function(p){d(y,p);function y(E){return p.call(this,E)||this}return Object.defineProperty(y.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),y}(c),m=function(p){d(y,p);function y(E){return p.call(this,E)||this}return Object.defineProperty(y.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),y}(c)},"./src/utils/logger.js":function(o,l,a){a.r(l);var d=a("./node_modules/events/events.js"),c=a.n(d),u=function(){function f(){}return f.e=function(m,p){(!m||f.FORCE_GLOBAL_TAG)&&(m=f.GLOBAL_TAG);var y="["+m+"] > "+p;f.ENABLE_CALLBACK&&f.emitter.emit("log","error",y),f.ENABLE_ERROR&&(console.error?console.error(y):console.warn?console.warn(y):console.log(y))},f.i=function(m,p){(!m||f.FORCE_GLOBAL_TAG)&&(m=f.GLOBAL_TAG);var y="["+m+"] > "+p;f.ENABLE_CALLBACK&&f.emitter.emit("log","info",y),f.ENABLE_INFO&&(console.info?console.info(y):console.log(y))},f.w=function(m,p){(!m||f.FORCE_GLOBAL_TAG)&&(m=f.GLOBAL_TAG);var y="["+m+"] > "+p;f.ENABLE_CALLBACK&&f.emitter.emit("log","warn",y),f.ENABLE_WARN&&(console.warn?console.warn(y):console.log(y))},f.d=function(m,p){(!m||f.FORCE_GLOBAL_TAG)&&(m=f.GLOBAL_TAG);var y="["+m+"] > "+p;f.ENABLE_CALLBACK&&f.emitter.emit("log","debug",y),f.ENABLE_DEBUG&&(console.debug?console.debug(y):console.log(y))},f.v=function(m,p){(!m||f.FORCE_GLOBAL_TAG)&&(m=f.GLOBAL_TAG);var y="["+m+"] > "+p;f.ENABLE_CALLBACK&&f.emitter.emit("log","verbose",y),f.ENABLE_VERBOSE&&console.log(y)},f}();u.GLOBAL_TAG="flv.js",u.FORCE_GLOBAL_TAG=!1,u.ENABLE_ERROR=!0,u.ENABLE_INFO=!0,u.ENABLE_WARN=!0,u.ENABLE_DEBUG=!0,u.ENABLE_VERBOSE=!0,u.ENABLE_CALLBACK=!1,u.emitter=new(c()),l.default=u},"./src/utils/logging-control.js":function(o,l,a){a.r(l);var d=a("./node_modules/events/events.js"),c=a.n(d),u=a("./src/utils/logger.js"),f=function(){function m(){}return Object.defineProperty(m,"forceGlobalTag",{get:function(){return u.default.FORCE_GLOBAL_TAG},set:function(p){u.default.FORCE_GLOBAL_TAG=p,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"globalTag",{get:function(){return u.default.GLOBAL_TAG},set:function(p){u.default.GLOBAL_TAG=p,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableAll",{get:function(){return u.default.ENABLE_VERBOSE&&u.default.ENABLE_DEBUG&&u.default.ENABLE_INFO&&u.default.ENABLE_WARN&&u.default.ENABLE_ERROR},set:function(p){u.default.ENABLE_VERBOSE=p,u.default.ENABLE_DEBUG=p,u.default.ENABLE_INFO=p,u.default.ENABLE_WARN=p,u.default.ENABLE_ERROR=p,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableDebug",{get:function(){return u.default.ENABLE_DEBUG},set:function(p){u.default.ENABLE_DEBUG=p,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableVerbose",{get:function(){return u.default.ENABLE_VERBOSE},set:function(p){u.default.ENABLE_VERBOSE=p,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableInfo",{get:function(){return u.default.ENABLE_INFO},set:function(p){u.default.ENABLE_INFO=p,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableWarn",{get:function(){return u.default.ENABLE_WARN},set:function(p){u.default.ENABLE_WARN=p,m._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(m,"enableError",{get:function(){return u.default.ENABLE_ERROR},set:function(p){u.default.ENABLE_ERROR=p,m._notifyChange()},enumerable:!1,configurable:!0}),m.getConfig=function(){return{globalTag:u.default.GLOBAL_TAG,forceGlobalTag:u.default.FORCE_GLOBAL_TAG,enableVerbose:u.default.ENABLE_VERBOSE,enableDebug:u.default.ENABLE_DEBUG,enableInfo:u.default.ENABLE_INFO,enableWarn:u.default.ENABLE_WARN,enableError:u.default.ENABLE_ERROR,enableCallback:u.default.ENABLE_CALLBACK}},m.applyConfig=function(p){u.default.GLOBAL_TAG=p.globalTag,u.default.FORCE_GLOBAL_TAG=p.forceGlobalTag,u.default.ENABLE_VERBOSE=p.enableVerbose,u.default.ENABLE_DEBUG=p.enableDebug,u.default.ENABLE_INFO=p.enableInfo,u.default.ENABLE_WARN=p.enableWarn,u.default.ENABLE_ERROR=p.enableError,u.default.ENABLE_CALLBACK=p.enableCallback},m._notifyChange=function(){var p=m.emitter;if(p.listenerCount("change")>0){var y=m.getConfig();p.emit("change",y)}},m.registerListener=function(p){m.emitter.addListener("change",p)},m.removeListener=function(p){m.emitter.removeListener("change",p)},m.addLogListener=function(p){u.default.emitter.addListener("log",p),u.default.emitter.listenerCount("log")>0&&(u.default.ENABLE_CALLBACK=!0,m._notifyChange())},m.removeLogListener=function(p){u.default.emitter.removeListener("log",p),u.default.emitter.listenerCount("log")===0&&(u.default.ENABLE_CALLBACK=!1,m._notifyChange())},m}();f.emitter=new(c()),l.default=f},"./src/utils/polyfill.js":function(o,l,a){a.r(l);var d=function(){function c(){}return c.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u},Object.assign=Object.assign||function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(u),m=1;m<arguments.length;m++){var p=arguments[m];if(p!=null)for(var y in p)p.hasOwnProperty(y)&&(f[y]=p[y])}return f},typeof self.Promise!="function"&&a("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},c}();d.install(),l.default=d},"./src/utils/utf8-conv.js":function(o,l,a){a.r(l);function d(u,f,m){var p=u;if(f+m<p.length){for(;m--;)if((p[++f]&192)!==128)return!1;return!0}else return!1}function c(u){for(var f=[],m=u,p=0,y=u.length;p<y;){if(m[p]<128){f.push(String.fromCharCode(m[p])),++p;continue}else if(!(m[p]<192)){if(m[p]<224){if(d(m,p,1)){var E=(m[p]&31)<<6|m[p+1]&63;if(E>=128){f.push(String.fromCharCode(E&65535)),p+=2;continue}}}else if(m[p]<240){if(d(m,p,2)){var E=(m[p]&15)<<12|(m[p+1]&63)<<6|m[p+2]&63;if(E>=2048&&(E&63488)!==55296){f.push(String.fromCharCode(E&65535)),p+=3;continue}}}else if(m[p]<248&&d(m,p,3)){var E=(m[p]&7)<<18|(m[p+1]&63)<<12|(m[p+2]&63)<<6|m[p+3]&63;if(E>65536&&E<1114112){E-=65536,f.push(String.fromCharCode(E>>>10|55296)),f.push(String.fromCharCode(E&1023|56320)),p+=4;continue}}}f.push("�"),++p}return f.join("")}l.default=c}},r={};function s(o){var l=r[o];if(l!==void 0)return l.exports;var a=r[o]={exports:{}};return n[o].call(a.exports,a,a.exports,s),a.exports}s.m=n,function(){s.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(l,{a:l}),l}}(),function(){s.d=function(o,l){for(var a in l)s.o(l,a)&&!s.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:l[a]})}}(),function(){s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){s.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)}}(),function(){s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}();var i=s("./src/index.js");return i}()})}($i)),$i.exports}var Lt=o3();const au=qf(Lt);class a3 extends Lt.BaseLoader{static isSupported(){try{return typeof self.WebSocket<"u"}catch{return!1}}constructor(){super("socket-io-loader"),this.TAG="SocketIOLoader",this._needStash=!0,this._socket=null,this._dataConfig=null,this._requestAbort=!1,this._receivedLength=0,this._onDataArrival=null,this._flvHeaderPatched=!1}destroy(){this._socket&&this.abort(),super.destroy()}open(t){this._dataConfig=t,this._flvHeaderPatched=!1;try{this._socket=t.url.socket,this._socket.on("flv_data",n=>{this._onWebSocketMessage({data:n})}),this._socket.emit(te.JOIN_ROOM,{roomName:t.url.roomName}),this._socket.emit(te.GET_SCREEN_STREAM_HEADER),this._status=Lt.LoaderStatus.kConnecting}catch(n){this._status=Lt.LoaderStatus.kError;let r={code:n.code,msg:n.message};this._onError?this._onError(Lt.LoaderErrors.EXCEPTION,r):console.error(r.msg)}}abort(){this._socket.emit(te.LEAVE_ROOM,{roomName:this._dataConfig.url.roomName}),this._status=Lt.LoaderStatus.kComplete}_onWebSocketOpen(t){this._status=Lt.LoaderStatus.kBuffering}_onWebSocketClose(t){if(this._requestAbort===!0){this._requestAbort=!1;return}this._status=Lt.LoaderStatus.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)}_onWebSocketMessage(t){if(t.data instanceof ArrayBuffer)this._dispatchArrayBuffer(t.data);else if(t.data instanceof Blob){let n=new FileReader;n.onload=()=>{this._dispatchArrayBuffer(n.result)},n.readAsArrayBuffer(t.data)}else{this._status=Lt.LoaderStatus.kError;let n={code:-1,msg:"Unsupported WebSocket message type: "+t.data.constructor.name};this._onError?this._onError(Lt.LoaderErrors.EXCEPTION,n):console.error(n.msg)}}_dispatchArrayBuffer(t){let n=t,r=this._receivedLength;this._receivedLength+=n.byteLength,this._onDataArrival&&this._onDataArrival(n,r,this._receivedLength)}_onWebSocketError(t){this._status=Lt.LoaderStatus.kError;let n={code:t.code,msg:t.message};this._onError?this._onError(Lt.LoaderErrors.EXCEPTION,n):console.error(n.msg)}}const l3={__name:"index",setup(e){const t=lt(),n=z(null);let r=null;return Xe(()=>{if(au.isSupported()){r=au.createPlayer({type:"flv",isLive:!0,hasAudio:!1,url:{socket:t,roomName:"screenlive"}},{enableStashBuffer:!1,lazyLoad:!1,autoCleanupSourceBuffer:!0,debug:!0,enableWorker:!1,stashInitialSize:128,customLoader:a3}),r.attachMediaElement(n.value),r.load();try{r.play()}catch(s){console.error("播放错误:",s)}}}),zs(()=>{r&&(r.pause(),r.unload(),r.destroy())}),(s,i)=>($(),j("div",null,[I("video",{ref_key:"videoPlayer",ref:n,controls:"",autoplay:"",style:{width:"100%"}},null,512)]))}},u3=["src"],c3={__name:"index",setup(e){const t=lt(),n=z(!1),r=z(null),s=z([]);return Xe(()=>{t.emit(te.WINDOW_LIST),t.on(te.WINDOW_LIST,i=>{s.value=i}),t.on(te.WINDOW_IMG,i=>{const o=new Blob([i]);r.value=URL.createObjectURL(o),n.value=!0})}),On(()=>{t.off(te.WINDOW_LIST),t.off(te.WINDOW_IMG)}),(i,o)=>{const l=Xs;return $(),j(Se,null,[($(!0),j(Se,null,st(s.value,a=>Je(($(),Pe(l,{key:a.id,onClick:d=>!a.isMinimized&&ee(t).emit(ee(te).WINDOW_IMG,a.id),title:a.title,desc:"点击查看截图"},null,8,["onClick","title"])),[[rn,!a.isMinimized&&a.title]])),128)),oe(es,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),title:"窗口截屏","max-height":"60vh"},{default:Ee(()=>[I("img",{src:r.value,alt:"预览图片",style:{width:"100%"}},null,8,u3)]),_:1},8,["modelValue"])],64)}}},f3={class:"upload-container"},d3={__name:"index",setup(e){const t=lt(),n=async r=>{if(r.length>0)for(let s=0;s<r.length;s++)t.handleUpload(r[s]);return r};return(r,s)=>{const i=qt,o=sf,l=Xs,a=Uo;return $(),j("div",f3,[oe(o,{"auto-upload":!1,"before-upload":n,multiple:""},{default:Ee(()=>[oe(i,{icon:"plus",type:"success"},{icon:Ee(()=>[oe(ee(Vc))]),default:Ee(()=>[s[0]||(s[0]=Ue("上传文件 "))]),_:1})]),_:1}),($(!0),j(Se,null,st(Object.values(ee(t).uploadFiles),d=>($(),j("div",{key:d.id,class:"file-item"},[oe(l,{title:d.name,desc:`${d.progress}%`},null,8,["title","desc"]),oe(a,{percentage:d.progress,"stroke-width":"4"},null,8,["percentage"])]))),128))])}}},h3=ot(d3,[["__scopeId","data-v-b0f24009"]]),Wn=Zr("chat",()=>{const e=z(null),t=z({}),n=z([]),r=l=>{e.value=l},s=l=>{const a={id:Date.now(),sender:"me",...l,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};if(o(e.value.id,a),e.value){const d=n.value.find(c=>c.id===e.value.id);d&&(d.lastMessage=l.content,d.time="刚刚")}},i=l=>{const a={id:Date.now(),sender:"received",...l,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};o(l.form,a)},o=(l,a)=>{t.value[l]||(t.value[l]=[]),t.value[l].push(a)};return{currentChat:e,messages:t,clients:n,setCurrentChat:r,addMessage:i,sendMessage:s}}),p3={key:0,class:"chat-window"},_3={key:0,class:"message-content"},m3=["onClick"],v3={class:"message-time"},g3={class:"input-area"},y3={__name:"Chat",setup(e){const t=Wn(),n=z(""),r=z(null),s=lt(),i=li();Xe(()=>{t.currentChat||i.back(),l()});const o=()=>{n.value.trim()&&(t.sendMessage({content:n.value,msgType:"txt"}),s.emit("chat-message",{to:t.currentChat.id,content:n.value}),n.value="",l())},l=()=>{Dt(()=>{r.value&&(r.value.scrollTop=r.value.scrollHeight)})};Me(t.messages,()=>{l()});const a=async c=>{if(c.length>0)for(let u=0;u<c.length;u++)s.handleUpload(c[u],t.currentChat.id);return c},d=c=>{const u=document.createElement("a");u.href=`/downloadFile?fileId=${c.fileId}`,document.body.appendChild(u),u.click(),document.body.removeChild(u)};return(c,u)=>{const f=qt,m=sf,p=ti;return ee(t).currentChat?($(),j("div",p3,[I("div",{class:"message-list",ref_key:"messageList",ref:r},[($(!0),j(Se,null,st(ee(t).messages[ee(t).currentChat.id],y=>($(),j("div",{key:y.id,class:xe(["message",y.sender==="me"?"sent":"received"])},[y.msgType==="txt"?($(),j("div",_3,pe(y.content),1)):fe("",!0),y.msgType==="file"?($(),j("div",{key:1,class:"message-content",onClick:E=>d(y)},pe(y.fileName),9,m3)):fe("",!0),I("div",v3,pe(y.time),1)],2))),128))],512),I("div",g3,[oe(p,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=y=>n.value=y),placeholder:"输入消息...",onKeyup:g0(o,["enter"]),clearable:""},{left:Ee(()=>[oe(m,{"auto-upload":!1,"before-upload":a,multiple:""},{default:Ee(()=>[oe(f,{icon:"plus",type:"success"},{icon:Ee(()=>[oe(ee(Vc))]),_:1})]),_:1})]),right:Ee(()=>[oe(f,{type:"primary",onClick:o},{default:Ee(()=>u[1]||(u[1]=[Ue("发送")])),_:1})]),_:1},8,["modelValue"])])])):fe("",!0)}}},b3=ot(y3,[["__scopeId","data-v-5d92f3f3"]]),E3={__name:"ChatList",setup(e){const t=li(),n=Wn(),r=lt(),s=i=>{n.setCurrentChat(i),t.push("/chat")};return(i,o)=>{const l=Xs;return $(!0),j(Se,null,st(ee(n).clients,a=>{var d;return $(),j(Se,{key:a.id},[a.id!==((d=ee(r).socket)==null?void 0:d.id)?($(),Pe(l,{key:0,size:"large",title:(a.name||a.userAgent.device.model||a.userAgent.os.name)+" "+a.clientIp,onClick:c=>s(a)},null,8,["title","onClick"])):fe("",!0)],64)}),128)}}},x3=ot(E3,[["__scopeId","data-v-087418e0"]]);var ws={exports:{}},S3=ws.exports,lu;function w3(){return lu||(lu=1,function(e,t){(function(n,r){e.exports=r()})(S3,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",o="second",l="minute",a="hour",d="day",c="week",u="month",f="quarter",m="year",p="date",y="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var M=["th","st","nd","rd"],D=A%100;return"["+A+(M[(D-20)%10]||M[D]||M[0])+"]"}},g=function(A,M,D){var N=String(A);return!N||N.length>=M?A:""+Array(M+1-N.length).join(D)+A},b={s:g,z:function(A){var M=-A.utcOffset(),D=Math.abs(M),N=Math.floor(D/60),U=D%60;return(M<=0?"+":"-")+g(N,2,"0")+":"+g(U,2,"0")},m:function A(M,D){if(M.date()<D.date())return-A(D,M);var N=12*(D.year()-M.year())+(D.month()-M.month()),U=M.clone().add(N,u),J=D-U<0,q=M.clone().add(N+(J?-1:1),u);return+(-(N+(D-U)/(J?U-q:q-U))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:u,y:m,w:c,d,D:p,h:a,m:l,s:o,ms:i,Q:f}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},v="en",x={};x[v]=h;var S="$isDayjsObject",O=function(A){return A instanceof w||!(!A||!A[S])},T=function A(M,D,N){var U;if(!M)return v;if(typeof M=="string"){var J=M.toLowerCase();x[J]&&(U=J),D&&(x[J]=D,U=J);var q=M.split("-");if(!U&&q.length>1)return A(q[0])}else{var le=M.name;x[le]=M,U=le}return!N&&U&&(v=U),U||!N&&v},P=function(A,M){if(O(A))return A.clone();var D=typeof M=="object"?M:{};return D.date=A,D.args=arguments,new w(D)},C=b;C.l=T,C.i=O,C.w=function(A,M){return P(A,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var w=function(){function A(D){this.$L=T(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[S]=!0}var M=A.prototype;return M.parse=function(D){this.$d=function(N){var U=N.date,J=N.utc;if(U===null)return new Date(NaN);if(C.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var q=U.match(E);if(q){var le=q[2]-1||0,de=(q[7]||"0").substring(0,3);return J?new Date(Date.UTC(q[1],le,q[3]||1,q[4]||0,q[5]||0,q[6]||0,de)):new Date(q[1],le,q[3]||1,q[4]||0,q[5]||0,q[6]||0,de)}}return new Date(U)}(D),this.init()},M.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},M.$utils=function(){return C},M.isValid=function(){return this.$d.toString()!==y},M.isSame=function(D,N){var U=P(D);return this.startOf(N)<=U&&U<=this.endOf(N)},M.isAfter=function(D,N){return P(D)<this.startOf(N)},M.isBefore=function(D,N){return this.endOf(N)<P(D)},M.$g=function(D,N,U){return C.u(D)?this[N]:this.set(U,D)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(D,N){var U=this,J=!!C.u(N)||N,q=C.p(D),le=function(Y,ne){var Oe=C.w(U.$u?Date.UTC(U.$y,ne,Y):new Date(U.$y,ne,Y),U);return J?Oe:Oe.endOf(d)},de=function(Y,ne){return C.w(U.toDate()[Y].apply(U.toDate("s"),(J?[0,0,0,0]:[23,59,59,999]).slice(ne)),U)},ce=this.$W,ve=this.$M,je=this.$D,Ce="set"+(this.$u?"UTC":"");switch(q){case m:return J?le(1,0):le(31,11);case u:return J?le(1,ve):le(0,ve+1);case c:var F=this.$locale().weekStart||0,re=(ce<F?ce+7:ce)-F;return le(J?je-re:je+(6-re),ve);case d:case p:return de(Ce+"Hours",0);case a:return de(Ce+"Minutes",1);case l:return de(Ce+"Seconds",2);case o:return de(Ce+"Milliseconds",3);default:return this.clone()}},M.endOf=function(D){return this.startOf(D,!1)},M.$set=function(D,N){var U,J=C.p(D),q="set"+(this.$u?"UTC":""),le=(U={},U[d]=q+"Date",U[p]=q+"Date",U[u]=q+"Month",U[m]=q+"FullYear",U[a]=q+"Hours",U[l]=q+"Minutes",U[o]=q+"Seconds",U[i]=q+"Milliseconds",U)[J],de=J===d?this.$D+(N-this.$W):N;if(J===u||J===m){var ce=this.clone().set(p,1);ce.$d[le](de),ce.init(),this.$d=ce.set(p,Math.min(this.$D,ce.daysInMonth())).$d}else le&&this.$d[le](de);return this.init(),this},M.set=function(D,N){return this.clone().$set(D,N)},M.get=function(D){return this[C.p(D)]()},M.add=function(D,N){var U,J=this;D=Number(D);var q=C.p(N),le=function(ve){var je=P(J);return C.w(je.date(je.date()+Math.round(ve*D)),J)};if(q===u)return this.set(u,this.$M+D);if(q===m)return this.set(m,this.$y+D);if(q===d)return le(1);if(q===c)return le(7);var de=(U={},U[l]=r,U[a]=s,U[o]=n,U)[q]||1,ce=this.$d.getTime()+D*de;return C.w(ce,this)},M.subtract=function(D,N){return this.add(-1*D,N)},M.format=function(D){var N=this,U=this.$locale();if(!this.isValid())return U.invalidDate||y;var J=D||"YYYY-MM-DDTHH:mm:ssZ",q=C.z(this),le=this.$H,de=this.$m,ce=this.$M,ve=U.weekdays,je=U.months,Ce=U.meridiem,F=function(ne,Oe,k,R){return ne&&(ne[Oe]||ne(N,J))||k[Oe].slice(0,R)},re=function(ne){return C.s(le%12||12,ne,"0")},Y=Ce||function(ne,Oe,k){var R=ne<12?"AM":"PM";return k?R.toLowerCase():R};return J.replace(_,function(ne,Oe){return Oe||function(k){switch(k){case"YY":return String(N.$y).slice(-2);case"YYYY":return C.s(N.$y,4,"0");case"M":return ce+1;case"MM":return C.s(ce+1,2,"0");case"MMM":return F(U.monthsShort,ce,je,3);case"MMMM":return F(je,ce);case"D":return N.$D;case"DD":return C.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return F(U.weekdaysMin,N.$W,ve,2);case"ddd":return F(U.weekdaysShort,N.$W,ve,3);case"dddd":return ve[N.$W];case"H":return String(le);case"HH":return C.s(le,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return Y(le,de,!0);case"A":return Y(le,de,!1);case"m":return String(de);case"mm":return C.s(de,2,"0");case"s":return String(N.$s);case"ss":return C.s(N.$s,2,"0");case"SSS":return C.s(N.$ms,3,"0");case"Z":return q}return null}(ne)||q.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(D,N,U){var J,q=this,le=C.p(N),de=P(D),ce=(de.utcOffset()-this.utcOffset())*r,ve=this-de,je=function(){return C.m(q,de)};switch(le){case m:J=je()/12;break;case u:J=je();break;case f:J=je()/3;break;case c:J=(ve-ce)/6048e5;break;case d:J=(ve-ce)/864e5;break;case a:J=ve/s;break;case l:J=ve/r;break;case o:J=ve/n;break;default:J=ve}return U?J:C.a(J)},M.daysInMonth=function(){return this.endOf(u).$D},M.$locale=function(){return x[this.$L]},M.locale=function(D,N){if(!D)return this.$L;var U=this.clone(),J=T(D,N,!0);return J&&(U.$L=J),U},M.clone=function(){return C.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},A}(),L=w.prototype;return P.prototype=L,[["$ms",i],["$s",o],["$m",l],["$H",a],["$W",d],["$M",u],["$y",m],["$D",p]].forEach(function(A){L[A[1]]=function(M){return this.$g(M,A[0],A[1])}}),P.extend=function(A,M){return A.$i||(A(M,w,P),A.$i=!0),P},P.locale=T,P.isDayjs=O,P.unix=function(A){return P(1e3*A)},P.en=x[v],P.Ls=x,P.p={},P})}(ws)),ws.exports}var C3=w3();const uu=qf(C3),O3={class:"mobile-list"},L3={key:0,class:"item-content"},A3={class:"item-info"},T3={class:"item-actions"},R3=["onClick"],P3=["onClick"],k3=["onClick"],D3={__name:"index",setup(e){const t=ui(),n=lt(),r=z([]),s=z(!1),i=z(null),o=z(new Date),l=z(!1);Xe(()=>{n.on(te.SCHEDULE_GET,m=>{r.value=m}),a()});const a=()=>{n.emit(te.SCHEDULE_GET)},d=m=>{i.value=m,s.value=!0},c=m=>{n.emit(te.SCHEDULE_DELETE,m)},u=()=>{s.value=!1,n.emit(te.SCHEDULE_ADD,i.value),i.value={}},f=()=>{i.value.cron=uu(o.value).format("YYYY-MM-DD HH:mm:ss"),l.value=!1};return(m,p)=>{const y=qt,E=ti,_=Av,h=Qs,g=Xm,b=Zs;return $(),j(Se,null,[oe(es,{modelValue:s.value,"onUpdate:modelValue":p[6]||(p[6]=v=>s.value=v),title:"任务计划"},{default:Ee(()=>[oe(E,{modelValue:i.value.cron,"onUpdate:modelValue":p[1]||(p[1]=v=>i.value.cron=v),placeholder:"执行时间/cron 30 * * * * *",clearable:""},{right:Ee(()=>[oe(y,{type:"primary",size:"small",onClick:p[0]||(p[0]=v=>l.value=!0)},{default:Ee(()=>p[8]||(p[8]=[Ue("时间")])),_:1})]),_:1},8,["modelValue"]),oe(h,{visible:l.value,"onUpdate:visible":p[3]||(p[3]=v=>l.value=v),position:"bottom"},{default:Ee(()=>[oe(_,{type:"datetime",modelValue:o.value,"onUpdate:modelValue":p[2]||(p[2]=v=>o.value=v),"min-date":new Date,"max-date":ee(uu)().add(1,"month").toDate(),onConfirm:f},null,8,["modelValue","min-date","max-date"])]),_:1},8,["visible"]),oe(g,{modelValue:i.value.runOnCreate,"onUpdate:modelValue":p[4]||(p[4]=v=>i.value.runOnCreate=v)},{default:Ee(()=>p[9]||(p[9]=[Ue("提交后运行")])),_:1},8,["modelValue"]),oe(g,{modelValue:i.value.runOnStart,"onUpdate:modelValue":p[5]||(p[5]=v=>i.value.runOnStart=v)},{default:Ee(()=>p[10]||(p[10]=[Ue("程序启动运行")])),_:1},8,["modelValue"]),oe(Yf,{event:i.value,ok:u},null,8,["event"])]),_:1},8,["modelValue"]),I("div",O3,[($(!0),j(Se,null,st(r.value,(v,x)=>{var S;return $(),j("div",{key:x,class:"list-item"},[v?($(),j("div",L3,[I("div",{class:"color-block",style:_e({backgroundColor:v.hasJob?v.color:"#c2c1c1"})},null,4),I("div",A3,[I("h3",null,pe(v.name),1),I("p",null,pe((S=v.events)==null?void 0:S.length)+" 个事件",1)])])):fe("",!0),I("div",T3,[I("button",{class:"btn edit",onClick:O=>ee(n).emit(ee(te).SCHEDULE_TOGGLE_JOB,v.id)},pe(v.hasJob?"停止":"运行"),9,R3),I("button",{class:"btn edit",onClick:O=>d(v)},"编辑",8,P3),I("button",{class:"btn delete",onClick:O=>c(v.id)},"删除",8,k3)])])}),128))]),oe(b,{position:"bottom"},{default:Ee(()=>[oe(y,{block:"",type:"primary",onClick:p[7]||(p[7]=v=>{i.value=ee(t).defaultSchedule(),s.value=!0})},{default:Ee(()=>p[11]||(p[11]=[Ue(" 添加任务计划 ")])),_:1})]),_:1})],64)}}},I3=ot(D3,[["__scopeId","data-v-b582f801"]]),M3="/assets/logo-QLc-8JN2.svg",N3={class:"game-container"},$3={key:0,id:"top"},B3={key:2,class:"core-selector"},F3=["value"],U3={key:3,id:"display"},j3=ht({__name:"index",setup(e){const t=z(!1),n=z(null),r=z(""),s=z(!1),i=z(!1),o={"Nintendo 64":"n64","Nintendo Game Boy":"gb","Nintendo Game Boy Advance":"gba","Nintendo DS":"nds","Nintendo Entertainment System":"nes","Super Nintendo Entertainment System":"snes",PlayStation:"psx","Virtual Boy":"vb","Sega Mega Drive":"segaMD","Sega Master System":"segaMS","Sega CD":"segaCD","Atari Lynx":"lynx","Sega 32X":"sega32x","Atari Jaguar":"jaguar","Sega Game Gear":"segaGG","Sega Saturn":"segaSaturn","Atari 7800":"atari7800","Atari 2600":"atari2600",Arcade:"arcade","NEC TurboGrafx-16/SuperGrafx/PC Engine":"pce","NEC PC-FX":"pcfx","SNK NeoGeo Pocket (Color)":"ngp","Bandai WonderSwan (Color)":"ws",ColecoVision:"coleco","Commodore 64":"vice_x64sc","Commodore 128":"vice_x128","Commodore VIC20":"vice_xvic","Commodore Plus/4":"vice_xplus4","Commodore PET":"vice_xpet"},l=ae(()=>Object.keys(o).sort().reduce((h,g)=>(h[g]=o[g],h),{})),a={nes:["fds","nes","unif","unf"],snes:["smc","fig","sfc","gd3","gd7","dx2","bsx","swc"],n64:["z64","n64"],pce:["pce"],ngp:["ngc","ngp"],ws:["ws"],coleco:["col","vn"],vice_x64sc:["d64"],ext:["nds","gba","gb","z64","n64"]},d=z(!1),c=z(!1);Xe(()=>{const h=new URLSearchParams(window.location.search);d.value=h.get("debug")==="1",c.value=h.get("threads")==="1"&&!!window.SharedArrayBuffer});function u(){t.value=!0}function f(){t.value=!1}function m(h){var b;t.value=!1;const g=(b=h.dataTransfer)==null?void 0:b.files;g&&g[0]&&y(g[0])}function p(h){const g=h.target;g.files&&g.files[0]&&y(g.files[0])}async function y(h){var v;n.value=h;const g=((v=h.name.split(".").pop())==null?void 0:v.toLowerCase())||"",b=await E(g);b?(r.value=b,_()):s.value=!0}function E(h){for(const[g,b]of Object.entries(a))if(b.includes(h))return Promise.resolve(g);return new Promise(g=>{s.value=!0})}function _(){var b;i.value=!0,s.value=!1;const h=((b=n.value)==null?void 0:b.name.split(".").shift())||"";window.EJS_player="#game",window.EJS_gameName=h,window.EJS_language="zh-CN",window.EJS_biosUrl="",window.EJS_gameUrl=URL.createObjectURL(n.value),window.EJS_core=r.value,window.EJS_pathtodata="https://cdn.emulatorjs.org/stable/data/",window.EJS_startOnLoaded=!0,window.EJS_DEBUG_XX=d.value,window.EJS_disableDatabases=!0,window.EJS_threads=c.value;const g=document.createElement("script");g.src="https://cdn.emulatorjs.org/stable/data/loader.js",document.body.appendChild(g)}return(h,g)=>($(),j("div",N3,[i.value?fe("",!0):($(),j("div",$3,g[1]||(g[1]=[I("h1",null,"EmulatorJS Demo",-1),I("img",{src:M3,alt:"Logo",class:"logo"},null,-1)]))),i.value?fe("",!0):($(),j("div",{key:1,id:"box",class:xe({drag:t.value}),onDragover:er(u,["prevent"]),onDragleave:f,onDrop:er(m,["prevent"])},[I("input",{type:"file",id:"input",onChange:p},null,32),g[2]||(g[2]=Ue(" Drag ROM file or click here "))],34)),s.value?($(),j("div",B3,[Je(I("select",{"onUpdate:modelValue":g[0]||(g[0]=b=>r.value=b)},[($(!0),j(Se,null,st(l.value,(b,v)=>($(),j("option",{key:b,value:b},pe(v),9,F3))),128))],512),[[Xi,r.value]]),I("button",{onClick:_},"Load game")])):fe("",!0),i.value?($(),j("div",U3,g[3]||(g[3]=[I("div",{id:"game"},null,-1)]))):fe("",!0)]))}}),V3=ot(j3,[["__scopeId","data-v-e3ee00fb"]]),Xo=Yy({history:Sy(),routes:[{path:"/",name:"首页",component:()=>z2(()=>import("./index-BD7Lggdt.js"),__vite__mapDeps([0,1]))},{path:"/mouse",name:"远程控制",component:i3},{path:"/screen-live",name:"屏幕监视",component:l3},{path:"/event-config",name:"我的指令",component:iE},{path:"/import-event",name:"导入指令",component:oE},{path:"/monitor-window",name:"窗口监控",component:c3},{path:"/transfer",name:"文件上传",component:h3},{path:"/chat",name:"消息互传",component:b3},{path:"/chatList",name:"在线列表",component:x3},{path:"/schedule",name:"任务计划",component:I3},{path:"/game",name:"EmulatorJS",component:V3}]}),lt=Zr("socket",()=>{const e=ui(),t=z(null),n=z(!1),r=$1("socket-token","ssss"),s=z(null),i=z(50),o=z(!1),l=z({}),{pause:a,resume:d,isActive:c}=pf((x,S)=>{s.value&&n.value?p(s.value.event,s.value.eventData):a()},i);function u(){var x,S,O,T,P,C;n.value||(t.value=Ss("",{autoConnect:!0,path:"/win-control.io",transports:["websocket"],auth:{token:r.value}}),t.value.on("connect",()=>{n.value=!0,o.value=!1}),t.value.on("disconnect",w=>{Dn.warn(w),n.value=!1}),t.value.on("error",w=>{Dn.warn(w)}),t.value.on("connect_error",w=>{var L;Dn.warn(w.message),((L=w==null?void 0:w.data)==null?void 0:L.code)===401&&(o.value=!0,t.value=null)}),t.value.on(te.RESPONSE,w=>{w.success?Xn.text(w.msg||w.event+"操作成功"):Dn.warn(w.msg||w.event+"操作失败")}),t.value.on(te.EVENTS_GET,w=>{e.customEvents=w}),(x=t.value)==null||x.on("client-list",w=>{const L=Wn();L.clients=Object.values(w)}),(S=t.value)==null||S.on("client-leave",w=>{const L=Wn();L.messages[w]&&delete L[w]}),(O=t.value)==null||O.on("chat-message",w=>{Dn.success(`收到消息${w.content||w.fileName}`);const{addMessage:L}=Wn();L(w)}),(T=t.value)==null||T.on(te.FILE_PROGRESS,({fileId:w,progress:L})=>{const A=l.value[w];A&&(A.progress=L),parseInt(L)===100&&p(te.FILE_END,{fileId:w})}),(P=t.value)==null||P.on(te.FILE_ACK,async({fileId:w})=>{var le;const L=l.value[w];if(!L)return;const{sendMessage:A,currentChat:M}=Wn();M&&A({fileId:w,fileName:L.file.name,to:M.id,sender:"me",msgType:"file"});const D=1024*1024*(((le=navigator.connection)==null?void 0:le.downlink)||10),N=L.file;L.offset===void 0&&(L.offset=0,L.chunkIndex=0,L.totalChunks=Math.ceil(N.size/D));const U=new FileReader,J=Math.min(L.offset+D,N.size);U.onload=de=>{p(te.FILE_CHUNK,{fileId:w,chunk:de.target.result,chunkIndex:L.chunkIndex,totalChunks:L.totalChunks,fileName:N.name,fileType:N.type}),L.offset=J,L.chunkIndex++,L.chunkIndex<L.totalChunks&&q(L.chunkIndex*D)},U.onerror=de=>{Xn.text(`文件[${w}]分片读取失败:`,de)};function q(de){const ce=N.slice(de,de+D);U.readAsArrayBuffer(ce)}q(0)}),(C=t.value)==null||C.on(te.FILE_COMPLETE,w=>{l.value[w].file=null,Xn.text("上传完成")}),t.value.on("reconnected",()=>{t.value.disconnect(),t.value=null,u()}))}function f(x,S){var O;(O=t.value)==null||O.on(x,S)}function m(x,S){var O;(O=t.value)==null||O.off(x)}function p(x,S){var O;(O=t.value)==null||O.emit(x,S)}function y(x,S){var O;(O=t.value)==null||O.once(x,S)}const E=x=>{x&&(r.value=x,u())},_=x=>{s.value={...x},d()},h=()=>{c&&(s.value=null,a())};function g(){var x;(x=t.value)==null||x.disconnect(),t.value=null}const b=(x,S)=>{if(W1(x))return;const O={id:vf(),name:x.name,size:x.size,file:x,to:S,progress:0};l.value[O.id]=O,p(te.FILE_START,{fileId:O.id,fileName:x.name,fileSize:x.size,to:S})},v=df(x=>{if(x.events)x.events.forEach(S=>{setTimeout(()=>{p(S.event,S.eventData)},S.delay||0)});else if(x.action)switch(x.action){case"router":Xo.push(x.toLink).then();break}else switch(x.name){case"A":p(te.KEYPRESS,{key:[72]});break;case"播放/暂停":p(te.KEYPRESS,{key:[109]});break;default:alert(x.name+"没有符合定义的事件");break}},100);return{socket:t,tokenExpire:o,isConnected:n,setToken:E,connect:u,disconnect:g,uploadFiles:l,handleUpload:b,on:f,off:m,emit:p,once:y,eventHandler:v,startIntervalPress:_,clearKeyEvent:h,intervalIsRun:c}}),Xf=Zr("keyboardStore",()=>{const e=lt(),t=z(null),n=z(null),r=z(!1),{pause:s,resume:i,isActive:o}=pf((u,f)=>{t.value&&e.isConnected?e.emit(t.value.event,t.value.eventData):s()},50);function l(u){e.emit(te.KEYPRESS,u)}function a(u){r.value&&(e.emit(te.KEY_TOGGLE,{...n.value,down:!1}),r.value=!1),u&&(n.value={...u},e.emit(te.KEY_TOGGLE,{...u,down:!0}),r.value=!0)}return{keypress:l,keyToggle:a,startIntervalPress:u=>{t.value={...u},i()},clearKeyEvent:()=>{o&&(t.value=null,s()),a(null)},intervalPressIsRun:o}}),H3=Zr("app",()=>{const e=z("PC-CSE"),t=z(!1),n=z(!0);Xo.beforeEach((a,d)=>(a.path=="/"||a.path=="/mouse"||a.path=="/game"?s():i(),e.value=a.name,!0));const r=a=>{a.value=a},s=()=>{t.value=!1},i=()=>{t.value=!0};return{title:e,navBarVisible:t,backVisible:n,hideNavBar:s,showNavBar:i,showBackBtn:()=>{n.value=!0},hideBackBtn:()=>{n.value=!0},setTitle:r}}),W3={key:2},K3={__name:"App",setup(e){const t=lt(),n=Xf(),r=H3(),s=li(),i=z("");Xe(()=>{t.connect(),j1(),xn(document,["mouseup","touchend","dragend"],()=>{n.clearKeyEvent()})});const o=()=>{s.back()};return(l,a)=>{const d=Jc,c=Zs,u=ft("RouterView"),f=ti,m=qt;return $(),j(Se,null,[ee(r).navBarVisible?($(),Pe(c,{key:0},{default:Ee(()=>[oe(d,{title:ee(r).title,"left-show":ee(r).backVisible,onClickBack:o},null,8,["title","left-show"])]),_:1})):fe("",!0),ee(t).isConnected?($(),Pe(u,{key:1})):($(),j("div",W3,[oe(es,{modelValue:ee(t).tokenExpire,"onUpdate:modelValue":a[2]||(a[2]=p=>ee(t).tokenExpire=p),title:"令牌无效","max-height":"60px"},{default:Ee(()=>[oe(f,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=p=>i.value=p),placeholder:"请输入令牌"},null,8,["modelValue"]),oe(m,{block:"",type:"primary",onClick:a[1]||(a[1]=p=>ee(t).setToken(i.value))},{default:Ee(()=>a[3]||(a[3]=[Ue("确认")])),_:1})]),_:1},8,["modelValue"]),a[4]||(a[4]=I("img",{src:_1,style:{width:"100%"}},null,-1))]))],64)}}},Jf=Bo(K3).use(Xo).use(K1());Jf.config.globalProperties.$message=Ns;Jf.mount("#app");export{te as C,Se as F,nt as K,ui as L,HE as V,ot as _,I as a,st as b,j as c,oe as d,Pe as e,fe as f,Yc as g,li as h,Xc as i,ee as j,zc as k,Ue as l,_e as n,$ as o,z as r,pe as t,lt as u,Ee as w};
